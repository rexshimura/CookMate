(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var em={exports:{}},El={};var p_;function vA(){if(p_)return El;p_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return El.Fragment=e,El.jsx=n,El.jsxs=n,El}var g_;function _A(){return g_||(g_=1,em.exports=vA()),em.exports}var T=_A(),y_={};const $0=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},EA=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},X0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=u>>2,b=(u&3)<<4|m>>4;let x=(m&15)<<2|y>>6,V=y&63;p||(V=64,f||(x=64)),s.push(n[E],n[b],n[x],n[V])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray($0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):EA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||b==null)throw new TA;const x=u<<2|m>>4;if(s.push(x),y!==64){const V=m<<4&240|y>>2;if(s.push(V),b!==64){const j=y<<6&192|b;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class TA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wA=function(r){const e=$0(r);return X0.encodeByteArray(e,!0)},sh=function(r){return wA(r).replace(/\./g,"")},J0=function(r){try{return X0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function bA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const AA=()=>bA().__FIREBASE_DEFAULTS__,SA=()=>{if(typeof process>"u"||typeof y_>"u")return;const r=y_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},RA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&J0(r[1]);return e&&JSON.parse(e)},Sh=()=>{try{return AA()||SA()||RA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},W0=r=>{var e,n;return(n=(e=Sh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},xA=r=>{const e=W0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Z0=()=>{var r;return(r=Sh())===null||r===void 0?void 0:r.config},eE=r=>{var e;return(e=Sh())===null||e===void 0?void 0:e[`_${r}`]};class CA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function IA(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[sh(JSON.stringify(n)),sh(JSON.stringify(f)),""].join(".")}function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function DA(){var r;const e=(r=Sh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function MA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function VA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kA(){const r=en();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function LA(){return!DA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function UA(){try{return typeof indexedDB=="object"}catch{return!1}}function PA(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}const jA="FirebaseError";class nr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=jA,Object.setPrototypeOf(this,nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xl.prototype.create)}}class Xl{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?zA(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new nr(o,m,s)}}function zA(r,e){return r.replace(BA,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const BA=/\{\$([^}]+)}/g;function qA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ah(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(v_(u)&&v_(f)){if(!ah(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function v_(r){return r!==null&&typeof r=="object"}function Jl(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Al(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Sl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function HA(r,e){const n=new FA(r,e);return n.subscribe.bind(n)}class FA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");GA(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=tm),o.error===void 0&&(o.error=tm),o.complete===void 0&&(o.complete=tm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GA(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function tm(){}function xt(r){return r&&r._delegate?r._delegate:r}class Fs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const js="[DEFAULT]";class KA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new CA;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e?.identifier),o=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(YA(e))try{this.getOrInitializeService({instanceIdentifier:js})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=js){return this.instances.has(e)}getOptions(e=js){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:QA(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=js){return this.component?this.component.multipleInstances?e:js:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QA(r){return r===js?void 0:r}function YA(r){return r.instantiationMode==="EAGER"}class $A{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new KA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ue;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ue||(Ue={}));const XA={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},JA=Ue.INFO,WA={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},ZA=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=WA[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $m{constructor(e){this.name=e,this._logLevel=JA,this._logHandler=ZA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const eS=(r,e)=>e.some(n=>r instanceof n);let __,E_;function tS(){return __||(__=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nS(){return E_||(E_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tE=new WeakMap,Tm=new WeakMap,nE=new WeakMap,nm=new WeakMap,Xm=new WeakMap;function iS(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Zr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&tE.set(n,r)}).catch(()=>{}),Xm.set(e,r),e}function rS(r){if(Tm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Tm.set(r,e)}let wm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Tm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||nE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function sS(r){wm=r(wm)}function aS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(im(this),e,...n);return nE.set(s,e.sort?e.sort():[e]),Zr(s)}:nS().includes(r)?function(...e){return r.apply(im(this),e),Zr(tE.get(this))}:function(...e){return Zr(r.apply(im(this),e))}}function oS(r){return typeof r=="function"?aS(r):(r instanceof IDBTransaction&&rS(r),eS(r,tS())?new Proxy(r,wm):r)}function Zr(r){if(r instanceof IDBRequest)return iS(r);if(nm.has(r))return nm.get(r);const e=oS(r);return e!==r&&(nm.set(r,e),Xm.set(e,r)),e}const im=r=>Xm.get(r);function lS(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Zr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Zr(f.result),p.oldVersion,p.newVersion,Zr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const uS=["get","getKey","getAll","getAllKeys","count"],cS=["put","add","delete","clear"],rm=new Map;function T_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(rm.get(e))return rm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=cS.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||uS.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return rm.set(e,u),u}sS(r=>({...r,get:(e,n,s)=>T_(e,n)||r.get(e,n,s),has:(e,n)=>!!T_(e,n)||r.has(e,n)}));class hS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(fS(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function fS(r){const e=r.getComponent();return e?.type==="VERSION"}const bm="@firebase/app",w_="0.10.13";const Ji=new $m("@firebase/app"),dS="@firebase/app-compat",mS="@firebase/analytics-compat",pS="@firebase/analytics",gS="@firebase/app-check-compat",yS="@firebase/app-check",vS="@firebase/auth",_S="@firebase/auth-compat",ES="@firebase/database",TS="@firebase/data-connect",wS="@firebase/database-compat",bS="@firebase/functions",AS="@firebase/functions-compat",SS="@firebase/installations",RS="@firebase/installations-compat",xS="@firebase/messaging",CS="@firebase/messaging-compat",IS="@firebase/performance",NS="@firebase/performance-compat",DS="@firebase/remote-config",OS="@firebase/remote-config-compat",MS="@firebase/storage",VS="@firebase/storage-compat",kS="@firebase/firestore",LS="@firebase/vertexai-preview",US="@firebase/firestore-compat",PS="firebase",jS="10.14.1";const Am="[DEFAULT]",zS={[bm]:"fire-core",[dS]:"fire-core-compat",[pS]:"fire-analytics",[mS]:"fire-analytics-compat",[yS]:"fire-app-check",[gS]:"fire-app-check-compat",[vS]:"fire-auth",[_S]:"fire-auth-compat",[ES]:"fire-rtdb",[TS]:"fire-data-connect",[wS]:"fire-rtdb-compat",[bS]:"fire-fn",[AS]:"fire-fn-compat",[SS]:"fire-iid",[RS]:"fire-iid-compat",[xS]:"fire-fcm",[CS]:"fire-fcm-compat",[IS]:"fire-perf",[NS]:"fire-perf-compat",[DS]:"fire-rc",[OS]:"fire-rc-compat",[MS]:"fire-gcs",[VS]:"fire-gcs-compat",[kS]:"fire-fst",[US]:"fire-fst-compat",[LS]:"fire-vertex","fire-js":"fire-js",[PS]:"fire-js-all"};const oh=new Map,BS=new Map,Sm=new Map;function b_(r,e){try{r.container.addComponent(e)}catch(n){Ji.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Wa(r){const e=r.name;if(Sm.has(e))return Ji.debug(`There were multiple attempts to register component ${e}.`),!1;Sm.set(e,r);for(const n of oh.values())b_(n,r);for(const n of BS.values())b_(n,r);return!0}function Jm(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function ci(r){return r.settings!==void 0}const qS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},es=new Xl("app","Firebase",qS);class HS{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw es.create("app-deleted",{appName:this._name})}}const uo=jS;function iE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Am,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw es.create("bad-app-name",{appName:String(o)});if(n||(n=Z0()),!n)throw es.create("no-options");const u=oh.get(o);if(u){if(ah(n,u.options)&&ah(s,u.config))return u;throw es.create("duplicate-app",{appName:o})}const f=new $A(o);for(const p of Sm.values())f.addComponent(p);const m=new HS(n,s,f);return oh.set(o,m),m}function rE(r=Am){const e=oh.get(r);if(!e&&r===Am&&Z0())return iE();if(!e)throw es.create("no-app",{appName:r});return e}function ts(r,e,n){var s;let o=(s=zS[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ji.warn(m.join(" "));return}Wa(new Fs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}const FS="firebase-heartbeat-database",GS=1,jl="firebase-heartbeat-store";let sm=null;function sE(){return sm||(sm=lS(FS,GS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(jl)}catch(n){console.warn(n)}}}}).catch(r=>{throw es.create("idb-open",{originalErrorMessage:r.message})})),sm}async function KS(r){try{const n=(await sE()).transaction(jl),s=await n.objectStore(jl).get(aE(r));return await n.done,s}catch(e){if(e instanceof nr)Ji.warn(e.message);else{const n=es.create("idb-get",{originalErrorMessage:e?.message});Ji.warn(n.message)}}}async function A_(r,e){try{const s=(await sE()).transaction(jl,"readwrite");await s.objectStore(jl).put(e,aE(r)),await s.done}catch(n){if(n instanceof nr)Ji.warn(n.message);else{const s=es.create("idb-set",{originalErrorMessage:n?.message});Ji.warn(s.message)}}}function aE(r){return`${r.name}!${r.options.appId}`}const QS=1024,YS=720*60*60*1e3;class $S{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new JS(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=S_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const m=new Date(f.date).valueOf();return Date.now()-m<=YS}),this._storage.overwrite(this._heartbeatsCache))}catch(s){Ji.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=S_(),{heartbeatsToSend:s,unsentEntries:o}=XS(this._heartbeatsCache.heartbeats),u=sh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Ji.warn(n),""}}}function S_(){return new Date().toISOString().substring(0,10)}function XS(r,e=QS){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),R_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),R_(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class JS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return UA()?PA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await KS(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return A_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return A_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function R_(r){return sh(JSON.stringify({version:2,heartbeats:r})).length}function WS(r){Wa(new Fs("platform-logger",e=>new hS(e),"PRIVATE")),Wa(new Fs("heartbeat",e=>new $S(e),"PRIVATE")),ts(bm,w_,r),ts(bm,w_,"esm2017"),ts("fire-js","")}WS("");var ZS="firebase",e1="10.14.1";ts(ZS,e1,"app");function Wm(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function oE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const t1=oE,lE=new Xl("auth","Firebase",oE());const lh=new $m("@firebase/auth");function n1(r,...e){lh.logLevel<=Ue.WARN&&lh.warn(`Auth (${uo}): ${r}`,...e)}function Qc(r,...e){lh.logLevel<=Ue.ERROR&&lh.error(`Auth (${uo}): ${r}`,...e)}function Yn(r,...e){throw Zm(r,...e)}function hi(r,...e){return Zm(r,...e)}function uE(r,e,n){const s=Object.assign(Object.assign({},t1()),{[e]:n});return new Xl("auth","Firebase",s).create(e,{appName:r.name})}function Yi(r){return uE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Zm(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return lE.create(r,...e)}function _e(r,e,...n){if(!r)throw Zm(e,...n)}function Gi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Qc(e),new Error(e)}function Wi(r,e){r||Gi(e)}function Rm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function i1(){return x_()==="http:"||x_()==="https:"}function x_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}function r1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(i1()||MA()||"connection"in navigator)?navigator.onLine:!0}function s1(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Wl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wi(n>e,"Short delay should be less than long delay!"),this.isMobile=NA()||VA()}get(){return r1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ep(r,e){Wi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class cE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const a1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const o1=new Wl(3e4,6e4);function as(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function ir(r,e,n,s,o={}){return hE(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=Jl(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:e,headers:p},u);return OA()||(y.referrerPolicy="no-referrer"),cE.fetch()(fE(r,r.config.apiHost,n,m),y)})}async function hE(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},a1),e);try{const o=new u1(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw zc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw zc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw zc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw zc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw uE(r,E,y);Yn(r,E)}}catch(o){if(o instanceof nr)throw o;Yn(r,"network-request-failed",{message:String(o)})}}async function Zl(r,e,n,s,o={}){const u=await ir(r,e,n,s,o);return"mfaPendingCredential"in u&&Yn(r,"multi-factor-auth-required",{_serverResponse:u}),u}function fE(r,e,n,s){const o=`${e}${n}?${s}`;return r.config.emulator?ep(r.config,o):`${r.config.apiScheme}://${o}`}function l1(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class u1{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(hi(this.auth,"network-request-failed")),o1.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function zc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=hi(r,e,s);return o.customData._tokenResponse=n,o}function C_(r){return r!==void 0&&r.enterprise!==void 0}class c1{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return l1(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function h1(r,e){return ir(r,"GET","/v2/recaptchaConfig",as(r,e))}async function f1(r,e){return ir(r,"POST","/v1/accounts:delete",e)}async function dE(r,e){return ir(r,"POST","/v1/accounts:lookup",e)}function Ol(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function d1(r,e=!1){const n=xt(r),s=await n.getIdToken(e),o=tp(s);_e(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Ol(am(o.auth_time)),issuedAtTime:Ol(am(o.iat)),expirationTime:Ol(am(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function am(r){return Number(r)*1e3}function tp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Qc("JWT malformed, contained fewer than 3 sections"),null;try{const o=J0(n);return o?JSON.parse(o):(Qc("Failed to decode base64 JWT payload"),null)}catch(o){return Qc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function I_(r){const e=tp(r);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Za(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof nr&&m1(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function m1({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class p1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class xm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ol(this.lastLoginAt),this.creationTime=Ol(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function uh(r){var e;const n=r.auth,s=await r.getIdToken(),o=await Za(r,dE(n,{idToken:s}));_e(o?.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?mE(u.providerUserInfo):[],m=y1(r.providerData,f),p=r.isAnonymous,y=!(r.email&&u.passwordHash)&&!m?.length,E=p?y:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new xm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,b)}async function g1(r){const e=xt(r);await uh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function y1(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function mE(r){return r.map(e=>{var{providerId:n}=e,s=Wm(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}async function v1(r,e){const n=await hE(r,{},async()=>{const s=Jl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=fE(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",cE.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function _1(r,e){return ir(r,"POST","/v2/accounts:revokeToken",as(r,e))}class Ya{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):I_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=I_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await v1(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Ya;return s&&(_e(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(_e(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(_e(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ya,this.toJSON())}_performRefresh(){return Gi("not implemented")}}function Qr(r,e){_e(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Ki{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=Wm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new p1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new xm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Za(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return d1(this,e)}reload(){return g1(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ki(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await uh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ci(this.auth.app))return Promise.reject(Yi(this.auth));const e=await this.getIdToken();return await Za(this,f1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,y,E;const b=(s=n.displayName)!==null&&s!==void 0?s:void 0,x=(o=n.email)!==null&&o!==void 0?o:void 0,V=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,j=(f=n.photoURL)!==null&&f!==void 0?f:void 0,K=(m=n.tenantId)!==null&&m!==void 0?m:void 0,q=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,W=(y=n.createdAt)!==null&&y!==void 0?y:void 0,ne=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:se,emailVerified:ye,isAnonymous:Ie,providerData:Ee,stsTokenManager:N}=n;_e(se&&N,e,"internal-error");const S=Ya.fromJSON(this.name,N);_e(typeof se=="string",e,"internal-error"),Qr(b,e.name),Qr(x,e.name),_e(typeof ye=="boolean",e,"internal-error"),_e(typeof Ie=="boolean",e,"internal-error"),Qr(V,e.name),Qr(j,e.name),Qr(K,e.name),Qr(q,e.name),Qr(W,e.name),Qr(ne,e.name);const R=new Ki({uid:se,auth:e,email:x,emailVerified:ye,displayName:b,isAnonymous:Ie,photoURL:j,phoneNumber:V,tenantId:K,stsTokenManager:S,createdAt:W,lastLoginAt:ne});return Ee&&Array.isArray(Ee)&&(R.providerData=Ee.map(O=>Object.assign({},O))),q&&(R._redirectEventId=q),R}static async _fromIdTokenResponse(e,n,s=!1){const o=new Ya;o.updateFromServerResponse(n);const u=new Ki({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await uh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];_e(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?mE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new Ya;m.updateFromIdToken(s);const p=new Ki({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new xm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,y),p}}const N_=new Map;function Qi(r){Wi(r instanceof Function,"Expected a class definition");let e=N_.get(r);return e?(Wi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,N_.set(r,e),e)}class pE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}pE.type="NONE";const D_=pE;function Yc(r,e,n){return`firebase:${r}:${e}:${n}`}class $a{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Yc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Yc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ki._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new $a(Qi(D_),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Qi(D_);const f=Yc(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){const b=Ki._fromJSON(e,E);y!==u&&(m=b),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new $a(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new $a(u,e,s))}}function O_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_E(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TE(e))return"Blackberry";if(wE(e))return"Webos";if(yE(e))return"Safari";if((e.includes("chrome/")||vE(e))&&!e.includes("edge/"))return"Chrome";if(EE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function gE(r=en()){return/firefox\//i.test(r)}function yE(r=en()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vE(r=en()){return/crios\//i.test(r)}function _E(r=en()){return/iemobile/i.test(r)}function EE(r=en()){return/android/i.test(r)}function TE(r=en()){return/blackberry/i.test(r)}function wE(r=en()){return/webos/i.test(r)}function np(r=en()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function E1(r=en()){var e;return np(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function T1(){return kA()&&document.documentMode===10}function bE(r=en()){return np(r)||EE(r)||wE(r)||TE(r)||/windows phone/i.test(r)||_E(r)}function AE(r,e=[]){let n;switch(r){case"Browser":n=O_(en());break;case"Worker":n=`${O_(en())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${uo}/${s}`}class w1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function b1(r,e={}){return ir(r,"GET","/v2/passwordPolicy",as(r,e))}const A1=6;class S1{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:A1,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class R1{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new M_(this),this.idTokenSubscription=new M_(this),this.beforeStateQueue=new w1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Qi(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await $a.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await dE(this,{idToken:e}),s=await Ki._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ci(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o?._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&p?.user&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await uh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=s1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ci(this.app))return Promise.reject(Yi(this));const n=e?xt(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ci(this.app)?Promise.reject(Yi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ci(this.app)?Promise.reject(Yi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await b1(this),n=new S1(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Xl("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await _1(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Qi(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await $a.create(this,[Qi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=AE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&n1(`Error while retrieving App Check token: ${n.error}`),n?.token}}function Xs(r){return xt(r)}class M_{constructor(e){this.auth=e,this.observer=null,this.addObserver=HA(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Rh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function x1(r){Rh=r}function SE(r){return Rh.loadJS(r)}function C1(){return Rh.recaptchaEnterpriseScript}function I1(){return Rh.gapiScript}function N1(r){return`__${r}${Math.floor(Math.random()*1e6)}`}const D1="recaptcha-enterprise",O1="NO_RECAPTCHA";class M1{constructor(e){this.type=D1,this.auth=Xs(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{h1(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new c1(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;C_(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(O1)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&C_(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=C1();p.length!==0&&(p+=m),SE(p).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function V_(r,e,n,s=!1){const o=new M1(r);let u;try{u=await o.verify(n)}catch{u=await o.verify(n,!0)}const f=Object.assign({},e);return s?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Cm(r,e,n,s){var o;if(!((o=r._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await V_(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await V_(r,e,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}function V1(r,e){const n=Jm(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ah(u,e??{}))return o;Yn(o,"already-initialized")}return n.initialize({options:e})}function k1(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Qi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function L1(r,e,n){const s=Xs(r);_e(s._canInitEmulator,s,"emulator-config-failed"),_e(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=RE(e),{host:f,port:m}=U1(e),p=m===null?"":`:${m}`;s.config.emulator={url:`${u}//${f}${p}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})}),P1()}function RE(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function U1(r){const e=RE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:k_(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:k_(f)}}}function k_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function P1(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class ip{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Gi("not implemented")}_getIdTokenResponse(e){return Gi("not implemented")}_linkToIdToken(e,n){return Gi("not implemented")}_getReauthenticationResolver(e){return Gi("not implemented")}}async function j1(r,e){return ir(r,"POST","/v1/accounts:signUp",e)}async function z1(r,e){return Zl(r,"POST","/v1/accounts:signInWithPassword",as(r,e))}async function B1(r,e){return Zl(r,"POST","/v1/accounts:signInWithEmailLink",as(r,e))}async function q1(r,e){return Zl(r,"POST","/v1/accounts:signInWithEmailLink",as(r,e))}class zl extends ip{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new zl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new zl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cm(e,n,"signInWithPassword",z1);case"emailLink":return B1(e,{email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cm(e,s,"signUpPassword",j1);case"emailLink":return q1(e,{idToken:n,email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Xa(r,e){return Zl(r,"POST","/v1/accounts:signInWithIdp",as(r,e))}const H1="http://localhost";class Gs extends ip{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Gs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Yn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=Wm(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Gs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Xa(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Xa(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xa(e,n)}buildRequest(){const e={requestUri:H1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Jl(n)}return e}}function F1(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function G1(r){const e=Al(Sl(r)).link,n=e?Al(Sl(e)).deep_link_id:null,s=Al(Sl(r)).deep_link_id;return(s?Al(Sl(s)).link:null)||s||n||e||r}class rp{constructor(e){var n,s,o,u,f,m;const p=Al(Sl(e)),y=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,b=F1((o=p.mode)!==null&&o!==void 0?o:null);_e(y&&E&&b,"argument-error"),this.apiKey=y,this.operation=b,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=G1(e);try{return new rp(n)}catch{return null}}}class co{constructor(){this.providerId=co.PROVIDER_ID}static credential(e,n){return zl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=rp.parseLink(n);return _e(s,"argument-error"),zl._fromEmailAndCode(e,s.code,s.tenantId)}}co.PROVIDER_ID="password";co.EMAIL_PASSWORD_SIGN_IN_METHOD="password";co.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class xE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class eu extends xE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Yr extends eu{constructor(){super("facebook.com")}static credential(e){return Gs._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yr.credential(e.oauthAccessToken)}catch{return null}}}Yr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yr.PROVIDER_ID="facebook.com";class $r extends eu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Gs._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return $r.credential(n,s)}catch{return null}}}$r.GOOGLE_SIGN_IN_METHOD="google.com";$r.PROVIDER_ID="google.com";class Xr extends eu{constructor(){super("github.com")}static credential(e){return Gs._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xr.credential(e.oauthAccessToken)}catch{return null}}}Xr.GITHUB_SIGN_IN_METHOD="github.com";Xr.PROVIDER_ID="github.com";class Jr extends eu{constructor(){super("twitter.com")}static credential(e,n){return Gs._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Jr.credential(n,s)}catch{return null}}}Jr.TWITTER_SIGN_IN_METHOD="twitter.com";Jr.PROVIDER_ID="twitter.com";async function K1(r,e){return Zl(r,"POST","/v1/accounts:signUp",as(r,e))}class Ks{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Ki._fromIdTokenResponse(e,s,o),f=L_(s);return new Ks({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=L_(s);return new Ks({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function L_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class ch extends nr{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,ch.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new ch(e,n,s,o)}}function CE(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ch._fromErrorAndOperation(r,u,e,s):u})}async function Q1(r,e,n=!1){const s=await Za(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Ks._forOperation(r,"link",s)}async function Y1(r,e,n=!1){const{auth:s}=r;if(ci(s.app))return Promise.reject(Yi(s));const o="reauthenticate";try{const u=await Za(r,CE(s,o,e,r),n);_e(u.idToken,s,"internal-error");const f=tp(u.idToken);_e(f,s,"internal-error");const{sub:m}=f;return _e(r.uid===m,s,"user-mismatch"),Ks._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Yn(s,"user-mismatch"),u}}async function IE(r,e,n=!1){if(ci(r.app))return Promise.reject(Yi(r));const s="signIn",o=await CE(r,s,e),u=await Ks._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function $1(r,e){return IE(Xs(r),e)}async function NE(r){const e=Xs(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function DE(r,e,n){if(ci(r.app))return Promise.reject(Yi(r));const s=Xs(r),f=await Cm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",K1).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&NE(r),p}),m=await Ks._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function OE(r,e,n){return ci(r.app)?Promise.reject(Yi(r)):$1(xt(r),co.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&NE(r),s})}async function X1(r,e){return ir(r,"POST","/v1/accounts:update",e)}async function ME(r,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=xt(r),u={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},f=await Za(s,X1(s.auth,u));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function J1(r,e,n,s){return xt(r).onIdTokenChanged(e,n,s)}function W1(r,e,n){return xt(r).beforeAuthStateChanged(e,n)}function Z1(r,e,n,s){return xt(r).onAuthStateChanged(e,n,s)}function eR(r){return xt(r).signOut()}const hh="__sak";class VE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hh,"1"),this.storage.removeItem(hh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const tR=1e3,nR=10;class kE extends VE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);T1()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,nR):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},tR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}kE.type="LOCAL";const iR=kE;class LE extends VE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}LE.type="SESSION";const UE=LE;function rR(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class xh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new xh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await rR(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xh.receivers=[];function sp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class sR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=sp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(b){const x=b;if(x.data.eventId===y)switch(x.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(x.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function fi(){return window}function aR(r){fi().location.href=r}function PE(){return typeof fi().WorkerGlobalScope<"u"&&typeof fi().importScripts=="function"}async function oR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lR(){var r;return((r=navigator?.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function uR(){return PE()?self:null}const jE="firebaseLocalStorageDb",cR=1,fh="firebaseLocalStorage",zE="fbase_key";class tu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ch(r,e){return r.transaction([fh],e?"readwrite":"readonly").objectStore(fh)}function hR(){const r=indexedDB.deleteDatabase(jE);return new tu(r).toPromise()}function Im(){const r=indexedDB.open(jE,cR);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(fh,{keyPath:zE})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(fh)?e(s):(s.close(),await hR(),e(await Im()))})})}async function U_(r,e,n){const s=Ch(r,!0).put({[zE]:e,value:n});return new tu(s).toPromise()}async function fR(r,e){const n=Ch(r,!1).get(e),s=await new tu(n).toPromise();return s===void 0?null:s.value}function P_(r,e){const n=Ch(r,!0).delete(e);return new tu(n).toPromise()}const dR=800,mR=3;class BE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Im(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>mR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return PE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xh._getInstance(uR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await oR(),!this.activeServiceWorker)return;this.sender=new sR(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||lR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Im();return await U_(e,hh,"1"),await P_(e,hh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>U_(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>fR(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>P_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Ch(o,!1).getAll();return new tu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}BE.type="LOCAL";const pR=BE;new Wl(3e4,6e4);function gR(r,e){return e?Qi(e):(_e(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class ap extends ip{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function yR(r){return IE(r.auth,new ap(r),r.bypassAuthState)}function vR(r){const{auth:e,user:n}=r;return _e(n,e,"internal-error"),Y1(n,new ap(r),r.bypassAuthState)}async function _R(r){const{auth:e,user:n}=r;return _e(n,e,"internal-error"),Q1(n,new ap(r),r.bypassAuthState)}class qE{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yR;case"linkViaPopup":case"linkViaRedirect":return _R;case"reauthViaPopup":case"reauthViaRedirect":return vR;default:Yn(this.auth,"internal-error")}}resolve(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ER=new Wl(2e3,1e4);class Qa extends qE{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Qa.currentPopupAction&&Qa.currentPopupAction.cancel(),Qa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){Wi(this.filter.length===1,"Popup operations only handle one event");const e=sp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ER.get())};e()}}Qa.currentPopupAction=null;const TR="pendingRedirect",$c=new Map;class wR extends qE{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=$c.get(this.auth._key());if(!e){try{const s=await bR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}$c.set(this.auth._key(),e)}return this.bypassAuthState||$c.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bR(r,e){const n=RR(e),s=SR(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function AR(r,e){$c.set(r._key(),e)}function SR(r){return Qi(r._redirectPersistence)}function RR(r){return Yc(TR,r.config.apiKey,r.name)}async function xR(r,e,n=!1){if(ci(r.app))return Promise.reject(Yi(r));const s=Xs(r),o=gR(s,e),f=await new wR(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const CR=600*1e3;class IR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!HE(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(hi(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=CR&&this.cachedEventUids.clear(),this.cachedEventUids.has(j_(e))}saveEventToCache(e){this.cachedEventUids.add(j_(e)),this.lastProcessedEventTime=Date.now()}}function j_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function HE({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function NR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HE(r);default:return!1}}async function DR(r,e={}){return ir(r,"GET","/v1/projects",e)}const OR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,MR=/^https?/;async function VR(r){if(r.config.emulator)return;const{authorizedDomains:e}=await DR(r);for(const n of e)try{if(kR(n))return}catch{}Yn(r,"unauthorized-domain")}function kR(r){const e=Rm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!MR.test(n))return!1;if(OR.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const LR=new Wl(3e4,6e4);function z_(){const r=fi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function UR(r){return new Promise((e,n)=>{var s,o,u;function f(){z_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{z_(),n(hi(r,"network-request-failed"))},timeout:LR.get()})}if(!((o=(s=fi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=fi().gapi)===null||u===void 0)&&u.load)f();else{const m=N1("iframefcb");return fi()[m]=()=>{gapi.load?f():n(hi(r,"network-request-failed"))},SE(`${I1()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw Xc=null,e})}let Xc=null;function PR(r){return Xc=Xc||UR(r),Xc}const jR=new Wl(5e3,15e3),zR="__/auth/iframe",BR="emulator/auth/iframe",qR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FR(r){const e=r.config;_e(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?ep(e,BR):`https://${r.config.authDomain}/${zR}`,s={apiKey:e.apiKey,appName:r.name,v:uo},o=HR.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Jl(s).slice(1)}`}async function GR(r){const e=await PR(r),n=fi().gapi;return _e(n,r,"internal-error"),e.open({where:document.body,url:FR(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qR,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=hi(r,"network-request-failed"),m=fi().setTimeout(()=>{u(f)},jR.get());function p(){fi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}const KR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QR=500,YR=600,$R="_blank",XR="http://localhost";class B_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function JR(r,e,n,s=QR,o=YR){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},KR),{width:s.toString(),height:o.toString(),top:u,left:f}),y=en().toLowerCase();n&&(m=vE(y)?$R:n),gE(y)&&(e=e||XR,p.scrollbars="yes");const E=Object.entries(p).reduce((x,[V,j])=>`${x}${V}=${j},`,"");if(E1(y)&&m!=="_self")return WR(e||"",m),new B_(null);const b=window.open(e||"",m,E);_e(b,r,"popup-blocked");try{b.focus()}catch{}return new B_(b)}function WR(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const ZR="__/auth/handler",ex="emulator/auth/handler",tx=encodeURIComponent("fac");async function q_(r,e,n,s,o,u){_e(r.config.authDomain,r,"auth-domain-config-required"),_e(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:uo,eventId:o};if(e instanceof xE){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",qA(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,b]of Object.entries({}))f[E]=b}if(e instanceof eu){const E=e.getScopes().filter(b=>b!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),y=p?`#${tx}=${encodeURIComponent(p)}`:"";return`${nx(r)}?${Jl(m).slice(1)}${y}`}function nx({config:r}){return r.emulator?ep(r,ex):`https://${r.authDomain}/${ZR}`}const om="webStorageSupport";class ix{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=UE,this._completeRedirectFn=xR,this._overrideRedirectResult=AR}async _openPopup(e,n,s,o){var u;Wi((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await q_(e,n,s,Rm(),o);return JR(e,f,sp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await q_(e,n,s,Rm(),o);return aR(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Wi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await GR(e),s=new IR(e);return n.register("authEvent",o=>(_e(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(om,{type:om},o=>{var u;const f=(u=o?.[0])===null||u===void 0?void 0:u[om];f!==void 0&&n(!!f),Yn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=VR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return bE()||yE()||np()}}const rx=ix;var H_="@firebase/auth",F_="1.7.9";class sx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ax(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ox(r){Wa(new Fs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;_e(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AE(r)},y=new R1(s,o,u,p);return k1(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Wa(new Fs("auth-internal",e=>{const n=Xs(e.getProvider("auth").getImmediate());return(s=>new sx(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ts(H_,F_,ax(r)),ts(H_,F_,"esm2017")}const lx=300,ux=eE("authIdTokenMaxAge")||lx;let G_=null;const cx=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>ux)return;const o=n?.token;G_!==o&&(G_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function hx(r=rE()){const e=Jm(r,"auth");if(e.isInitialized())return e.getImmediate();const n=V1(r,{popupRedirectResolver:rx,persistence:[pR,iR,UE]}),s=eE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=cx(u.toString());W1(n,f,()=>f(n.currentUser)),J1(n,m=>f(m))}}const o=W0("auth");return o&&L1(n,`http://${o}`),n}function fx(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}x1({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=hi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",fx().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ox("Browser");var K_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var qs,FE;(function(){var r;function e(N,S){function R(){}R.prototype=S.prototype,N.D=S.prototype,N.prototype=new R,N.prototype.constructor=N,N.C=function(O,k,U){for(var I=Array(arguments.length-2),de=2;de<arguments.length;de++)I[de-2]=arguments[de];return S.prototype[k].apply(O,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,S,R){R||(R=0);var O=Array(16);if(typeof S=="string")for(var k=0;16>k;++k)O[k]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(k=0;16>k;++k)O[k]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=N.g[0],R=N.g[1],k=N.g[2];var U=N.g[3],I=S+(U^R&(k^U))+O[0]+3614090360&4294967295;S=R+(I<<7&4294967295|I>>>25),I=U+(k^S&(R^k))+O[1]+3905402710&4294967295,U=S+(I<<12&4294967295|I>>>20),I=k+(R^U&(S^R))+O[2]+606105819&4294967295,k=U+(I<<17&4294967295|I>>>15),I=R+(S^k&(U^S))+O[3]+3250441966&4294967295,R=k+(I<<22&4294967295|I>>>10),I=S+(U^R&(k^U))+O[4]+4118548399&4294967295,S=R+(I<<7&4294967295|I>>>25),I=U+(k^S&(R^k))+O[5]+1200080426&4294967295,U=S+(I<<12&4294967295|I>>>20),I=k+(R^U&(S^R))+O[6]+2821735955&4294967295,k=U+(I<<17&4294967295|I>>>15),I=R+(S^k&(U^S))+O[7]+4249261313&4294967295,R=k+(I<<22&4294967295|I>>>10),I=S+(U^R&(k^U))+O[8]+1770035416&4294967295,S=R+(I<<7&4294967295|I>>>25),I=U+(k^S&(R^k))+O[9]+2336552879&4294967295,U=S+(I<<12&4294967295|I>>>20),I=k+(R^U&(S^R))+O[10]+4294925233&4294967295,k=U+(I<<17&4294967295|I>>>15),I=R+(S^k&(U^S))+O[11]+2304563134&4294967295,R=k+(I<<22&4294967295|I>>>10),I=S+(U^R&(k^U))+O[12]+1804603682&4294967295,S=R+(I<<7&4294967295|I>>>25),I=U+(k^S&(R^k))+O[13]+4254626195&4294967295,U=S+(I<<12&4294967295|I>>>20),I=k+(R^U&(S^R))+O[14]+2792965006&4294967295,k=U+(I<<17&4294967295|I>>>15),I=R+(S^k&(U^S))+O[15]+1236535329&4294967295,R=k+(I<<22&4294967295|I>>>10),I=S+(k^U&(R^k))+O[1]+4129170786&4294967295,S=R+(I<<5&4294967295|I>>>27),I=U+(R^k&(S^R))+O[6]+3225465664&4294967295,U=S+(I<<9&4294967295|I>>>23),I=k+(S^R&(U^S))+O[11]+643717713&4294967295,k=U+(I<<14&4294967295|I>>>18),I=R+(U^S&(k^U))+O[0]+3921069994&4294967295,R=k+(I<<20&4294967295|I>>>12),I=S+(k^U&(R^k))+O[5]+3593408605&4294967295,S=R+(I<<5&4294967295|I>>>27),I=U+(R^k&(S^R))+O[10]+38016083&4294967295,U=S+(I<<9&4294967295|I>>>23),I=k+(S^R&(U^S))+O[15]+3634488961&4294967295,k=U+(I<<14&4294967295|I>>>18),I=R+(U^S&(k^U))+O[4]+3889429448&4294967295,R=k+(I<<20&4294967295|I>>>12),I=S+(k^U&(R^k))+O[9]+568446438&4294967295,S=R+(I<<5&4294967295|I>>>27),I=U+(R^k&(S^R))+O[14]+3275163606&4294967295,U=S+(I<<9&4294967295|I>>>23),I=k+(S^R&(U^S))+O[3]+4107603335&4294967295,k=U+(I<<14&4294967295|I>>>18),I=R+(U^S&(k^U))+O[8]+1163531501&4294967295,R=k+(I<<20&4294967295|I>>>12),I=S+(k^U&(R^k))+O[13]+2850285829&4294967295,S=R+(I<<5&4294967295|I>>>27),I=U+(R^k&(S^R))+O[2]+4243563512&4294967295,U=S+(I<<9&4294967295|I>>>23),I=k+(S^R&(U^S))+O[7]+1735328473&4294967295,k=U+(I<<14&4294967295|I>>>18),I=R+(U^S&(k^U))+O[12]+2368359562&4294967295,R=k+(I<<20&4294967295|I>>>12),I=S+(R^k^U)+O[5]+4294588738&4294967295,S=R+(I<<4&4294967295|I>>>28),I=U+(S^R^k)+O[8]+2272392833&4294967295,U=S+(I<<11&4294967295|I>>>21),I=k+(U^S^R)+O[11]+1839030562&4294967295,k=U+(I<<16&4294967295|I>>>16),I=R+(k^U^S)+O[14]+4259657740&4294967295,R=k+(I<<23&4294967295|I>>>9),I=S+(R^k^U)+O[1]+2763975236&4294967295,S=R+(I<<4&4294967295|I>>>28),I=U+(S^R^k)+O[4]+1272893353&4294967295,U=S+(I<<11&4294967295|I>>>21),I=k+(U^S^R)+O[7]+4139469664&4294967295,k=U+(I<<16&4294967295|I>>>16),I=R+(k^U^S)+O[10]+3200236656&4294967295,R=k+(I<<23&4294967295|I>>>9),I=S+(R^k^U)+O[13]+681279174&4294967295,S=R+(I<<4&4294967295|I>>>28),I=U+(S^R^k)+O[0]+3936430074&4294967295,U=S+(I<<11&4294967295|I>>>21),I=k+(U^S^R)+O[3]+3572445317&4294967295,k=U+(I<<16&4294967295|I>>>16),I=R+(k^U^S)+O[6]+76029189&4294967295,R=k+(I<<23&4294967295|I>>>9),I=S+(R^k^U)+O[9]+3654602809&4294967295,S=R+(I<<4&4294967295|I>>>28),I=U+(S^R^k)+O[12]+3873151461&4294967295,U=S+(I<<11&4294967295|I>>>21),I=k+(U^S^R)+O[15]+530742520&4294967295,k=U+(I<<16&4294967295|I>>>16),I=R+(k^U^S)+O[2]+3299628645&4294967295,R=k+(I<<23&4294967295|I>>>9),I=S+(k^(R|~U))+O[0]+4096336452&4294967295,S=R+(I<<6&4294967295|I>>>26),I=U+(R^(S|~k))+O[7]+1126891415&4294967295,U=S+(I<<10&4294967295|I>>>22),I=k+(S^(U|~R))+O[14]+2878612391&4294967295,k=U+(I<<15&4294967295|I>>>17),I=R+(U^(k|~S))+O[5]+4237533241&4294967295,R=k+(I<<21&4294967295|I>>>11),I=S+(k^(R|~U))+O[12]+1700485571&4294967295,S=R+(I<<6&4294967295|I>>>26),I=U+(R^(S|~k))+O[3]+2399980690&4294967295,U=S+(I<<10&4294967295|I>>>22),I=k+(S^(U|~R))+O[10]+4293915773&4294967295,k=U+(I<<15&4294967295|I>>>17),I=R+(U^(k|~S))+O[1]+2240044497&4294967295,R=k+(I<<21&4294967295|I>>>11),I=S+(k^(R|~U))+O[8]+1873313359&4294967295,S=R+(I<<6&4294967295|I>>>26),I=U+(R^(S|~k))+O[15]+4264355552&4294967295,U=S+(I<<10&4294967295|I>>>22),I=k+(S^(U|~R))+O[6]+2734768916&4294967295,k=U+(I<<15&4294967295|I>>>17),I=R+(U^(k|~S))+O[13]+1309151649&4294967295,R=k+(I<<21&4294967295|I>>>11),I=S+(k^(R|~U))+O[4]+4149444226&4294967295,S=R+(I<<6&4294967295|I>>>26),I=U+(R^(S|~k))+O[11]+3174756917&4294967295,U=S+(I<<10&4294967295|I>>>22),I=k+(S^(U|~R))+O[2]+718787259&4294967295,k=U+(I<<15&4294967295|I>>>17),I=R+(U^(k|~S))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(k+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+k&4294967295,N.g[3]=N.g[3]+U&4294967295}s.prototype.u=function(N,S){S===void 0&&(S=N.length);for(var R=S-this.blockSize,O=this.B,k=this.h,U=0;U<S;){if(k==0)for(;U<=R;)o(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<S;)if(O[k++]=N.charCodeAt(U++),k==this.blockSize){o(this,O),k=0;break}}else for(;U<S;)if(O[k++]=N[U++],k==this.blockSize){o(this,O),k=0;break}}this.h=k,this.o+=S},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;var R=8*this.o;for(S=N.length-8;S<N.length;++S)N[S]=R&255,R/=256;for(this.u(N),N=Array(16),S=R=0;4>S;++S)for(var O=0;32>O;O+=8)N[R++]=this.g[S]>>>O&255;return N};function u(N,S){var R=m;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=S(N)}function f(N,S){this.h=S;for(var R=[],O=!0,k=N.length-1;0<=k;k--){var U=N[k]|0;O&&U==S||(R[k]=U,O=!1)}this.g=R}var m={};function p(N){return-128<=N&&128>N?u(N,function(S){return new f([S|0],0>S?-1:0)}):new f([N|0],0>N?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return b;if(0>N)return q(y(-N));for(var S=[],R=1,O=0;N>=R;O++)S[O]=N/R|0,R*=4294967296;return new f(S,0)}function E(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return q(E(N.substring(1),S));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(S,8)),O=b,k=0;k<N.length;k+=8){var U=Math.min(8,N.length-k),I=parseInt(N.substring(k,k+U),S);8>U?(U=y(Math.pow(S,U)),O=O.j(U).add(y(I))):(O=O.j(R),O=O.add(y(I)))}return O}var b=p(0),x=p(1),V=p(16777216);r=f.prototype,r.m=function(){if(K(this))return-q(this).m();for(var N=0,S=1,R=0;R<this.g.length;R++){var O=this.i(R);N+=(0<=O?O:4294967296+O)*S,S*=4294967296}return N},r.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(j(this))return"0";if(K(this))return"-"+q(this).toString(N);for(var S=y(Math.pow(N,6)),R=this,O="";;){var k=ye(R,S).g;R=W(R,k.j(S));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(N);if(R=k,j(R))return U+O;for(;6>U.length;)U="0"+U;O=U+O}},r.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function j(N){if(N.h!=0)return!1;for(var S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function K(N){return N.h==-1}r.l=function(N){return N=W(this,N),K(N)?-1:j(N)?0:1};function q(N){for(var S=N.g.length,R=[],O=0;O<S;O++)R[O]=~N.g[O];return new f(R,~N.h).add(x)}r.abs=function(){return K(this)?q(this):this},r.add=function(N){for(var S=Math.max(this.g.length,N.g.length),R=[],O=0,k=0;k<=S;k++){var U=O+(this.i(k)&65535)+(N.i(k)&65535),I=(U>>>16)+(this.i(k)>>>16)+(N.i(k)>>>16);O=I>>>16,U&=65535,I&=65535,R[k]=I<<16|U}return new f(R,R[R.length-1]&-2147483648?-1:0)};function W(N,S){return N.add(q(S))}r.j=function(N){if(j(this)||j(N))return b;if(K(this))return K(N)?q(this).j(q(N)):q(q(this).j(N));if(K(N))return q(this.j(q(N)));if(0>this.l(V)&&0>N.l(V))return y(this.m()*N.m());for(var S=this.g.length+N.g.length,R=[],O=0;O<2*S;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var k=0;k<N.g.length;k++){var U=this.i(O)>>>16,I=this.i(O)&65535,de=N.i(k)>>>16,et=N.i(k)&65535;R[2*O+2*k]+=I*et,ne(R,2*O+2*k),R[2*O+2*k+1]+=U*et,ne(R,2*O+2*k+1),R[2*O+2*k+1]+=I*de,ne(R,2*O+2*k+1),R[2*O+2*k+2]+=U*de,ne(R,2*O+2*k+2)}for(O=0;O<S;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=S;O<2*S;O++)R[O]=0;return new f(R,0)};function ne(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function se(N,S){this.g=N,this.h=S}function ye(N,S){if(j(S))throw Error("division by zero");if(j(N))return new se(b,b);if(K(N))return S=ye(q(N),S),new se(q(S.g),q(S.h));if(K(S))return S=ye(N,q(S)),new se(q(S.g),S.h);if(30<N.g.length){if(K(N)||K(S))throw Error("slowDivide_ only works with positive integers.");for(var R=x,O=S;0>=O.l(N);)R=Ie(R),O=Ie(O);var k=Ee(R,1),U=Ee(O,1);for(O=Ee(O,2),R=Ee(R,2);!j(O);){var I=U.add(O);0>=I.l(N)&&(k=k.add(R),U=I),O=Ee(O,1),R=Ee(R,1)}return S=W(N,k.j(S)),new se(k,S)}for(k=b;0<=N.l(S);){for(R=Math.max(1,Math.floor(N.m()/S.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),U=y(R),I=U.j(S);K(I)||0<I.l(N);)R-=O,U=y(R),I=U.j(S);j(U)&&(U=x),k=k.add(U),N=W(N,I)}return new se(k,N)}r.A=function(N){return ye(this,N).h},r.and=function(N){for(var S=Math.max(this.g.length,N.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)&N.i(O);return new f(R,this.h&N.h)},r.or=function(N){for(var S=Math.max(this.g.length,N.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)|N.i(O);return new f(R,this.h|N.h)},r.xor=function(N){for(var S=Math.max(this.g.length,N.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)^N.i(O);return new f(R,this.h^N.h)};function Ie(N){for(var S=N.g.length+1,R=[],O=0;O<S;O++)R[O]=N.i(O)<<1|N.i(O-1)>>>31;return new f(R,N.h)}function Ee(N,S){var R=S>>5;S%=32;for(var O=N.g.length-R,k=[],U=0;U<O;U++)k[U]=0<S?N.i(U+R)>>>S|N.i(U+R+1)<<32-S:N.i(U+R);return new f(k,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,FE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,qs=f}).apply(typeof K_<"u"?K_:typeof self<"u"?self:typeof window<"u"?window:{});var Bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var GE,Rl,KE,Jc,Nm,QE,YE,$E;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bc=="object"&&Bc];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var P=c[A];if(!(P in _))break e;_=_[P]}c=c[c.length-1],A=_[c],g=g(A),g!=A&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var _=0,A=!1,P={next:function(){if(!A&&_<c.length){var Q=_++;return{value:g(Q,c[Q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,_){return _})}});var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function E(c,g,_){return c.call.apply(c.bind,arguments)}function b(c,g,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,A),c.apply(g,P)}}return function(){return c.apply(g,arguments)}}function x(c,g,_){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:b,x.apply(null,arguments)}function V(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function j(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,P,Q){for(var re=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)re[Ke-2]=arguments[Ke];return g.prototype[P].apply(A,re)}}function K(c){const g=c.length;if(0<g){const _=Array(g);for(let A=0;A<g;A++)_[A]=c[A];return _}return[]}function q(c,g){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const P=c.length||0,Q=A.length||0;c.length=P+Q;for(let re=0;re<Q;re++)c[P+re]=A[re]}else c.push(A)}}class W{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function ne(c){return/^[\s\xa0]*$/.test(c)}function se(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ye(c){return ye[" "](c),c}ye[" "]=function(){};var Ie=se().indexOf("Gecko")!=-1&&!(se().toLowerCase().indexOf("webkit")!=-1&&se().indexOf("Edge")==-1)&&!(se().indexOf("Trident")!=-1||se().indexOf("MSIE")!=-1)&&se().indexOf("Edge")==-1;function Ee(c,g,_){for(const A in c)g.call(_,c[A],A,c)}function N(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function S(c){const g={};for(const _ in c)g[_]=c[_];return g}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,g){let _,A;for(let P=1;P<arguments.length;P++){A=arguments[P];for(_ in A)c[_]=A[_];for(let Q=0;Q<R.length;Q++)_=R[Q],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function k(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function U(c){m.setTimeout(()=>{throw c},0)}function I(){var c=je;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class de{constructor(){this.h=this.g=null}add(g,_){const A=et.get();A.set(g,_),this.h?this.h.next=A:this.g=A,this.h=A}}var et=new W(()=>new Y,c=>c.reset());class Y{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,me=!1,je=new de,Ge=()=>{const c=m.Promise.resolve(void 0);ae=()=>{c.then(M)}};var M=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(_){U(_)}var g=et;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}me=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var ue=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,g),m.removeEventListener("test",_,g)}catch{}return c})();function ve(c,g){if(ie.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(Ie){e:{try{ye(g.nodeName);var P=!0;break e}catch{}P=!1}P||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:xe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ve.aa.h.call(this)}}j(ve,ie);var xe={2:"touch",3:"pen",4:"mouse"};ve.prototype.h=function(){ve.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ke="closure_listenable_"+(1e6*Math.random()|0),kt=0;function at(c,g,_,A,P){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!A,this.ha=P,this.key=++kt,this.da=this.fa=!1}function Jn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function vi(c){this.src=c,this.g={},this.h=0}vi.prototype.add=function(c,g,_,A,P){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var re=ea(c,g,A,P);return-1<re?(g=c[re],_||(g.fa=!1)):(g=new at(g,this.src,Q,!!A,P),g.fa=_,c.push(g)),g};function us(c,g){var _=g.type;if(_ in c.g){var A=c.g[_],P=Array.prototype.indexOf.call(A,g,void 0),Q;(Q=0<=P)&&Array.prototype.splice.call(A,P,1),Q&&(Jn(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function ea(c,g,_,A){for(var P=0;P<c.length;++P){var Q=c[P];if(!Q.da&&Q.listener==g&&Q.capture==!!_&&Q.ha==A)return P}return-1}var zn="closure_lm_"+(1e6*Math.random()|0),cs={};function ta(c,g,_,A,P){if(Array.isArray(g)){for(var Q=0;Q<g.length;Q++)ta(c,g[Q],_,A,P);return null}return _=du(_),c&&c[ke]?c.K(g,_,y(A)?!!A.capture:!1,P):Xh(c,g,_,!1,A,P)}function Xh(c,g,_,A,P,Q){if(!g)throw Error("Invalid event type");var re=y(P)?!!P.capture:!!P,Ke=_o(c);if(Ke||(c[zn]=Ke=new vi(c)),_=Ke.add(g,_,A,re,Q),_.proxy)return _;if(A=fu(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)ue||(P=re),P===void 0&&(P=!1),c.addEventListener(g.toString(),A,P);else if(c.attachEvent)c.attachEvent(ia(g.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function fu(){function c(_){return g.call(c.src,c.listener,_)}const g=Jh;return c}function na(c,g,_,A,P){if(Array.isArray(g))for(var Q=0;Q<g.length;Q++)na(c,g[Q],_,A,P);else A=y(A)?!!A.capture:!!A,_=du(_),c&&c[ke]?(c=c.i,g=String(g).toString(),g in c.g&&(Q=c.g[g],_=ea(Q,_,A,P),-1<_&&(Jn(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete c.g[g],c.h--)))):c&&(c=_o(c))&&(g=c.g[g.toString()],c=-1,g&&(c=ea(g,_,A,P)),(_=-1<c?g[c]:null)&&hs(_))}function hs(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[ke])us(g.i,c);else{var _=c.type,A=c.proxy;g.removeEventListener?g.removeEventListener(_,A,c.capture):g.detachEvent?g.detachEvent(ia(_),A):g.addListener&&g.removeListener&&g.removeListener(A),(_=_o(g))?(us(_,c),_.h==0&&(_.src=null,g[zn]=null)):Jn(c)}}}function ia(c){return c in cs?cs[c]:cs[c]="on"+c}function Jh(c,g){if(c.da)c=!0;else{g=new ve(g,this);var _=c.listener,A=c.ha||c.src;c.fa&&hs(c),c=_.call(A,g)}return c}function _o(c){return c=c[zn],c instanceof vi?c:null}var Lt="__closure_events_fn_"+(1e9*Math.random()>>>0);function du(c){return typeof c=="function"?c:(c[Lt]||(c[Lt]=function(g){return c.handleEvent(g)}),c[Lt])}function At(){X.call(this),this.i=new vi(this),this.M=this,this.F=null}j(At,X),At.prototype[ke]=!0,At.prototype.removeEventListener=function(c,g,_,A){na(this,c,g,_,A)};function It(c,g){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=g.type||g,typeof g=="string")g=new ie(g,c);else if(g instanceof ie)g.target=g.target||c;else{var P=g;g=new ie(A,c),O(g,P)}if(P=!0,_)for(var Q=_.length-1;0<=Q;Q--){var re=g.g=_[Q];P=_i(re,A,!0,g)&&P}if(re=g.g=c,P=_i(re,A,!0,g)&&P,P=_i(re,A,!1,g)&&P,_)for(Q=0;Q<_.length;Q++)re=g.g=_[Q],P=_i(re,A,!1,g)&&P}At.prototype.N=function(){if(At.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],A=0;A<_.length;A++)Jn(_[A]);delete c.g[g],c.h--}}this.F=null},At.prototype.K=function(c,g,_,A){return this.i.add(String(c),g,!1,_,A)},At.prototype.L=function(c,g,_,A){return this.i.add(String(c),g,!0,_,A)};function _i(c,g,_,A){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var P=!0,Q=0;Q<g.length;++Q){var re=g[Q];if(re&&!re.da&&re.capture==_){var Ke=re.listener,yt=re.ha||re.src;re.fa&&us(c.i,re),P=Ke.call(yt,A)!==!1&&P}}return P&&!A.defaultPrevented}function mu(c,g,_){if(typeof c=="function")_&&(c=x(c,_));else if(c&&typeof c.handleEvent=="function")c=x(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function Eo(c){c.g=mu(()=>{c.g=null,c.i&&(c.i=!1,Eo(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Wh extends X{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Eo(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fs(c){X.call(this),this.h=c,this.g={}}j(fs,X);var sr=[];function Yt(c){Ee(c.g,function(g,_){this.g.hasOwnProperty(_)&&hs(g)},c),c.g={}}fs.prototype.N=function(){fs.aa.N.call(this),Yt(this)},fs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xn=m.JSON.stringify,tn=m.JSON.parse,Zh=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function To(){}To.prototype.h=null;function pu(c){return c.h||(c.h=c.i())}function ds(){}var Wn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ar(){ie.call(this,"d")}j(ar,ie);function Bn(){ie.call(this,"c")}j(Bn,ie);var Cn={},or=null;function ra(){return or=or||new At}Cn.La="serverreachability";function wo(c){ie.call(this,Cn.La,c)}j(wo,ie);function Ei(c){const g=ra();It(g,new wo(g))}Cn.STAT_EVENT="statevent";function lr(c,g){ie.call(this,Cn.STAT_EVENT,c),this.stat=g}j(lr,ie);function Ut(c){const g=ra();It(g,new lr(g,c))}Cn.Ma="timingevent";function bo(c,g){ie.call(this,Cn.Ma,c),this.size=g}j(bo,ie);function ur(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function cr(){this.g=!0}cr.prototype.xa=function(){this.g=!1};function Ao(c,g,_,A,P,Q){c.info(function(){if(c.g)if(Q)for(var re="",Ke=Q.split("&"),yt=0;yt<Ke.length;yt++){var Ce=Ke[yt].split("=");if(1<Ce.length){var Dt=Ce[0];Ce=Ce[1];var Ot=Dt.split("_");re=2<=Ot.length&&Ot[1]=="type"?re+(Dt+"="+Ce+"&"):re+(Dt+"=redacted&")}}else re=null;else re=Q;return"XMLHTTP REQ ("+A+") [attempt "+P+"]: "+g+`
`+_+`
`+re})}function So(c,g,_,A,P,Q,re){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+P+"]: "+g+`
`+_+`
`+Q+" "+re})}function Ti(c,g,_,A){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Zn(c,_)+(A?" "+A:"")})}function gu(c,g){c.info(function(){return"TIMEOUT: "+g})}cr.prototype.info=function(){};function Zn(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var P=A[1];if(Array.isArray(P)&&!(1>P.length)){var Q=P[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var re=1;re<P.length;re++)P[re]=""}}}}return xn(_)}catch{return g}}var ut={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ei;function hr(){}j(hr,To),hr.prototype.g=function(){return new XMLHttpRequest},hr.prototype.i=function(){return{}},ei=new hr;function ti(c,g,_,A){this.j=c,this.i=g,this.l=_,this.R=A||1,this.U=new fs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new yu}function yu(){this.i=null,this.g="",this.h=!1}var Ro={},wi={};function ms(c,g,_){c.L=1,c.v=ys(ct(g)),c.m=_,c.P=!0,bi(c,null)}function bi(c,g){c.F=Date.now(),qn(c),c.A=ct(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Ri(_.i,"t",A),c.C=0,_=c.j.J,c.h=new yu,c.g=Mu(c.j,_?g:null,!c.m),0<c.O&&(c.M=new Wh(x(c.Y,c,c.g),c.O)),g=c.U,_=c.g,A=c.ca;var P="readystatechange";Array.isArray(P)||(P&&(sr[0]=P.toString()),P=sr);for(var Q=0;Q<P.length;Q++){var re=ta(_,P[Q],A||g.handleEvent,!1,g.h||g);if(!re)break;g.g[re.key]=re}g=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Ei(),Ao(c.i,c.u,c.A,c.l,c.R,c.m)}ti.prototype.ca=function(c){c=c.target;const g=this.M;g&&sn(c)==3?g.j():this.Y(c)},ti.prototype.Y=function(c){try{if(c==this.g)e:{const Ot=sn(this.g);var g=this.g.Ba();const Ar=this.g.Z();if(!(3>Ot)&&(Ot!=3||this.g&&(this.h.h||this.g.oa()||Es(this.g)))){this.J||Ot!=4||g==7||(g==8||0>=Ar?Ei(3):Ei(2)),sa(this);var _=this.g.Z();this.X=_;t:if(Ai(this)){var A=Es(this.g);c="";var P=A.length,Q=sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){nn(this),fr(this);var re="";break t}this.h.i=new m.TextDecoder}for(g=0;g<P;g++)this.h.h=!0,c+=this.h.i.decode(A[g],{stream:!(Q&&g==P-1)});A.length=0,this.h.g+=c,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=_==200,So(this.i,this.u,this.A,this.l,this.R,Ot,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,yt=this.g;if((Ke=yt.g?yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ne(Ke)){var Ce=Ke;break t}}Ce=null}if(_=Ce)Ti(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ni(this,_);else{this.o=!1,this.s=3,Ut(12),nn(this),fr(this);break e}}if(this.P){_=!0;let cn;for(;!this.J&&this.C<re.length;)if(cn=ps(this,re),cn==wi){Ot==4&&(this.s=4,Ut(14),_=!1),Ti(this.i,this.l,null,"[Incomplete Response]");break}else if(cn==Ro){this.s=4,Ut(15),Ti(this.i,this.l,re,"[Invalid Chunk]"),_=!1;break}else Ti(this.i,this.l,cn,null),ni(this,cn);if(Ai(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ot!=4||re.length!=0||this.h.h||(this.s=1,Ut(16),_=!1),this.o=this.o&&_,!_)Ti(this.i,this.l,re,"[Invalid Chunked Response]"),nn(this),fr(this);else if(0<re.length&&!this.W){this.W=!0;var Dt=this.j;Dt.g==this&&Dt.ba&&!Dt.M&&(Dt.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),Uo(Dt),Dt.M=!0,Ut(11))}}else Ti(this.i,this.l,re,null),ni(this,re);Ot==4&&nn(this),this.o&&!this.J&&(Ot==4?Nu(this.j,this):(this.o=!1,qn(this)))}else Au(this.g),_==400&&0<re.indexOf("Unknown SID")?(this.s=3,Ut(12)):(this.s=0,Ut(13)),nn(this),fr(this)}}}catch{}finally{}};function Ai(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function ps(c,g){var _=c.C,A=g.indexOf(`
`,_);return A==-1?wi:(_=Number(g.substring(_,A)),isNaN(_)?Ro:(A+=1,A+_>g.length?wi:(g=g.slice(A,A+_),c.C=A+_,g)))}ti.prototype.cancel=function(){this.J=!0,nn(this)};function qn(c){c.S=Date.now()+c.I,dt(c,c.I)}function dt(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ur(x(c.ba,c),g)}function sa(c){c.B&&(m.clearTimeout(c.B),c.B=null)}ti.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(gu(this.i,this.A),this.L!=2&&(Ei(),Ut(17)),nn(this),this.s=2,fr(this)):dt(this,this.S-c)};function fr(c){c.j.G==0||c.J||Nu(c.j,c)}function nn(c){sa(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Yt(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function ni(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||dr(_.h,c))){if(!c.K&&dr(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var P=A;if(P[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)wr(_),Tr(_);else break e;Lo(_),Ut(18)}}else _.za=P[1],0<_.za-_.T&&37500>P[2]&&_.F&&_.v==0&&!_.C&&(_.C=ur(x(_.Za,_),6e3));if(1>=vu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ci(_,11)}else if((c.K||_.g==c)&&wr(_),!ne(g))for(P=_.Da.g.parse(g),g=0;g<P.length;g++){let Ce=P[g];if(_.T=Ce[0],Ce=Ce[1],_.G==2)if(Ce[0]=="c"){_.K=Ce[1],_.ia=Ce[2];const Dt=Ce[3];Dt!=null&&(_.la=Dt,_.j.info("VER="+_.la));const Ot=Ce[4];Ot!=null&&(_.Aa=Ot,_.j.info("SVER="+_.Aa));const Ar=Ce[5];Ar!=null&&typeof Ar=="number"&&0<Ar&&(A=1.5*Ar,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const cn=c.g;if(cn){const bs=cn.g?cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bs){var Q=A.h;Q.g||bs.indexOf("spdy")==-1&&bs.indexOf("quic")==-1&&bs.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(mr(Q,Q.h),Q.h=null))}if(A.D){const Ii=cn.g?cn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ii&&(A.ya=Ii,ze(A.I,A.D,Ii))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var re=c;if(A.qa=Ou(A,A.J?A.ia:null,A.W),re.K){In(A.h,re);var Ke=re,yt=A.L;yt&&(Ke.I=yt),Ke.B&&(sa(Ke),qn(Ke)),A.g=re}else Cu(A);0<_.i.length&&da(_)}else Ce[0]!="stop"&&Ce[0]!="close"||Ci(_,7);else _.G==3&&(Ce[0]=="stop"||Ce[0]=="close"?Ce[0]=="stop"?Ci(_,7):Vo(_):Ce[0]!="noop"&&_.l&&_.l.ta(Ce),_.v=0)}}Ei(4)}catch{}}var ef=class{constructor(c,g){this.g=c,this.map=g}};function xo(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Co(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function vu(c){return c.h?1:c.g?c.g.size:0}function dr(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function mr(c,g){c.g?c.g.add(g):c.h=g}function In(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}xo.prototype.cancel=function(){if(this.i=rn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function rn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return K(c.i)}function _u(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],_=c.length,A=0;A<_;A++)g.push(c[A]);return g}g=[],_=0;for(A in c)g[_++]=c[A];return g}function tf(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const A in c)g[_++]=A;return g}}}function aa(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=tf(c),A=_u(c),P=A.length,Q=0;Q<P;Q++)g.call(void 0,A[Q],_&&_[Q],c)}var Io=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oa(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),P=null;if(0<=A){var Q=c[_].substring(0,A);P=c[_].substring(A+1)}else Q=c[_];g(Q,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function Si(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Si){this.h=c.h,pr(this,c.j),this.o=c.o,this.g=c.g,gs(this,c.s),this.l=c.l;var g=c.i,_=new ii;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),la(this,_),this.m=c.m}else c&&(g=String(c).match(Io))?(this.h=!1,pr(this,g[1]||"",!0),this.o=gr(g[2]||""),this.g=gr(g[3]||"",!0),gs(this,g[4]),this.l=gr(g[5]||"",!0),la(this,g[6]||"",!0),this.m=gr(g[7]||"")):(this.h=!1,this.i=new ii(null,this.h))}Si.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Nn(g,No,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Nn(g,No,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Nn(_,_.charAt(0)=="/"?Do:Eu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Nn(_,sf)),c.join("")};function ct(c){return new Si(c)}function pr(c,g,_){c.j=_?gr(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function gs(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function la(c,g,_){g instanceof ii?(c.i=g,Tu(c.i,c.h)):(_||(g=Nn(g,rf)),c.i=new ii(g,c.h))}function ze(c,g,_){c.i.set(g,_)}function ys(c){return ze(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function gr(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Nn(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,nf),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function nf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var No=/[#\/\?@]/g,Eu=/[#\?:]/g,Do=/[#\?]/g,rf=/[#\?@]/g,sf=/#/g;function ii(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Nt(c){c.g||(c.g=new Map,c.h=0,c.i&&oa(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}r=ii.prototype,r.add=function(c,g){Nt(this),this.i=null,c=yn(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function ua(c,g){Nt(c),g=yn(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function ca(c,g){return Nt(c),g=yn(c,g),c.g.has(g)}r.forEach=function(c,g){Nt(this),this.g.forEach(function(_,A){_.forEach(function(P){c.call(g,P,A,this)},this)},this)},r.na=function(){Nt(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let A=0;A<g.length;A++){const P=c[A];for(let Q=0;Q<P.length;Q++)_.push(g[A])}return _},r.V=function(c){Nt(this);let g=[];if(typeof c=="string")ca(this,c)&&(g=g.concat(this.g.get(yn(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},r.set=function(c,g){return Nt(this),this.i=null,c=yn(this,c),ca(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Ri(c,g,_){ua(c,g),0<_.length&&(c.i=null,c.g.set(yn(c,g),K(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var A=g[_];const Q=encodeURIComponent(String(A)),re=this.V(A);for(A=0;A<re.length;A++){var P=Q;re[A]!==""&&(P+="="+encodeURIComponent(String(re[A]))),c.push(P)}}return this.i=c.join("&")};function yn(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Tu(c,g){g&&!c.j&&(Nt(c),c.i=null,c.g.forEach(function(_,A){var P=A.toLowerCase();A!=P&&(ua(this,A),Ri(this,P,_))},c)),c.j=g}function Oo(c,g){const _=new cr;if(m.Image){const A=new Image;A.onload=V(un,_,"TestLoadImage: loaded",!0,g,A),A.onerror=V(un,_,"TestLoadImage: error",!1,g,A),A.onabort=V(un,_,"TestLoadImage: abort",!1,g,A),A.ontimeout=V(un,_,"TestLoadImage: timeout",!1,g,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else g(!1)}function wu(c,g){const _=new cr,A=new AbortController,P=setTimeout(()=>{A.abort(),un(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:A.signal}).then(Q=>{clearTimeout(P),Q.ok?un(_,"TestPingServer: ok",!0,g):un(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(P),un(_,"TestPingServer: error",!1,g)})}function un(c,g,_,A,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),A(_)}catch{}}function Hn(){this.g=new Zh}function Mo(c,g,_){const A=_||"";try{aa(c,function(P,Q){let re=P;y(P)&&(re=xn(P)),g.push(A+Q+"="+encodeURIComponent(re))})}catch(P){throw g.push(A+"type="+encodeURIComponent("_badmap")),P}}function ri(c){this.l=c.Ub||null,this.j=c.eb||!1}j(ri,To),ri.prototype.g=function(){return new vn(this.l,this.j)},ri.prototype.i=(function(c){return function(){return c}})({});function vn(c,g){At.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j(vn,At),r=vn.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,yr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,si(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,yr(this)),this.g&&(this.readyState=3,yr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ha(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ha(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?si(this):yr(this),this.readyState==3&&ha(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,si(this))},r.Qa=function(c){this.g&&(this.response=c,si(this))},r.ga=function(){this.g&&si(this)};function si(c){c.readyState=4,c.l=null,c.j=null,c.v=null,yr(c)}r.setRequestHeader=function(c,g){this.u.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function yr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(vn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function vs(c){let g="";return Ee(c,function(_,A){g+=A,g+=":",g+=_,g+=`\r
`}),g}function vr(c,g,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=vs(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):ze(c,g,_))}function tt(c){At.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(tt,At);var $t=/^https?$/i,xi=["POST","PUT"];r=tt.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,g,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ei.g(),this.v=this.o?pu(this.o):pu(ei),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(Q){_s(this,Q);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var P in A)_.set(P,A[P]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())_.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),P=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(xi,g,void 0))||A||P||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,re]of _)this.g.setRequestHeader(Q,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fa(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){_s(this,Q)}};function _s(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,_r(c),Er(c)}function _r(c){c.A||(c.A=!0,It(c,"complete"),It(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,It(this,"complete"),It(this,"abort"),Er(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Er(this,!0)),tt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?bu(this):this.bb())},r.bb=function(){bu(this)};function bu(c){if(c.h&&typeof f<"u"&&(!c.v[1]||sn(c)!=4||c.Z()!=2)){if(c.u&&sn(c)==4)mu(c.Ea,0,c);else if(It(c,"readystatechange"),sn(c)==4){c.h=!1;try{const re=c.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var A;if(A=re===0){var P=String(c.D).match(Io)[1]||null;!P&&m.self&&m.self.location&&(P=m.self.location.protocol.slice(0,-1)),A=!$t.test(P?P.toLowerCase():"")}_=A}if(_)It(c,"complete"),It(c,"success");else{c.m=6;try{var Q=2<sn(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",_r(c)}}finally{Er(c)}}}}function Er(c,g){if(c.g){fa(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||It(c,"ready");try{_.onreadystatechange=A}catch{}}}function fa(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function sn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<sn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),tn(g)}};function Es(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Au(c){const g={};c=(c.g&&2<=sn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(ne(c[A]))continue;var _=k(c[A]);const P=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=g[P]||[];g[P]=Q,Q.push(_)}N(g,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ts(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function Su(c){this.Aa=0,this.i=[],this.j=new cr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ts("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ts("baseRetryDelayMs",5e3,c),this.cb=Ts("retryDelaySeedMs",1e4,c),this.Wa=Ts("forwardChannelMaxRetries",2,c),this.wa=Ts("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new xo(c&&c.concurrentRequestLimit),this.Da=new Hn,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Su.prototype,r.la=8,r.G=1,r.connect=function(c,g,_,A){Ut(0),this.W=c,this.H=g||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Ou(this,null,this.W),da(this)};function Vo(c){if(Ru(c),c.G==3){var g=c.U++,_=ct(c.I);if(ze(_,"SID",c.K),ze(_,"RID",g),ze(_,"TYPE","terminate"),ws(c,_),g=new ti(c,c.j,g),g.L=2,g.v=ys(ct(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=g.v,_=!0),_||(g.g=Mu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),qn(g)}Po(c)}function Tr(c){c.g&&(Uo(c),c.g.cancel(),c.g=null)}function Ru(c){Tr(c),c.u&&(m.clearTimeout(c.u),c.u=null),wr(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function da(c){if(!Co(c.h)&&!c.s){c.s=!0;var g=c.Ga;ae||Ge(),me||(ae(),me=!0),je.add(g,c),c.B=0}}function af(c,g){return vu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ur(x(c.Ga,c,g),Du(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const P=new ti(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=S(Q),O(Q,this.S)):Q=this.S),this.m!==null||this.O||(P.H=Q,Q=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(g+=A,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=ko(this,P,g),_=ct(this.I),ze(_,"RID",c),ze(_,"CVER",22),this.D&&ze(_,"X-HTTP-Session-Id",this.D),ws(this,_),Q&&(this.O?g="headers="+encodeURIComponent(String(vs(Q)))+"&"+g:this.m&&vr(_,this.m,Q)),mr(this.h,P),this.Ua&&ze(_,"TYPE","init"),this.P?(ze(_,"$req",g),ze(_,"SID","null"),P.T=!0,ms(P,_,null)):ms(P,_,g),this.G=2}}else this.G==3&&(c?xu(this,c):this.i.length==0||Co(this.h)||xu(this))};function xu(c,g){var _;g?_=g.l:_=c.U++;const A=ct(c.I);ze(A,"SID",c.K),ze(A,"RID",_),ze(A,"AID",c.T),ws(c,A),c.m&&c.o&&vr(A,c.m,c.o),_=new ti(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=ko(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),mr(c.h,_),ms(_,A,g)}function ws(c,g){c.H&&Ee(c.H,function(_,A){ze(g,A,_)}),c.l&&aa({},function(_,A){ze(g,A,_)})}function ko(c,g,_){_=Math.min(c.i.length,_);var A=c.l?x(c.l.Na,c.l,c):null;e:{var P=c.i;let Q=-1;for(;;){const re=["count="+_];Q==-1?0<_?(Q=P[0].g,re.push("ofs="+Q)):Q=0:re.push("ofs="+Q);let Ke=!0;for(let yt=0;yt<_;yt++){let Ce=P[yt].g;const Dt=P[yt].map;if(Ce-=Q,0>Ce)Q=Math.max(0,P[yt].g-100),Ke=!1;else try{Mo(Dt,re,"req"+Ce+"_")}catch{A&&A(Dt)}}if(Ke){A=re.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,A}function Cu(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;ae||Ge(),me||(ae(),me=!0),je.add(g,c),c.v=0}}function Lo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ur(x(c.Fa,c),Du(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Iu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ur(x(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ut(10),Tr(this),Iu(this))};function Uo(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Iu(c){c.g=new ti(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=ct(c.qa);ze(g,"RID","rpc"),ze(g,"SID",c.K),ze(g,"AID",c.T),ze(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&ze(g,"TO",c.ja),ze(g,"TYPE","xmlhttp"),ws(c,g),c.m&&c.o&&vr(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ys(ct(g)),_.m=null,_.P=!0,bi(_,c)}r.Za=function(){this.C!=null&&(this.C=null,Tr(this),Lo(this),Ut(19))};function wr(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Nu(c,g){var _=null;if(c.g==g){wr(c),Uo(c),c.g=null;var A=2}else if(dr(c.h,g))_=g.D,In(c.h,g),A=1;else return;if(c.G!=0){if(g.o)if(A==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var P=c.B;A=ra(),It(A,new bo(A,_)),da(c)}else Cu(c);else if(P=g.s,P==3||P==0&&0<g.X||!(A==1&&af(c,g)||A==2&&Lo(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),P){case 1:Ci(c,5);break;case 4:Ci(c,10);break;case 3:Ci(c,6);break;default:Ci(c,2)}}}function Du(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function Ci(c,g){if(c.j.info("Error code "+g),g==2){var _=x(c.fb,c),A=c.Xa;const P=!A;A=new Si(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||pr(A,"https"),ys(A),P?Oo(A.toString(),_):wu(A.toString(),_)}else Ut(2);c.G=0,c.l&&c.l.sa(g),Po(c),Ru(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function Po(c){if(c.G=0,c.ka=[],c.l){const g=rn(c.h);(g.length!=0||c.i.length!=0)&&(q(c.ka,g),q(c.ka,c.i),c.h.i.length=0,K(c.i),c.i.length=0),c.l.ra()}}function Ou(c,g,_){var A=_ instanceof Si?ct(_):new Si(_);if(A.g!="")g&&(A.g=g+"."+A.g),gs(A,A.s);else{var P=m.location;A=P.protocol,g=g?g+"."+P.hostname:P.hostname,P=+P.port;var Q=new Si(null);A&&pr(Q,A),g&&(Q.g=g),P&&gs(Q,P),_&&(Q.l=_),A=Q}return _=c.D,g=c.ya,_&&g&&ze(A,_,g),ze(A,"VER",c.la),ws(c,A),A}function Mu(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new tt(new ri({eb:_})):new tt(c.pa),g.Ha(c.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vu(){}r=Vu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ma(){}ma.prototype.g=function(c,g){return new an(c,g)};function an(c,g){At.call(this),this.g=new Su(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!ne(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!ne(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new br(this)}j(an,At),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Vo(this.g)},an.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=xn(c),c=_);g.i.push(new ef(g.Ya++,c)),g.G==3&&da(g)},an.prototype.N=function(){this.g.l=null,delete this.j,Vo(this.g),delete this.g,an.aa.N.call(this)};function ku(c){ar.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}j(ku,ar);function Lu(){Bn.call(this),this.status=1}j(Lu,Bn);function br(c){this.g=c}j(br,Vu),br.prototype.ua=function(){It(this.g,"a")},br.prototype.ta=function(c){It(this.g,new ku(c))},br.prototype.sa=function(c){It(this.g,new Lu)},br.prototype.ra=function(){It(this.g,"b")},ma.prototype.createWebChannel=ma.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,$E=function(){return new ma},YE=function(){return ra()},QE=Cn,Nm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ut.NO_ERROR=0,ut.TIMEOUT=8,ut.HTTP_ERROR=6,Jc=ut,Pt.COMPLETE="complete",KE=Pt,ds.EventType=Wn,Wn.OPEN="a",Wn.CLOSE="b",Wn.ERROR="c",Wn.MESSAGE="d",At.prototype.listen=At.prototype.K,Rl=ds,tt.prototype.listenOnce=tt.prototype.L,tt.prototype.getLastError=tt.prototype.Ka,tt.prototype.getLastErrorCode=tt.prototype.Ba,tt.prototype.getStatus=tt.prototype.Z,tt.prototype.getResponseJson=tt.prototype.Oa,tt.prototype.getResponseText=tt.prototype.oa,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Ha,GE=tt}).apply(typeof Bc<"u"?Bc:typeof self<"u"?self:typeof window<"u"?window:{});const Q_="@firebase/firestore";let Wt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");let ho="10.14.0";const Qs=new $m("@firebase/firestore");function Tl(){return Qs.logLevel}function ce(r,...e){if(Qs.logLevel<=Ue.DEBUG){const n=e.map(op);Qs.debug(`Firestore (${ho}): ${r}`,...n)}}function Zi(r,...e){if(Qs.logLevel<=Ue.ERROR){const n=e.map(op);Qs.error(`Firestore (${ho}): ${r}`,...n)}}function eo(r,...e){if(Qs.logLevel<=Ue.WARN){const n=e.map(op);Qs.warn(`Firestore (${ho}): ${r}`,...n)}}function op(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Te(r="Unexpected state"){const e=`FIRESTORE (${ho}) INTERNAL ASSERTION FAILED: `+r;throw Zi(e),new Error(e)}function $e(r,e){r||Te()}function Ae(r,e){return r}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends nr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class $i{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class XE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Wt.UNAUTHENTICATED)))}shutdown(){}}class mx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class px{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){$e(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new $i;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new $i,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new $i)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($e(typeof s.accessToken=="string"),new XE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string"),new Wt(e)}}class gx{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class yx{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new gx(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable((()=>n(Wt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class vx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _x{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){$e(this.o===void 0);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?($e(typeof n.token=="string"),this.R=n.token,new vx(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Ex(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class JE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const o=Ex(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%e.length))}return s}}function He(r,e){return r<e?-1:r>e?1:0}function to(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}class Rt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new oe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new Rt(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class be{constructor(e){this.timestamp=e}static fromTimestamp(e){return new be(e)}static min(){return new be(new Rt(0,0))}static max(){return new be(new Rt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Bl{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(),s===void 0?s=e.length-n:s>e.length-n&&Te(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Bl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Bl?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=e.get(o),f=n.get(o);if(u<f)return-1;if(u>f)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class rt extends Bl{construct(e,n,s){return new rt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new oe(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new rt(n)}static emptyPath(){return new rt([])}}const Tx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends Bl{construct(e,n,s){return new Gt(e,n,s)}static isValidIdentifier(e){return Tx.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Gt(["__name__"])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new oe(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new oe(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new oe(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new oe(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gt(n)}static emptyPath(){return new Gt([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(rt.fromString(e))}static fromName(e){return new pe(rt.fromString(e).popFirst(5))}static empty(){return new pe(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new rt(e.slice()))}}function wx(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=be.fromTimestamp(s===1e9?new Rt(n+1,0):new Rt(n,s));return new is(o,pe.empty(),e)}function bx(r){return new is(r.readTime,r.key,-1)}class is{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new is(be.min(),pe.empty(),-1)}static max(){return new is(be.max(),pe.empty(),-1)}}function Ax(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(r.documentKey,e.documentKey),n!==0?n:He(r.largestBatchId,e.largestBatchId))}const Sx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Rx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function nu(r){if(r.code!==ee.FAILED_PRECONDITION||r.message!==Sx)throw r;ce("LocalStore","Unexpectedly lost primary lease")}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,s)=>{n(e)}))}static reject(e){return new te(((n,s)=>{s(e)}))}static waitFor(e){return new te(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(e){let n=te.resolve(!1);for(const s of e)n=n.next((o=>o?te.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new te(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next((E=>{f[y]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new te(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function xx(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function iu(r){return r.name==="IndexedDbTransactionError"}class lp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ie(s),this.se=s=>n.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}lp.oe=-1;function Ih(r){return r==null}function dh(r){return r===0&&1/r==-1/0}function Cx(r){return typeof r=="number"&&Number.isInteger(r)&&!dh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}function Y_(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Js(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function WE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class lt{constructor(e,n){this.comparator=e,this.root=n||Ft.EMPTY}insert(e,n){return new lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qc(this.root,e,this.comparator,!1)}getReverseIterator(){return new qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qc(this.root,e,this.comparator,!0)}}class qc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Ft.RED,this.left=o??Ft.EMPTY,this.right=u??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Ft(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Ft.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,n,s,o,u){return this}insert(e,n,s){return new Ft(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Kt{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $_(this.data.getIterator())}getIteratorFrom(e){return new $_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Kt(this.comparator);return n.data=e,n}}class $_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Rn{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new Rn([])}unionWith(e){let n=new Kt(Gt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return to(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class ZE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new ZE("Invalid base64 string: "+u):u}})(e);return new Qt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const Ix=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rs(r){if($e(!!r),typeof r=="string"){let e=0;const n=Ix.exec(r);if($e(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:gt(r.seconds),nanos:gt(r.nanos)}}function gt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ys(r){return typeof r=="string"?Qt.fromBase64String(r):Qt.fromUint8Array(r)}function up(r){var e,n;return((n=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function cp(r){const e=r.mapValue.fields.__previous_value__;return up(e)?cp(e):e}function ql(r){const e=rs(r.mapValue.fields.__local_write_time__.timestampValue);return new Rt(e.seconds,e.nanos)}class Nx{constructor(e,n,s,o,u,f,m,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y}}class Hl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Hl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Hl&&e.projectId===this.projectId&&e.database===this.database}}const Hc={mapValue:{}};function $s(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?up(r)?4:Ox(r)?9007199254740991:Dx(r)?10:11:Te()}function pi(r,e){if(r===e)return!0;const n=$s(r);if(n!==$s(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ql(r).isEqual(ql(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=rs(o.timestampValue),m=rs(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return Ys(o.bytesValue).isEqual(Ys(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return gt(o.geoPointValue.latitude)===gt(u.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return gt(o.integerValue)===gt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=gt(o.doubleValue),m=gt(u.doubleValue);return f===m?dh(f)===dh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return to(r.arrayValue.values||[],e.arrayValue.values||[],pi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Y_(f)!==Y_(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!pi(f[p],m[p])))return!1;return!0})(r,e);default:return Te()}}function Fl(r,e){return(r.values||[]).find((n=>pi(n,e)))!==void 0}function no(r,e){if(r===e)return 0;const n=$s(r),s=$s(e);if(n!==s)return He(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=gt(u.integerValue||u.doubleValue),p=gt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return X_(r.timestampValue,e.timestampValue);case 4:return X_(ql(r),ql(e));case 5:return He(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=Ys(u),p=Ys(f);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=He(m[y],p[y]);if(E!==0)return E}return He(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=He(gt(u.latitude),gt(f.latitude));return m!==0?m:He(gt(u.longitude),gt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return J_(r.arrayValue,e.arrayValue);case 10:return(function(u,f){var m,p,y,E;const b=u.fields||{},x=f.fields||{},V=(m=b.value)===null||m===void 0?void 0:m.arrayValue,j=(p=x.value)===null||p===void 0?void 0:p.arrayValue,K=He(((y=V?.values)===null||y===void 0?void 0:y.length)||0,((E=j?.values)===null||E===void 0?void 0:E.length)||0);return K!==0?K:J_(V,j)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Hc.mapValue&&f===Hc.mapValue)return 0;if(u===Hc.mapValue)return 1;if(f===Hc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let b=0;b<p.length&&b<E.length;++b){const x=He(p[b],E[b]);if(x!==0)return x;const V=no(m[p[b]],y[E[b]]);if(V!==0)return V}return He(p.length,E.length)})(r.mapValue,e.mapValue);default:throw Te()}}function X_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return He(r,e);const n=rs(r),s=rs(e),o=He(n.seconds,s.seconds);return o!==0?o:He(n.nanos,s.nanos)}function J_(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=no(n[o],s[o]);if(u)return u}return He(n.length,s.length)}function io(r){return Dm(r)}function Dm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=rs(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Ys(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return pe.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Dm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Dm(n.fields[f])}`;return o+"}"})(r.mapValue):Te()}function W_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Om(r){return!!r&&"integerValue"in r}function hp(r){return!!r&&"arrayValue"in r}function Z_(r){return!!r&&"nullValue"in r}function e0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Wc(r){return!!r&&"mapValue"in r}function Dx(r){var e,n;return((n=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ml(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Js(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Ml(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ml(r.arrayValue.values[n]);return e}return Object.assign({},r)}function Ox(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Wc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ml(n)}setAll(e){let n=Gt.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Ml(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Wc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return pi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Wc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Js(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new gn(Ml(this.value))}}function eT(r){const e=[];return Js(r.fields,((n,s)=>{const o=new Gt([n]);if(Wc(s)){const u=eT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new Rn(e)}class Zt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,be.min(),be.min(),be.min(),gn.empty(),0)}static newFoundDocument(e,n,s,o){return new Zt(e,1,n,be.min(),s,o,0)}static newNoDocument(e,n){return new Zt(e,2,n,be.min(),be.min(),gn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,be.min(),be.min(),gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class mh{constructor(e,n){this.position=e,this.inclusive=n}}function t0(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=pe.comparator(pe.fromName(f.referenceValue),n.key):s=no(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function n0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!pi(r.position[n],e.position[n]))return!1;return!0}class Gl{constructor(e,n="asc"){this.field=e,this.dir=n}}function Mx(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class tT{}class bt extends tT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new kx(e,n,s):n==="array-contains"?new Px(e,s):n==="in"?new jx(e,s):n==="not-in"?new zx(e,s):n==="array-contains-any"?new Bx(e,s):new bt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new Lx(e,s):new Ux(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(no(n,this.value)):n!==null&&$s(this.value)===$s(n)&&this.matchesComparison(no(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $n extends tT{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new $n(e,n)}matches(e){return nT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function nT(r){return r.op==="and"}function iT(r){return Vx(r)&&nT(r)}function Vx(r){for(const e of r.filters)if(e instanceof $n)return!1;return!0}function Mm(r){if(r instanceof bt)return r.field.canonicalString()+r.op.toString()+io(r.value);if(iT(r))return r.filters.map((e=>Mm(e))).join(",");{const e=r.filters.map((n=>Mm(n))).join(",");return`${r.op}(${e})`}}function rT(r,e){return r instanceof bt?(function(s,o){return o instanceof bt&&s.op===o.op&&s.field.isEqual(o.field)&&pi(s.value,o.value)})(r,e):r instanceof $n?(function(s,o){return o instanceof $n&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&rT(f,o.filters[m])),!0):!1})(r,e):void Te()}function sT(r){return r instanceof bt?(function(n){return`${n.field.canonicalString()} ${n.op} ${io(n.value)}`})(r):r instanceof $n?(function(n){return n.op.toString()+" {"+n.getFilters().map(sT).join(" ,")+"}"})(r):"Filter"}class kx extends bt{constructor(e,n,s){super(e,n,s),this.key=pe.fromName(s.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class Lx extends bt{constructor(e,n){super(e,"in",n),this.keys=aT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Ux extends bt{constructor(e,n){super(e,"not-in",n),this.keys=aT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function aT(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((s=>pe.fromName(s.referenceValue)))}class Px extends bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return hp(n)&&Fl(n.arrayValue,this.value)}}class jx extends bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Fl(this.value.arrayValue,n)}}class zx extends bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Fl(this.value.arrayValue,n)}}class Bx extends bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!hp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Fl(this.value.arrayValue,s)))}}class qx{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.ue=null}}function i0(r,e=null,n=[],s=[],o=null,u=null,f=null){return new qx(r,e,n,s,o,u,f)}function fp(r){const e=Ae(r);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Mm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Ih(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>io(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>io(s))).join(",")),e.ue=n}return e.ue}function dp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!Mx(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!rT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!n0(r.startAt,e.startAt)&&n0(r.endAt,e.endAt)}function Vm(r){return pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class fo{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Hx(r,e,n,s,o,u,f,m){return new fo(r,e,n,s,o,u,f,m)}function mp(r){return new fo(r)}function r0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function oT(r){return r.collectionGroup!==null}function Vl(r){const e=Ae(r);if(e.ce===null){e.ce=[];const n=new Set;for(const u of e.explicitOrderBy)e.ce.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Kt(Gt.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.ce.push(new Gl(u,s))})),n.has(Gt.keyField().canonicalString())||e.ce.push(new Gl(Gt.keyField(),s))}return e.ce}function di(r){const e=Ae(r);return e.le||(e.le=Fx(e,Vl(r))),e.le}function Fx(r,e){if(r.limitType==="F")return i0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Gl(o.field,u)}));const n=r.endAt?new mh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new mh(r.startAt.position,r.startAt.inclusive):null;return i0(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function km(r,e){const n=r.filters.concat([e]);return new fo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function ph(r,e,n){return new fo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Nh(r,e){return dp(di(r),di(e))&&r.limitType===e.limitType}function lT(r){return`${fp(di(r))}|lt:${r.limitType}`}function Fa(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>sT(o))).join(", ")}]`),Ih(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>io(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>io(o))).join(",")),`Target(${s})`})(di(r))}; limitType=${r.limitType})`}function Dh(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Vl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const y=t0(f,m,p);return f.inclusive?y<=0:y<0})(s.startAt,Vl(s),o)||s.endAt&&!(function(f,m,p){const y=t0(f,m,p);return f.inclusive?y>=0:y>0})(s.endAt,Vl(s),o))})(r,e)}function Gx(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function uT(r){return(e,n)=>{let s=!1;for(const o of Vl(r)){const u=Kx(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function Kx(r,e,n){const s=r.field.isKeyField()?pe.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?no(p,y):Te()})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Te()}}class mo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Js(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return WE(this.inner)}size(){return this.innerSize}}const Qx=new lt(pe.comparator);function er(){return Qx}const cT=new lt(pe.comparator);function xl(...r){let e=cT;for(const n of r)e=e.insert(n.key,n);return e}function hT(r){let e=cT;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function zs(){return kl()}function fT(){return kl()}function kl(){return new mo((r=>r.toString()),((r,e)=>r.isEqual(e)))}const Yx=new lt(pe.comparator),$x=new Kt(pe.comparator);function Ve(...r){let e=$x;for(const n of r)e=e.add(n);return e}const Xx=new Kt(He);function Jx(){return Xx}function pp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dh(e)?"-0":e}}function dT(r){return{integerValue:""+r}}function Wx(r,e){return Cx(e)?dT(e):pp(r,e)}class Oh{constructor(){this._=void 0}}function Zx(r,e,n){return r instanceof Kl?(function(o,u){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&up(u)&&(u=cp(u)),u&&(f.fields.__previous_value__=u),{mapValue:f}})(n,e):r instanceof Ql?pT(r,e):r instanceof Yl?gT(r,e):(function(o,u){const f=mT(o,u),m=s0(f)+s0(o.Pe);return Om(f)&&Om(o.Pe)?dT(m):pp(o.serializer,m)})(r,e)}function eC(r,e,n){return r instanceof Ql?pT(r,e):r instanceof Yl?gT(r,e):n}function mT(r,e){return r instanceof gh?(function(s){return Om(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Kl extends Oh{}class Ql extends Oh{constructor(e){super(),this.elements=e}}function pT(r,e){const n=yT(e);for(const s of r.elements)n.some((o=>pi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Yl extends Oh{constructor(e){super(),this.elements=e}}function gT(r,e){let n=yT(e);for(const s of r.elements)n=n.filter((o=>!pi(o,s)));return{arrayValue:{values:n}}}class gh extends Oh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function s0(r){return gt(r.integerValue||r.doubleValue)}function yT(r){return hp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class tC{constructor(e,n){this.field=e,this.transform=n}}function nC(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof Ql&&o instanceof Ql||s instanceof Yl&&o instanceof Yl?to(s.elements,o.elements,pi):s instanceof gh&&o instanceof gh?pi(s.Pe,o.Pe):s instanceof Kl&&o instanceof Kl})(r.transform,e.transform)}class iC{constructor(e,n){this.version=e,this.transformResults=n}}class Qn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Qn}static exists(e){return new Qn(void 0,e)}static updateTime(e){return new Qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Mh{}function vT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new ET(r.key,Qn.none()):new ru(r.key,r.data,Qn.none());{const n=r.data,s=gn.empty();let o=new Kt(Gt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new os(r.key,s,new Rn(o.toArray()),Qn.none())}}function rC(r,e,n){r instanceof ru?(function(o,u,f){const m=o.value.clone(),p=o0(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof os?(function(o,u,f){if(!Zc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=o0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(_T(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Ll(r,e,n,s){return r instanceof ru?(function(u,f,m,p){if(!Zc(u.precondition,f))return m;const y=u.value.clone(),E=l0(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,e,n,s):r instanceof os?(function(u,f,m,p){if(!Zc(u.precondition,f))return m;const y=l0(u.fieldTransforms,p,f),E=f.data;return E.setAll(_T(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(r,e,n,s):(function(u,f,m){return Zc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function sC(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=mT(s.transform,o||null);u!=null&&(n===null&&(n=gn.empty()),n.set(s.field,u))}return n||null}function a0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&to(s,o,((u,f)=>nC(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class ru extends Mh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class os extends Mh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function _T(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function o0(r,e,n){const s=new Map;$e(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,eC(f,m,n[o]))}return s}function l0(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,Zx(u,f,e))}return s}class ET extends Mh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aC extends Mh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class oC{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&rC(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Ll(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Ll(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=fT();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=vT(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(be.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ve())}isEqual(e){return this.batchId===e.batchId&&to(this.mutations,e.mutations,((n,s)=>a0(n,s)))&&to(this.baseMutations,e.baseMutations,((n,s)=>a0(n,s)))}}class gp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){$e(e.mutations.length===s.length);let o=(function(){return Yx})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new gp(e,n,s,o)}}class lC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class uC{constructor(e,n){this.count=e,this.unchangedNames=n}}var wt,Pe;function cC(r){switch(r){default:return Te();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0}}function TT(r){if(r===void 0)return Zi("GRPC error has no .code"),ee.UNKNOWN;switch(r){case wt.OK:return ee.OK;case wt.CANCELLED:return ee.CANCELLED;case wt.UNKNOWN:return ee.UNKNOWN;case wt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case wt.INTERNAL:return ee.INTERNAL;case wt.UNAVAILABLE:return ee.UNAVAILABLE;case wt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case wt.NOT_FOUND:return ee.NOT_FOUND;case wt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case wt.ABORTED:return ee.ABORTED;case wt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case wt.DATA_LOSS:return ee.DATA_LOSS;default:return Te()}}(Pe=wt||(wt={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";function hC(){return new TextEncoder}const fC=new qs([4294967295,4294967295],0);function u0(r){const e=hC().encode(r),n=new FE;return n.update(e),new Uint8Array(n.digest())}function c0(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new qs([n,s],0),new qs([o,u],0)]}class yp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Cl(`Invalid padding: ${n}`);if(s<0)throw new Cl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Cl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Cl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=qs.fromNumber(this.Ie)}Ee(e,n,s){let o=e.add(n.multiply(qs.fromNumber(s)));return o.compare(fC)===1&&(o=new qs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=u0(e),[s,o]=c0(n);for(let u=0;u<this.hashCount;u++){const f=this.Ee(s,o,u);if(!this.de(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new yp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.Ie===0)return;const n=u0(e),[s,o]=c0(n);for(let u=0;u<this.hashCount;u++){const f=this.Ee(s,o,u);this.Ae(f)}}Ae(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Cl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Vh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,su.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Vh(be.min(),o,new lt(He),er(),Ve())}}class su{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new su(s,n,Ve(),Ve(),Ve())}}class eh{constructor(e,n,s,o){this.Re=e,this.removedTargetIds=n,this.key=s,this.Ve=o}}class wT{constructor(e,n){this.targetId=e,this.me=n}}class bT{constructor(e,n,s=Qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class h0{constructor(){this.fe=0,this.ge=d0(),this.pe=Qt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ve(),n=Ve(),s=Ve();return this.ge.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Te()}})),new su(this.pe,this.ye,e,n,s)}Ce(){this.we=!1,this.ge=d0()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,$e(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class dC{constructor(e){this.Le=e,this.Be=new Map,this.ke=er(),this.qe=f0(),this.Qe=new lt(He)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,(n=>{const s=this.Ge(n);switch(e.state){case 0:this.ze(n)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),s.De(e.resumeToken));break;default:Te()}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach(((s,o)=>{this.ze(o)&&n(o)}))}He(e){const n=e.targetId,s=e.me.count,o=this.Je(n);if(o){const u=o.target;if(Vm(u))if(s===0){const f=new pe(u.path);this.Ue(n,f,Zt.newNoDocument(f,be.min()))}else $e(s===1);else{const f=this.Ye(n);if(f!==s){const m=this.Ze(e),p=m?this.Xe(m,e,f):1;if(p!==0){this.je(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,y)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Ys(s).toUint8Array()}catch(p){if(p instanceof ZE)return eo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new yp(f,o,u)}catch(p){return eo(p instanceof Cl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ie===0?null:m}Xe(e,n,s){return n.me.count===s-this.nt(e,n.targetId)?0:2}nt(e,n){const s=this.Le.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Le.tt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.Ue(n,u,null),o++)})),o}rt(e){const n=new Map;this.Be.forEach(((u,f)=>{const m=this.Je(f);if(m){if(u.current&&Vm(m.target)){const p=new pe(m.target.path);this.ke.get(p)!==null||this.it(f,p)||this.Ue(f,p,Zt.newNoDocument(p,e))}u.be&&(n.set(f,u.ve()),u.Ce())}}));let s=Ve();this.qe.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const y=this.Je(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.ke.forEach(((u,f)=>f.setReadTime(e)));const o=new Vh(e,n,this.Qe,this.ke,s);return this.ke=er(),this.qe=f0(),this.Qe=new lt(He),o}$e(e,n){if(!this.ze(e))return;const s=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,s),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,s){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,n)?o.Fe(n,1):o.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),s&&(this.ke=this.ke.insert(n,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new h0,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Kt(He),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new h0),this.Le.getRemoteKeysForTarget(e).forEach((n=>{this.Ue(e,n,null)}))}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function f0(){return new lt(pe.comparator)}function d0(){return new lt(pe.comparator)}const mC={asc:"ASCENDING",desc:"DESCENDING"},pC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gC={and:"AND",or:"OR"};class yC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Lm(r,e){return r.useProto3Json||Ih(e)?e:{value:e}}function yh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function vC(r,e){return yh(r,e.toTimestamp())}function mi(r){return $e(!!r),be.fromTimestamp((function(n){const s=rs(n);return new Rt(s.seconds,s.nanos)})(r))}function vp(r,e){return Um(r,e).canonicalString()}function Um(r,e){const n=(function(o){return new rt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function ST(r){const e=rt.fromString(r);return $e(NT(e)),e}function Pm(r,e){return vp(r.databaseId,e.path)}function lm(r,e){const n=ST(e);if(n.get(1)!==r.databaseId.projectId)throw new oe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new oe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new pe(xT(n))}function RT(r,e){return vp(r.databaseId,e)}function _C(r){const e=ST(r);return e.length===4?rt.emptyPath():xT(e)}function jm(r){return new rt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function xT(r){return $e(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function m0(r,e,n){return{name:Pm(r,e),fields:n.value.mapValue.fields}}function EC(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te()})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?($e(E===void 0||typeof E=="string"),Qt.fromBase64String(E||"")):($e(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Qt.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?ee.UNKNOWN:TT(y.code);return new oe(E,y.message||"")})(f);n=new bT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=lm(r,s.document.name),u=mi(s.document.updateTime),f=s.document.createTime?mi(s.document.createTime):be.min(),m=new gn({mapValue:{fields:s.document.fields}}),p=Zt.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new eh(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=lm(r,s.document),u=s.readTime?mi(s.readTime):be.min(),f=Zt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new eh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=lm(r,s.document),u=s.removedTargetIds||[];n=new eh([],u,o,null)}else{if(!("filter"in e))return Te();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new uC(o,u),m=s.targetId;n=new wT(m,f)}}return n}function TC(r,e){let n;if(e instanceof ru)n={update:m0(r,e.key,e.value)};else if(e instanceof ET)n={delete:Pm(r,e.key)};else if(e instanceof os)n={update:m0(r,e.key,e.data),updateMask:NC(e.fieldMask)};else{if(!(e instanceof aC))return Te();n={verify:Pm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Kl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Ql)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Yl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof gh)return{fieldPath:f.field.canonicalString(),increment:m.Pe};throw Te()})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:vC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te()})(r,e.precondition)),n}function wC(r,e){return r&&r.length>0?($e(e!==void 0),r.map((n=>(function(o,u){let f=o.updateTime?mi(o.updateTime):mi(u);return f.isEqual(be.min())&&(f=mi(u)),new iC(f,o.transformResults||[])})(n,e)))):[]}function bC(r,e){return{documents:[RT(r,e.path)]}}function AC(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=RT(r,o);const u=(function(y){if(y.length!==0)return IT($n.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(x){return{field:Ga(x.field),direction:xC(x.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Lm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{_t:n,parent:o}}function SC(r){let e=_C(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){$e(s===1);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(b){const x=CT(b);return x instanceof $n&&iT(x)?x.getFilters():[x]})(n.where));let f=[];n.orderBy&&(f=(function(b){return b.map((x=>(function(j){return new Gl(Ka(j.field),(function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(x)))})(n.orderBy));let m=null;n.limit&&(m=(function(b){let x;return x=typeof b=="object"?b.value:b,Ih(x)?null:x})(n.limit));let p=null;n.startAt&&(p=(function(b){const x=!!b.before,V=b.values||[];return new mh(V,x)})(n.startAt));let y=null;return n.endAt&&(y=(function(b){const x=!b.before,V=b.values||[];return new mh(V,x)})(n.endAt)),Hx(e,o,f,u,m,"F",p,y)}function RC(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function CT(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ka(n.unaryFilter.field);return bt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ka(n.unaryFilter.field);return bt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ka(n.unaryFilter.field);return bt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ka(n.unaryFilter.field);return bt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Te()}})(r):r.fieldFilter!==void 0?(function(n){return bt.create(Ka(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return $n.create(n.compositeFilter.filters.map((s=>CT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te()}})(n.compositeFilter.op))})(r):Te()}function xC(r){return mC[r]}function CC(r){return pC[r]}function IC(r){return gC[r]}function Ga(r){return{fieldPath:r.canonicalString()}}function Ka(r){return Gt.fromServerFormat(r.fieldPath)}function IT(r){return r instanceof bt?(function(n){if(n.op==="=="){if(e0(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NAN"}};if(Z_(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(e0(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NOT_NAN"}};if(Z_(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(n.field),op:CC(n.op),value:n.value}}})(r):r instanceof $n?(function(n){const s=n.getFilters().map((o=>IT(o)));return s.length===1?s[0]:{compositeFilter:{op:IC(n.op),filters:s}}})(r):Te()}function NC(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function NT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Wr{constructor(e,n,s,o,u=be.min(),f=be.min(),m=Qt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Wr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class DC{constructor(e){this.ct=e}}function OC(r){const e=SC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ph(e,e.limit,"L"):e}class MC{constructor(){this.un=new VC}addToCollectionParentIndex(e,n){return this.un.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(is.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(is.min())}updateCollectionGroup(e,n,s){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class VC{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Kt(rt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Kt(rt.comparator)).toArray()}}class ro{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ro(0)}static kn(){return new ro(-1)}}class kC{constructor(){this.changes=new mo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?te.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class LC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class UC{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Ll(s.mutation,o,Rn.empty(),Rt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ve()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ve()){const o=zs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=xl();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=zs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ve())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=er();const f=kl(),m=(function(){return kl()})();return n.forEach(((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof os)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Ll(E.mutation,y,E.mutation.getFieldMask(),Rt.now())):f.set(y.key,Rn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>{var b;return m.set(y,new LC(E,(b=f.get(y))!==null&&b!==void 0?b:null))})),m)))}recalculateAndSaveOverlays(e,n){const s=kl();let o=new lt(((f,m)=>f-m)),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let E=s.get(p)||Rn.empty();E=m.applyToLocalView(y,E),s.set(p,E);const b=(o.get(m.batchId)||Ve()).add(p);o=o.insert(m.batchId,b)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,b=fT();E.forEach((x=>{if(!u.has(x)){const V=vT(n.get(x),s.get(x));V!==null&&b.set(x,V),u=u.add(x)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,b))}return te.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return pe.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):oT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):te.resolve(zs());let m=-1,p=u;return f.next((y=>te.forEach(y,((E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(E)?te.resolve():this.remoteDocumentCache.getEntry(e,E).next((x=>{p=p.insert(E,x)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,p,y,Ve()))).next((E=>({batchId:m,changes:hT(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next((s=>{let o=xl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=xl();return this.indexManager.getCollectionParents(e,u).next((m=>te.forEach(m,(p=>{const y=(function(b,x){return new fo(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((E=>{E.forEach(((b,x)=>{f=f.insert(b,x)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Zt.newInvalidDocument(E)))}));let m=xl();return f.forEach(((p,y)=>{const E=u.get(p);E!==void 0&&Ll(E.mutation,y,Rn.empty(),Rt.now()),Dh(n,y)&&(m=m.insert(p,y))})),m}))}}class PC{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return te.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:mi(o.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,(function(o){return{name:o.name,query:OC(o.bundledQuery),readTime:mi(o.readTime)}})(n)),te.resolve()}}class jC{constructor(){this.overlays=new lt(pe.comparator),this.Ir=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const s=zs();return te.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.ht(e,n,u)})),te.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Ir.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Ir.delete(s)),te.resolve()}getOverlaysForCollection(e,n,s){const o=zs(),u=n.length+1,f=new pe(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new lt(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=zs(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=zs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return te.resolve(m)}ht(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Ir.get(o.largestBatchId).delete(s.key);this.Ir.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new lC(n,s));let u=this.Ir.get(n);u===void 0&&(u=Ve(),this.Ir.set(n,u)),this.Ir.set(n,u.add(s.key))}}class zC{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}class _p{constructor(){this.Tr=new Kt(Vt.Er),this.dr=new Kt(Vt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const s=new Vt(e,n);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Vr(new Vt(e,n))}mr(e,n){e.forEach((s=>this.removeReference(s,n)))}gr(e){const n=new pe(new rt([])),s=new Vt(n,e),o=new Vt(n,e+1),u=[];return this.dr.forEachInRange([s,o],(f=>{this.Vr(f),u.push(f.key)})),u}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new pe(new rt([])),s=new Vt(n,e),o=new Vt(n,e+1);let u=Ve();return this.dr.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Vt(e,0),s=this.Tr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Vt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return pe.comparator(e.key,n.key)||He(e.wr,n.wr)}static Ar(e,n){return He(e.wr,n.wr)||pe.comparator(e.key,n.key)}}class BC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Kt(Vt.Er)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new oC(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.br=this.br.add(new Vt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,n){return te.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.vr(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Vt(n,0),o=new Vt(n,Number.POSITIVE_INFINITY),u=[];return this.br.forEachInRange([s,o],(f=>{const m=this.Dr(f.wr);u.push(m)})),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Kt(He);return n.forEach((o=>{const u=new Vt(o,0),f=new Vt(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([u,f],(m=>{s=s.add(m.wr)}))})),te.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;pe.isDocumentKey(u)||(u=u.child(""));const f=new Vt(new pe(u),0);let m=new Kt(He);return this.br.forEachWhile((p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.wr)),!0)}),f),te.resolve(this.Cr(m))}Cr(e){const n=[];return e.forEach((s=>{const o=this.Dr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){$e(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.br;return te.forEach(n.mutations,(o=>{const u=new Vt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.br=s}))}On(e){}containsKey(e,n){const s=new Vt(n,0),o=this.br.firstAfterOrEqual(s);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class qC{constructor(e){this.Mr=e,this.docs=(function(){return new lt(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.Mr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return te.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let s=er();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))})),te.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=er();const f=n.path,m=new pe(f.child("")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||Ax(bx(E),s)<=0||(o.has(E.key)||Dh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Te()}Or(e,n){return te.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new HC(this)}getSize(e){return te.resolve(this.size)}}class HC extends kC{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.cr.addEntry(e,o)):this.cr.removeEntry(s)})),te.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}class FC{constructor(e){this.persistence=e,this.Nr=new mo((n=>fp(n)),dp),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.Lr=0,this.Br=new _p,this.targetCount=0,this.kr=ro.Bn()}forEachTarget(e,n){return this.Nr.forEach(((s,o)=>n(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Lr&&(this.Lr=n),te.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new ro(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Kn(n),te.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Nr.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Nr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),te.waitFor(u).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const s=this.Nr.get(n)||null;return te.resolve(s)}addMatchingKeys(e,n,s){return this.Br.Rr(n,s),te.resolve()}removeMatchingKeys(e,n,s){this.Br.mr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),te.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Br.yr(n);return te.resolve(s)}containsKey(e,n){return te.resolve(this.Br.containsKey(n))}}class GC{constructor(e,n){this.qr={},this.overlays={},this.Qr=new lp(0),this.Kr=!1,this.Kr=!0,this.$r=new zC,this.referenceDelegate=e(this),this.Ur=new FC(this),this.indexManager=new MC,this.remoteDocumentCache=(function(o){return new qC(o)})((s=>this.referenceDelegate.Wr(s))),this.serializer=new DC(n),this.Gr=new PC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new jC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.qr[e.toKey()];return s||(s=new BC(n,this.referenceDelegate),this.qr[e.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const o=new KC(this.Qr.next());return this.referenceDelegate.zr(),s(o).next((u=>this.referenceDelegate.jr(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Hr(e,n){return te.or(Object.values(this.qr).map((s=>()=>s.containsKey(e,n))))}}class KC extends Rx{constructor(e){super(),this.currentSequenceNumber=e}}class Ep{constructor(e){this.persistence=e,this.Jr=new _p,this.Yr=null}static Zr(e){return new Ep(e)}get Xr(){if(this.Yr)return this.Yr;throw Te()}addReference(e,n,s){return this.Jr.addReference(s,n),this.Xr.delete(s.toString()),te.resolve()}removeReference(e,n,s){return this.Jr.removeReference(s,n),this.Xr.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),te.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach((o=>this.Xr.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.Xr.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.Xr,(s=>{const o=pe.fromPath(s);return this.ei(e,o).next((u=>{u||n.removeEntry(o,be.min())}))})).next((()=>(this.Yr=null,n.apply(e))))}updateLimboDocument(e,n){return this.ei(e,n).next((s=>{s?this.Xr.delete(n.toString()):this.Xr.add(n.toString())}))}Wr(e){return 0}ei(e,n){return te.or([()=>te.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}class Tp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.$i=s,this.Ui=o}static Wi(e,n){let s=Ve(),o=Ve();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Tp(e,n.fromCache,s,o)}}class QC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class YC{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return LA()?8:xx(en())>0?6:4})()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.Yi(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.Zi(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new QC;return this.Xi(e,n,f).next((m=>{if(u.result=m,this.zi)return this.es(e,n,f,m.size)}))})).next((()=>u.result))}es(e,n,s,o){return s.documentReadCount<this.ji?(Tl()<=Ue.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Fa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),te.resolve()):(Tl()<=Ue.DEBUG&&ce("QueryEngine","Query:",Fa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.Hi*o?(Tl()<=Ue.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Fa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,di(n))):te.resolve())}Yi(e,n){if(r0(n))return te.resolve(null);let s=di(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=ph(n,null,"F"),s=di(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Ve(...u);return this.Ji.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const y=this.ts(n,m);return this.ns(n,y,f,p.readTime)?this.Yi(e,ph(n,null,"F")):this.rs(e,y,n,p)}))))})))))}Zi(e,n,s,o){return r0(n)||o.isEqual(be.min())?te.resolve(null):this.Ji.getDocuments(e,s).next((u=>{const f=this.ts(n,u);return this.ns(n,f,s,o)?te.resolve(null):(Tl()<=Ue.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Fa(n)),this.rs(e,f,n,wx(o,-1)).next((m=>m)))}))}ts(e,n){let s=new Kt(uT(e));return n.forEach(((o,u)=>{Dh(e,u)&&(s=s.add(u))})),s}ns(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Xi(e,n,s){return Tl()<=Ue.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Fa(n)),this.Ji.getDocumentsMatchingQuery(e,n,is.min(),s)}rs(e,n,s,o){return this.Ji.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}class $C{constructor(e,n,s,o){this.persistence=e,this.ss=n,this.serializer=o,this.os=new lt(He),this._s=new mo((u=>fp(u)),dp),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(s)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UC(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.os)))}}function XC(r,e,n,s){return new $C(r,e,n,s)}async function DT(r,e){const n=Ae(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.ls(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=Ve();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((y=>({hs:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function JC(r,e){const n=Ae(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.cs.newChangeBuffer({trackRemovals:!0});return(function(m,p,y,E){const b=y.batch,x=b.keys();let V=te.resolve();return x.forEach((j=>{V=V.next((()=>E.getEntry(p,j))).next((K=>{const q=y.docVersions.get(j);$e(q!==null),K.version.compareTo(q)<0&&(b.applyToRemoteDocument(K,y),K.isValidDocument()&&(K.setReadTime(y.commitVersion),E.addEntry(K)))}))})),V.next((()=>m.mutationQueue.removeMutationBatch(p,b)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Ve();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function OT(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Ur.getLastRemoteSnapshotVersion(n)))}function WC(r,e){const n=Ae(r),s=e.snapshotVersion;let o=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.cs.newChangeBuffer({trackRemovals:!0});o=n.os;const m=[];e.targetChanges.forEach(((E,b)=>{const x=o.get(b);if(!x)return;m.push(n.Ur.removeMatchingKeys(u,E.removedDocuments,b).next((()=>n.Ur.addMatchingKeys(u,E.addedDocuments,b))));let V=x.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?V=V.withResumeToken(Qt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):E.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(E.resumeToken,s)),o=o.insert(b,V),(function(K,q,W){return K.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=3e8?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0})(x,V,E)&&m.push(n.Ur.updateTargetData(u,V))}));let p=er(),y=Ve();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(ZC(u,f,e.documentUpdates).next((E=>{p=E.Ps,y=E.Is}))),!s.isEqual(be.min())){const E=n.Ur.getLastRemoteSnapshotVersion(u).next((b=>n.Ur.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return te.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,y))).next((()=>p))})).then((u=>(n.os=o,u)))}function ZC(r,e,n){let s=Ve(),o=Ve();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=er();return n.forEach(((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(be.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ce("LocalStore","Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)})),{Ps:f,Is:o}}))}function e2(r,e){const n=Ae(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function t2(r,e){const n=Ae(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Ur.getTargetData(s,e).next((u=>u?(o=u,te.resolve(o)):n.Ur.allocateTargetId(s).next((f=>(o=new Wr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Ur.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.os.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.os=n.os.insert(s.targetId,s),n._s.set(e,s.targetId)),s}))}async function zm(r,e,n){const s=Ae(r),o=s.os.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!iu(f))throw f;ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}s.os=s.os.remove(e),s._s.delete(o.target)}function p0(r,e,n){const s=Ae(r);let o=be.min(),u=Ve();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,y,E){const b=Ae(p),x=b._s.get(E);return x!==void 0?te.resolve(b.os.get(x)):b.Ur.getTargetData(y,E)})(s,f,di(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.ss.getDocumentsMatchingQuery(f,e,n?o:be.min(),n?u:Ve()))).next((m=>(n2(s,Gx(e),m),{documents:m,Ts:u})))))}function n2(r,e,n){let s=r.us.get(e)||be.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.us.set(e,s)}class g0{constructor(){this.activeTargetIds=Jx()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class i2{constructor(){this.so=new g0,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,s){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new g0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class r2{_o(e){}shutdown(){}}class y0{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Fc=null;function um(){return Fc===null?Fc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Fc++,"0x"+Fc.toString(16)}const s2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class a2{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Xt="WebChannelConnection";class o2 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+n.host,this.vo=`projects/${o}/databases/${u}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${u}`}get Fo(){return!1}Mo(n,s,o,u,f){const m=um(),p=this.xo(n,s.toUriEncodedString());ce("RestConnection",`Sending RPC '${n}' ${m}:`,p,o);const y={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(y,u,f),this.No(n,p,y,o).then((E=>(ce("RestConnection",`Received RPC '${n}' ${m}: `,E),E)),(E=>{throw eo("RestConnection",`RPC '${n}' ${m} failed with error: `,E,"url: ",p,"request:",o),E}))}Lo(n,s,o,u,f,m){return this.Mo(n,s,o,u,f)}Oo(n,s,o){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ho})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach(((u,f)=>n[f]=u)),o&&o.headers.forEach(((u,f)=>n[f]=u))}xo(n,s){const o=s2[n];return`${this.Do}/v1/${s}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,s,o){const u=um();return new Promise(((f,m)=>{const p=new GE;p.setWithCredentials(!0),p.listenOnce(KE.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Jc.NO_ERROR:const E=p.getResponseJson();ce(Xt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case Jc.TIMEOUT:ce(Xt,`RPC '${e}' ${u} timed out`),m(new oe(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Jc.HTTP_ERROR:const b=p.getStatus();if(ce(Xt,`RPC '${e}' ${u} failed with status:`,b,"response text:",p.getResponseText()),b>0){let x=p.getResponseJson();Array.isArray(x)&&(x=x[0]);const V=x?.error;if(V&&V.status&&V.message){const j=(function(q){const W=q.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(W)>=0?W:ee.UNKNOWN})(V.status);m(new oe(j,V.message))}else m(new oe(ee.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new oe(ee.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{ce(Xt,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(o);ce(Xt,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",y,s,15)}))}Bo(e,n,s){const o=um(),u=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=$E(),m=YE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Oo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ce(Xt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const b=f.createWebChannel(E,p);let x=!1,V=!1;const j=new a2({Io:q=>{V?ce(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(x||(ce(Xt,`Opening RPC '${e}' stream ${o} transport.`),b.open(),x=!0),ce(Xt,`RPC '${e}' stream ${o} sending:`,q),b.send(q))},To:()=>b.close()}),K=(q,W,ne)=>{q.listen(W,(se=>{try{ne(se)}catch(ye){setTimeout((()=>{throw ye}),0)}}))};return K(b,Rl.EventType.OPEN,(()=>{V||(ce(Xt,`RPC '${e}' stream ${o} transport opened.`),j.yo())})),K(b,Rl.EventType.CLOSE,(()=>{V||(V=!0,ce(Xt,`RPC '${e}' stream ${o} transport closed`),j.So())})),K(b,Rl.EventType.ERROR,(q=>{V||(V=!0,eo(Xt,`RPC '${e}' stream ${o} transport errored:`,q),j.So(new oe(ee.UNAVAILABLE,"The operation could not be completed")))})),K(b,Rl.EventType.MESSAGE,(q=>{var W;if(!V){const ne=q.data[0];$e(!!ne);const se=ne,ye=se.error||((W=se[0])===null||W===void 0?void 0:W.error);if(ye){ce(Xt,`RPC '${e}' stream ${o} received error:`,ye);const Ie=ye.status;let Ee=(function(R){const O=wt[R];if(O!==void 0)return TT(O)})(Ie),N=ye.message;Ee===void 0&&(Ee=ee.INTERNAL,N="Unknown error status: "+Ie+" with message "+ye.message),V=!0,j.So(new oe(Ee,N)),b.close()}else ce(Xt,`RPC '${e}' stream ${o} received:`,ne),j.bo(ne)}})),K(m,QE.STAT_EVENT,(q=>{q.stat===Nm.PROXY?ce(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===Nm.NOPROXY&&ce(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{j.wo()}),0),j}}function cm(){return typeof document<"u"?document:null}function kh(r){return new yC(r,!0)}class MT{constructor(e,n,s=1e3,o=1.5,u=6e4){this.ui=e,this.timerId=n,this.ko=s,this.qo=o,this.Qo=u,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),o=Math.max(0,n-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class VT{constructor(e,n,s,o,u,f,m,p){this.ui=e,this.Ho=s,this.Jo=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new MT(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(Zi(n.toString()),Zi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.Yo===n&&this.P_(s,o)}),(s=>{e((()=>{const o=new oe(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(o)}))}))}P_(e,n){const s=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo((()=>{s((()=>this.listener.Eo()))})),this.stream.Ro((()=>{s((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((o=>{s((()=>this.I_(o)))})),this.stream.onMessage((o=>{s((()=>++this.e_==1?this.E_(o):this.onNext(o)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget((()=>this.Yo===e?n():(ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class l2 extends VT{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=EC(this.serializer,e),s=(function(u){if(!("targetChange"in u))return be.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?be.min():f.readTime?mi(f.readTime):be.min()})(e);return this.listener.d_(n,s)}A_(e){const n={};n.database=jm(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=Vm(p)?{documents:bC(u,p)}:{query:AC(u,p)._t},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=AT(u,f.resumeToken);const y=Lm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(be.min())>0){m.readTime=yh(u,f.snapshotVersion.toTimestamp());const y=Lm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const s=RC(this.serializer,e);s&&(n.labels=s),this.a_(n)}R_(e){const n={};n.database=jm(this.serializer),n.removeTarget=e,this.a_(n)}}class u2 extends VT{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return $e(!!e.streamToken),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){$e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=wC(e.writeResults,e.commitTime),s=mi(e.commitTime);return this.listener.g_(s,n)}p_(){const e={};e.database=jm(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>TC(this.serializer,s)))};this.a_(n)}}class c2 extends class{}{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new oe(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,s,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Mo(e,Um(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe(ee.UNKNOWN,u.toString())}))}Lo(e,n,s,o,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Lo(e,Um(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new oe(ee.UNKNOWN,f.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class h2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Zi(n),this.D_=!1):ce("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}class f2{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=u,this.k_._o((f=>{s.enqueueAndForget((async()=>{Ws(this)&&(ce("RemoteStore","Restarting streams for network reachability change."),await(async function(p){const y=Ae(p);y.L_.add(4),await au(y),y.q_.set("Unknown"),y.L_.delete(4),await Lh(y)})(this))}))})),this.q_=new h2(s,o)}}async function Lh(r){if(Ws(r))for(const e of r.B_)await e(!0)}async function au(r){for(const e of r.B_)await e(!1)}function kT(r,e){const n=Ae(r);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Sp(n)?Ap(n):po(n).r_()&&bp(n,e))}function wp(r,e){const n=Ae(r),s=po(n);n.N_.delete(e),s.r_()&&LT(n,e),n.N_.size===0&&(s.r_()?s.o_():Ws(n)&&n.q_.set("Unknown"))}function bp(r,e){if(r.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}po(r).A_(e)}function LT(r,e){r.Q_.xe(e),po(r).R_(e)}function Ap(r){r.Q_=new dC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>r.N_.get(e)||null,tt:()=>r.datastore.serializer.databaseId}),po(r).start(),r.q_.v_()}function Sp(r){return Ws(r)&&!po(r).n_()&&r.N_.size>0}function Ws(r){return Ae(r).L_.size===0}function UT(r){r.Q_=void 0}async function d2(r){r.q_.set("Online")}async function m2(r){r.N_.forEach(((e,n)=>{bp(r,e)}))}async function p2(r,e){UT(r),Sp(r)?(r.q_.M_(e),Ap(r)):r.q_.set("Unknown")}async function g2(r,e,n){if(r.q_.set("Online"),e instanceof bT&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.N_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.N_.delete(m),o.Q_.removeTarget(m))})(r,e)}catch(s){ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await vh(r,s)}else if(e instanceof eh?r.Q_.Ke(e):e instanceof wT?r.Q_.He(e):r.Q_.We(e),!n.isEqual(be.min()))try{const s=await OT(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Q_.rt(f);return m.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.N_.get(y);E&&u.N_.set(y,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,y)=>{const E=u.N_.get(p);if(!E)return;u.N_.set(p,E.withResumeToken(Qt.EMPTY_BYTE_STRING,E.snapshotVersion)),LT(u,p);const b=new Wr(E.target,p,y,E.sequenceNumber);bp(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ce("RemoteStore","Failed to raise snapshot:",s),await vh(r,s)}}async function vh(r,e,n){if(!iu(e))throw e;r.L_.add(1),await au(r),r.q_.set("Offline"),n||(n=()=>OT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ce("RemoteStore","Retrying IndexedDB access"),await n(),r.L_.delete(1),await Lh(r)}))}function PT(r,e){return e().catch((n=>vh(r,n,e)))}async function Uh(r){const e=Ae(r),n=ss(e);let s=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;y2(e);)try{const o=await e2(e.localStore,s);if(o===null){e.O_.length===0&&n.o_();break}s=o.batchId,v2(e,o)}catch(o){await vh(e,o)}jT(e)&&zT(e)}function y2(r){return Ws(r)&&r.O_.length<10}function v2(r,e){r.O_.push(e);const n=ss(r);n.r_()&&n.V_&&n.m_(e.mutations)}function jT(r){return Ws(r)&&!ss(r).n_()&&r.O_.length>0}function zT(r){ss(r).start()}async function _2(r){ss(r).p_()}async function E2(r){const e=ss(r);for(const n of r.O_)e.m_(n.mutations)}async function T2(r,e,n){const s=r.O_.shift(),o=gp.from(s,e,n);await PT(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Uh(r)}async function w2(r,e){e&&ss(r).V_&&await(async function(s,o){if((function(f){return cC(f)&&f!==ee.ABORTED})(o.code)){const u=s.O_.shift();ss(s).s_(),await PT(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Uh(s)}})(r,e),jT(r)&&zT(r)}async function v0(r,e){const n=Ae(r);n.asyncQueue.verifyOperationInProgress(),ce("RemoteStore","RemoteStore received new credentials");const s=Ws(n);n.L_.add(3),await au(n),s&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Lh(n)}async function b2(r,e){const n=Ae(r);e?(n.L_.delete(2),await Lh(n)):e||(n.L_.add(2),await au(n),n.q_.set("Unknown"))}function po(r){return r.K_||(r.K_=(function(n,s,o){const u=Ae(n);return u.w_(),new l2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Eo:d2.bind(null,r),Ro:m2.bind(null,r),mo:p2.bind(null,r),d_:g2.bind(null,r)}),r.B_.push((async e=>{e?(r.K_.s_(),Sp(r)?Ap(r):r.q_.set("Unknown")):(await r.K_.stop(),UT(r))}))),r.K_}function ss(r){return r.U_||(r.U_=(function(n,s,o){const u=Ae(n);return u.w_(),new u2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Eo:()=>Promise.resolve(),Ro:_2.bind(null,r),mo:w2.bind(null,r),f_:E2.bind(null,r),g_:T2.bind(null,r)}),r.B_.push((async e=>{e?(r.U_.s_(),await Uh(r)):(await r.U_.stop(),r.O_.length>0&&(ce("RemoteStore",`Stopping write stream with ${r.O_.length} pending writes`),r.O_=[]))}))),r.U_}class Rp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new $i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Rp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xp(r,e){if(Zi("AsyncQueue",`${e}: ${r}`),iu(r))return new oe(ee.UNAVAILABLE,`${e}: ${r}`);throw r}class Ja{constructor(e){this.comparator=e?(n,s)=>e(n,s)||pe.comparator(n.key,s.key):(n,s)=>pe.comparator(n.key,s.key),this.keyedMap=xl(),this.sortedSet=new lt(this.comparator)}static emptySet(e){return new Ja(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ja)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ja;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class _0{constructor(){this.W_=new lt(pe.comparator)}track(e){const n=e.doc.key,s=this.W_.get(n);s?e.type!==0&&s.type===3?this.W_=this.W_.insert(n,e):e.type===3&&s.type!==1?this.W_=this.W_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.W_=this.W_.remove(n):e.type===1&&s.type===2?this.W_=this.W_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Te():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal(((n,s)=>{e.push(s)})),e}}class so{constructor(e,n,s,o,u,f,m,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new so(e,n,Ja.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class A2{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class S2{constructor(){this.queries=E0(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,s){const o=Ae(n),u=o.queries;o.queries=E0(),u.forEach(((f,m)=>{for(const p of m.j_)p.onError(s)}))})(this,new oe(ee.ABORTED,"Firestore shutting down"))}}function E0(){return new mo((r=>lT(r)),Nh)}async function BT(r,e){const n=Ae(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.H_()&&e.J_()&&(s=2):(u=new A2,s=e.J_()?0:1);try{switch(s){case 0:u.z_=await n.onListen(o,!0);break;case 1:u.z_=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=xp(f,`Initialization of query '${Fa(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.j_.push(e),e.Z_(n.onlineState),u.z_&&e.X_(u.z_)&&Cp(n)}async function qT(r,e){const n=Ae(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.j_.indexOf(e);f>=0&&(u.j_.splice(f,1),u.j_.length===0?o=e.J_()?0:1:!u.H_()&&e.J_()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function R2(r,e){const n=Ae(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.j_)m.X_(o)&&(s=!0);f.z_=o}}s&&Cp(n)}function x2(r,e,n){const s=Ae(r),o=s.queries.get(e);if(o)for(const u of o.j_)u.onError(n);s.queries.delete(e)}function Cp(r){r.Y_.forEach((e=>{e.next()}))}var Bm,T0;(T0=Bm||(Bm={})).ea="default",T0.Cache="cache";class HT{constructor(e,n,s){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new so(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const s=n!=="Offline";return(!this.options._a||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=so.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Bm.Cache}}class FT{constructor(e){this.key=e}}class GT{constructor(e){this.key=e}}class C2{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ve(),this.mutatedKeys=Ve(),this.Aa=uT(e),this.Ra=new Ja(this.Aa)}get Va(){return this.Ta}ma(e,n){const s=n?n.fa:new _0,o=n?n.Ra:this.Ra;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,b)=>{const x=o.get(E),V=Dh(this.query,b)?b:null,j=!!x&&this.mutatedKeys.has(x.key),K=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let q=!1;x&&V?x.data.isEqual(V.data)?j!==K&&(s.track({type:3,doc:V}),q=!0):this.ga(x,V)||(s.track({type:2,doc:V}),q=!0,(p&&this.Aa(V,p)>0||y&&this.Aa(V,y)<0)&&(m=!0)):!x&&V?(s.track({type:0,doc:V}),q=!0):x&&!V&&(s.track({type:1,doc:x}),q=!0,(p||y)&&(m=!0)),q&&(V?(f=f.add(V),u=K?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{Ra:f,fa:s,ns:m,mutatedKeys:u}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const f=e.fa.G_();f.sort(((E,b)=>(function(V,j){const K=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return K(V)-K(j)})(E.type,b.type)||this.Aa(E.doc,b.doc))),this.pa(s),o=o!=null&&o;const m=n&&!o?this.ya():[],p=this.da.size===0&&this.current&&!o?1:0,y=p!==this.Ea;return this.Ea=p,f.length!==0||y?{snapshot:new so(this.query,e.Ra,u,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:m}:{wa:m}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new _0,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((n=>this.Ta=this.Ta.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ta=this.Ta.delete(n))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ve(),this.Ra.forEach((s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))}));const n=[];return e.forEach((s=>{this.da.has(s)||n.push(new GT(s))})),this.da.forEach((s=>{e.has(s)||n.push(new FT(s))})),n}ba(e){this.Ta=e.Ts,this.da=Ve();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return so.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class I2{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class N2{constructor(e){this.key=e,this.va=!1}}class D2{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Ca={},this.Fa=new mo((m=>lT(m)),Nh),this.Ma=new Map,this.xa=new Set,this.Oa=new lt(pe.comparator),this.Na=new Map,this.La=new _p,this.Ba={},this.ka=new Map,this.qa=ro.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function O2(r,e,n=!0){const s=JT(r);let o;const u=s.Fa.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Da()):o=await KT(s,e,n,!0),o}async function M2(r,e){const n=JT(r);await KT(n,e,!0,!1)}async function KT(r,e,n,s){const o=await t2(r.localStore,di(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await V2(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&kT(r.remoteStore,o),m}async function V2(r,e,n,s,o){r.Ka=(b,x,V)=>(async function(K,q,W,ne){let se=q.view.ma(W);se.ns&&(se=await p0(K.localStore,q.query,!1).then((({documents:N})=>q.view.ma(N,se))));const ye=ne&&ne.targetChanges.get(q.targetId),Ie=ne&&ne.targetMismatches.get(q.targetId)!=null,Ee=q.view.applyChanges(se,K.isPrimaryClient,ye,Ie);return b0(K,q.targetId,Ee.wa),Ee.snapshot})(r,b,x,V);const u=await p0(r.localStore,e,!0),f=new C2(e,u.Ts),m=f.ma(u.documents),p=su.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);b0(r,n,y.wa);const E=new I2(e,n,f);return r.Fa.set(e,E),r.Ma.has(n)?r.Ma.get(n).push(e):r.Ma.set(n,[e]),y.snapshot}async function k2(r,e,n){const s=Ae(r),o=s.Fa.get(e),u=s.Ma.get(o.targetId);if(u.length>1)return s.Ma.set(o.targetId,u.filter((f=>!Nh(f,e)))),void s.Fa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await zm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&wp(s.remoteStore,o.targetId),qm(s,o.targetId)})).catch(nu)):(qm(s,o.targetId),await zm(s.localStore,o.targetId,!0))}async function L2(r,e){const n=Ae(r),s=n.Fa.get(e),o=n.Ma.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),wp(n.remoteStore,s.targetId))}async function U2(r,e,n){const s=F2(r);try{const o=await(function(f,m){const p=Ae(f),y=Rt.now(),E=m.reduce(((V,j)=>V.add(j.key)),Ve());let b,x;return p.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let j=er(),K=Ve();return p.cs.getEntries(V,E).next((q=>{j=q,j.forEach(((W,ne)=>{ne.isValidDocument()||(K=K.add(W))}))})).next((()=>p.localDocuments.getOverlayedDocuments(V,j))).next((q=>{b=q;const W=[];for(const ne of m){const se=sC(ne,b.get(ne.key).overlayedDocument);se!=null&&W.push(new os(ne.key,se,eT(se.value.mapValue),Qn.exists(!0)))}return p.mutationQueue.addMutationBatch(V,y,W,m)})).next((q=>{x=q;const W=q.applyToLocalDocumentSet(b,K);return p.documentOverlayCache.saveOverlays(V,q.batchId,W)}))})).then((()=>({batchId:x.batchId,changes:hT(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let y=f.Ba[f.currentUser.toKey()];y||(y=new lt(He)),y=y.insert(m,p),f.Ba[f.currentUser.toKey()]=y})(s,o.batchId,n),await ou(s,o.changes),await Uh(s.remoteStore)}catch(o){const u=xp(o,"Failed to persist write");n.reject(u)}}async function QT(r,e){const n=Ae(r);try{const s=await WC(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Na.get(u);f&&($e(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.va=!0:o.modifiedDocuments.size>0?$e(f.va):o.removedDocuments.size>0&&($e(f.va),f.va=!1))})),await ou(n,s,e)}catch(s){await nu(s)}}function w0(r,e,n){const s=Ae(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Fa.forEach(((u,f)=>{const m=f.view.Z_(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=Ae(f);p.onlineState=m;let y=!1;p.queries.forEach(((E,b)=>{for(const x of b.j_)x.Z_(m)&&(y=!0)})),y&&Cp(p)})(s.eventManager,e),o.length&&s.Ca.d_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function P2(r,e,n){const s=Ae(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Na.get(e),u=o&&o.key;if(u){let f=new lt(pe.comparator);f=f.insert(u,Zt.newNoDocument(u,be.min()));const m=Ve().add(u),p=new Vh(be.min(),new Map,new lt(He),f,m);await QT(s,p),s.Oa=s.Oa.remove(u),s.Na.delete(e),Ip(s)}else await zm(s.localStore,e,!1).then((()=>qm(s,e,n))).catch(nu)}async function j2(r,e){const n=Ae(r),s=e.batch.batchId;try{const o=await JC(n.localStore,e);$T(n,s,null),YT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await ou(n,o)}catch(o){await nu(o)}}async function z2(r,e,n){const s=Ae(r);try{const o=await(function(f,m){const p=Ae(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next((b=>($e(b!==null),E=b.keys(),p.mutationQueue.removeMutationBatch(y,b)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>p.localDocuments.getDocuments(y,E)))}))})(s.localStore,e);$T(s,e,n),YT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await ou(s,o)}catch(o){await nu(o)}}function YT(r,e){(r.ka.get(e)||[]).forEach((n=>{n.resolve()})),r.ka.delete(e)}function $T(r,e,n){const s=Ae(r);let o=s.Ba[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Ba[s.currentUser.toKey()]=o}}function qm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Ma.get(e))r.Fa.delete(s),n&&r.Ca.$a(s,n);r.Ma.delete(e),r.isPrimaryClient&&r.La.gr(e).forEach((s=>{r.La.containsKey(s)||XT(r,s)}))}function XT(r,e){r.xa.delete(e.path.canonicalString());const n=r.Oa.get(e);n!==null&&(wp(r.remoteStore,n),r.Oa=r.Oa.remove(e),r.Na.delete(n),Ip(r))}function b0(r,e,n){for(const s of n)s instanceof FT?(r.La.addReference(s.key,e),B2(r,s)):s instanceof GT?(ce("SyncEngine","Document no longer in limbo: "+s.key),r.La.removeReference(s.key,e),r.La.containsKey(s.key)||XT(r,s.key)):Te()}function B2(r,e){const n=e.key,s=n.path.canonicalString();r.Oa.get(n)||r.xa.has(s)||(ce("SyncEngine","New document in limbo: "+n),r.xa.add(s),Ip(r))}function Ip(r){for(;r.xa.size>0&&r.Oa.size<r.maxConcurrentLimboResolutions;){const e=r.xa.values().next().value;r.xa.delete(e);const n=new pe(rt.fromString(e)),s=r.qa.next();r.Na.set(s,new N2(n)),r.Oa=r.Oa.insert(n,s),kT(r.remoteStore,new Wr(di(mp(n.path)),s,"TargetPurposeLimboResolution",lp.oe))}}async function ou(r,e,n){const s=Ae(r),o=[],u=[],f=[];s.Fa.isEmpty()||(s.Fa.forEach(((m,p)=>{f.push(s.Ka(p,e,n).then((y=>{var E;if((y||n)&&s.isPrimaryClient){const b=y?!y.fromCache:(E=n?.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(y){o.push(y);const b=Tp.Wi(p.targetId,y);u.push(b)}})))})),await Promise.all(f),s.Ca.d_(o),await(async function(p,y){const E=Ae(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>te.forEach(y,(x=>te.forEach(x.$i,(V=>E.persistence.referenceDelegate.addReference(b,x.targetId,V))).next((()=>te.forEach(x.Ui,(V=>E.persistence.referenceDelegate.removeReference(b,x.targetId,V)))))))))}catch(b){if(!iu(b))throw b;ce("LocalStore","Failed to update sequence numbers: "+b)}for(const b of y){const x=b.targetId;if(!b.fromCache){const V=E.os.get(x),j=V.snapshotVersion,K=V.withLastLimboFreeSnapshotVersion(j);E.os=E.os.insert(x,K)}}})(s.localStore,u))}async function q2(r,e){const n=Ae(r);if(!n.currentUser.isEqual(e)){ce("SyncEngine","User change. New user:",e.toKey());const s=await DT(n.localStore,e);n.currentUser=e,(function(u,f){u.ka.forEach((m=>{m.forEach((p=>{p.reject(new oe(ee.CANCELLED,f))}))})),u.ka.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ou(n,s.hs)}}function H2(r,e){const n=Ae(r),s=n.Na.get(e);if(s&&s.va)return Ve().add(s.key);{let o=Ve();const u=n.Ma.get(e);if(!u)return o;for(const f of u){const m=n.Fa.get(f);o=o.unionWith(m.view.Va)}return o}}function JT(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=QT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=H2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=P2.bind(null,e),e.Ca.d_=R2.bind(null,e.eventManager),e.Ca.$a=x2.bind(null,e.eventManager),e}function F2(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=j2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=z2.bind(null,e),e}class _h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return XC(this.persistence,new YC,e.initialUser,this.serializer)}Ga(e){return new GC(Ep.Zr,this.serializer)}Wa(e){return new i2}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_h.provider={build:()=>new _h};class Hm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>w0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=q2.bind(null,this.syncEngine),await b2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new S2})()}createDatastore(e){const n=kh(e.databaseInfo.databaseId),s=(function(u){return new o2(u)})(e.databaseInfo);return(function(u,f,m,p){return new c2(u,f,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new f2(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>w0(this.syncEngine,n,0)),(function(){return y0.D()?new y0:new r2})())}createSyncEngine(e,n){return(function(o,u,f,m,p,y,E){const b=new D2(o,u,f,m,p,y);return E&&(b.Qa=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const u=Ae(o);ce("RemoteStore","RemoteStore shutting down."),u.L_.add(5),await au(u),u.k_.shutdown(),u.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Hm.provider={build:()=>new Hm};class WT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Zi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}class G2{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=JE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ce("FirestoreClient","Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ce("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=xp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function hm(r,e){r.asyncQueue.verifyOperationInProgress(),ce("FirestoreClient","Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await DT(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function A0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await K2(r);ce("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>v0(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>v0(e.remoteStore,o))),r._onlineComponents=e}async function K2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce("FirestoreClient","Using user provided OfflineComponentProvider");try{await hm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;eo("Error using user provided cache. Falling back to memory cache: "+n),await hm(r,new _h)}}else ce("FirestoreClient","Using default OfflineComponentProvider"),await hm(r,new _h);return r._offlineComponents}async function ZT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce("FirestoreClient","Using user provided OnlineComponentProvider"),await A0(r,r._uninitializedComponentsProvider._online)):(ce("FirestoreClient","Using default OnlineComponentProvider"),await A0(r,new Hm))),r._onlineComponents}function Q2(r){return ZT(r).then((e=>e.syncEngine))}async function ew(r){const e=await ZT(r),n=e.eventManager;return n.onListen=O2.bind(null,e.syncEngine),n.onUnlisten=k2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=M2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=L2.bind(null,e.syncEngine),n}function Y2(r,e,n={}){const s=new $i;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,y){const E=new WT({next:x=>{E.Za(),f.enqueueAndForget((()=>qT(u,b)));const V=x.docs.has(m);!V&&x.fromCache?y.reject(new oe(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&x.fromCache&&p&&p.source==="server"?y.reject(new oe(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(x)},error:x=>y.reject(x)}),b=new HT(mp(m.path),E,{includeMetadataChanges:!0,_a:!0});return BT(u,b)})(await ew(r),r.asyncQueue,e,n,s))),s.promise}function $2(r,e,n={}){const s=new $i;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,y){const E=new WT({next:x=>{E.Za(),f.enqueueAndForget((()=>qT(u,b))),x.fromCache&&p.source==="server"?y.reject(new oe(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(x)},error:x=>y.reject(x)}),b=new HT(m,E,{includeMetadataChanges:!0,_a:!0});return BT(u,b)})(await ew(r),r.asyncQueue,e,n,s))),s.promise}function tw(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const S0=new Map;function nw(r,e,n){if(!n)throw new oe(ee.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function X2(r,e,n,s){if(e===!0&&s===!0)throw new oe(ee.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function R0(r){if(!pe.isDocumentKey(r))throw new oe(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function x0(r){if(pe.isDocumentKey(r))throw new oe(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Ph(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te()}function gi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new oe(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ph(r);throw new oe(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function J2(r,e){if(e<=0)throw new oe(ee.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}class C0{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new oe(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new oe(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}X2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tw((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new oe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new oe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new oe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new C0({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new C0(e),e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new dx;switch(s.type){case"firstParty":return new yx(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new oe(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=S0.get(n);s&&(ce("ComponentProvider","Removing Datastore"),S0.delete(n),s.terminate())})(this),Promise.resolve()}}function W2(r,e,n,s={}){var o;const u=(r=gi(r,jh))._getSettings(),f=`${e}:${n}`;if(u.host!=="firestore.googleapis.com"&&u.host!==f&&eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},u),{host:f,ssl:!1})),s.mockUserToken){let m,p;if(typeof s.mockUserToken=="string")m=s.mockUserToken,p=Wt.MOCK_USER;else{m=IA(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const y=s.mockUserToken.sub||s.mockUserToken.user_id;if(!y)throw new oe(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Wt(y)}r._authCredentials=new mx(new XE(m,p))}}class ls{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ls(this.firestore,e,this._query)}}class ln{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ns(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ln(this.firestore,e,this._key)}}class ns extends ls{constructor(e,n,s){super(e,n,mp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ln(this.firestore,null,new pe(e))}withConverter(e){return new ns(this.firestore,e,this._path)}}function ao(r,e,...n){if(r=xt(r),nw("collection","path",e),r instanceof jh){const s=rt.fromString(e,...n);return x0(s),new ns(r,null,s)}{if(!(r instanceof ln||r instanceof ns))throw new oe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(rt.fromString(e,...n));return x0(s),new ns(r.firestore,null,s)}}function Hs(r,e,...n){if(r=xt(r),arguments.length===1&&(e=JE.newId()),nw("doc","path",e),r instanceof jh){const s=rt.fromString(e,...n);return R0(s),new ln(r,null,new pe(s))}{if(!(r instanceof ln||r instanceof ns))throw new oe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(rt.fromString(e,...n));return R0(s),new ln(r.firestore,r instanceof ns?r.converter:null,new pe(s))}}class I0{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new MT(this,"async_queue_retry"),this.Vu=()=>{const s=cm();s&&ce("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=e;const n=cm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=cm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const n=new $i;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!iu(e))throw e;ce("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const n=this.mu.then((()=>(this.du=!0,e().catch((s=>{this.Eu=s,this.du=!1;const o=(function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m})(s);throw Zi("INTERNAL UNHANDLED ERROR: ",o),s})).then((s=>(this.du=!1,s))))));return this.mu=n,n}enqueueAfterDelay(e,n,s){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const o=Rp.createAndSchedule(this,e,n,s,(u=>this.yu(u)));return this.Tu.push(o),o}fu(){this.Eu&&Te()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class go extends jh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new I0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new I0(e),this._firestoreClient=void 0,await e}}}function Z2(r,e){const n=typeof r=="object"?r:rE(),s=typeof r=="string"?r:"(default)",o=Jm(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=xA("firestore");u&&W2(o,...u)}return o}function Np(r){if(r._terminated)throw new oe(ee.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||eI(r),r._firestoreClient}function eI(r){var e,n,s;const o=r._freezeSettings(),u=(function(m,p,y,E){return new Nx(m,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,tw(E.experimentalLongPollingOptions),E.useFetchStreams)})(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new G2(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&(function(m){const p=m?._online.build();return{_offline:m?._offline.build(p),_online:p}})(r._componentsProvider))}class oo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oo(Qt.fromBase64String(e))}catch(n){throw new oe(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new oo(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class zh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Bh{constructor(e){this._methodName=e}}class Dp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}}class Op{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}}const tI=/^__.*__$/;class nI{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new os(e,this.data,this.fieldMask,n,this.fieldTransforms):new ru(e,this.data,n,this.fieldTransforms)}}class iw{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new os(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function rw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class Mp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.vu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Mp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Fu({path:s,xu:!1});return o.Ou(e),o}Nu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Fu({path:s,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Eh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(rw(this.Cu)&&tI.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class iI{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||kh(e)}Qu(e,n,s,o=!1){return new Mp({Cu:e,methodName:n,qu:s,path:Gt.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qh(r){const e=r._freezeSettings(),n=kh(r._databaseId);return new iI(r._databaseId,!!e.ignoreUndefinedProperties,n)}function sw(r,e,n,s,o,u={}){const f=r.Qu(u.merge||u.mergeFields?2:0,e,n,o);kp("Data must be an object, but it was:",f,s);const m=aw(s,f);let p,y;if(u.merge)p=new Rn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const x=Fm(e,b,n);if(!f.contains(x))throw new oe(ee.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);lw(E,x)||E.push(x)}p=new Rn(E),y=f.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,y=f.fieldTransforms;return new nI(new gn(m),p,y)}class Hh extends Bh{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hh}}class Vp extends Bh{_toFieldTransform(e){return new tC(e.path,new Kl)}isEqual(e){return e instanceof Vp}}function rI(r,e,n,s){const o=r.Qu(1,e,n);kp("Data must be an object, but it was:",o,s);const u=[],f=gn.empty();Js(s,((p,y)=>{const E=Lp(e,p,n);y=xt(y);const b=o.Nu(E);if(y instanceof Hh)u.push(E);else{const x=lu(y,b);x!=null&&(u.push(E),f.set(E,x))}}));const m=new Rn(u);return new iw(f,m,o.fieldTransforms)}function sI(r,e,n,s,o,u){const f=r.Qu(1,e,n),m=[Fm(e,s,n)],p=[o];if(u.length%2!=0)throw new oe(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<u.length;x+=2)m.push(Fm(e,u[x])),p.push(u[x+1]);const y=[],E=gn.empty();for(let x=m.length-1;x>=0;--x)if(!lw(y,m[x])){const V=m[x];let j=p[x];j=xt(j);const K=f.Nu(V);if(j instanceof Hh)y.push(V);else{const q=lu(j,K);q!=null&&(y.push(V),E.set(V,q))}}const b=new Rn(y);return new iw(E,b,f.fieldTransforms)}function aI(r,e,n,s=!1){return lu(n,r.Qu(s?4:3,e))}function lu(r,e){if(ow(r=xt(r)))return kp("Unsupported field value:",e,r),aw(r,e);if(r instanceof Bh)return(function(s,o){if(!rw(o.Cu))throw o.Bu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=lu(m,o.Lu(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=xt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Wx(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Rt.fromDate(s);return{timestampValue:yh(o.serializer,u)}}if(s instanceof Rt){const u=new Rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:yh(o.serializer,u)}}if(s instanceof Dp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof oo)return{bytesValue:AT(o.serializer,s._byteString)};if(s instanceof ln){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Bu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:vp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Op)return(function(f,m){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:f.toArray().map((p=>{if(typeof p!="number")throw m.Bu("VectorValues must only contain numeric values.");return pp(m.serializer,p)}))}}}}}})(s,o);throw o.Bu(`Unsupported field value: ${Ph(s)}`)})(r,e)}function aw(r,e){const n={};return WE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Js(r,((s,o)=>{const u=lu(o,e.Mu(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function ow(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Rt||r instanceof Dp||r instanceof oo||r instanceof ln||r instanceof Bh||r instanceof Op)}function kp(r,e,n){if(!ow(n)||!(function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)})(n)){const s=Ph(n);throw s==="an object"?e.Bu(r+" a custom object"):e.Bu(r+" "+s)}}function Fm(r,e,n){if((e=xt(e))instanceof zh)return e._internalPath;if(typeof e=="string")return Lp(r,e);throw Eh("Field path arguments must be of type string or ",r,!1,void 0,n)}const oI=new RegExp("[~\\*/\\[\\]]");function Lp(r,e,n){if(e.search(oI)>=0)throw Eh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new zh(...e.split("."))._internalPath}catch{throw Eh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Eh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new oe(ee.INVALID_ARGUMENT,m+r+p)}function lw(r,e){return r.some((n=>n.isEqual(e)))}class uw{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Fh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lI extends uw{data(){return super.data()}}function Fh(r,e){return typeof e=="string"?Lp(r,e):e instanceof zh?e._internalPath:e._delegate._internalPath}function uI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new oe(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Up{}class Pp extends Up{}function Th(r,e,...n){let s=[];e instanceof Up&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof jp)).length,m=u.filter((p=>p instanceof Gh)).length;if(f>1||f>0&&m>0)throw new oe(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Gh extends Pp{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Gh(e,n,s)}_apply(e){const n=this._parse(e);return hw(e._query,n),new ls(e.firestore,e.converter,km(e._query,n))}_parse(e){const n=qh(e.firestore);return(function(u,f,m,p,y,E,b){let x;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new oe(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){D0(b,E);const V=[];for(const j of b)V.push(N0(p,u,j));x={arrayValue:{values:V}}}else x=N0(p,u,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||D0(b,E),x=aI(m,f,b,E==="in"||E==="not-in");return bt.create(y,E,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ul(r,e,n){const s=e,o=Fh("where",r);return Gh._create(o,s,n)}class jp extends Up{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new jp(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:$n.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)hw(f,p),f=km(f,p)})(e._query,n),new ls(e.firestore,e.converter,km(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class zp extends Pp{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new zp(e,n)}_apply(e){const n=(function(o,u,f){if(o.startAt!==null)throw new oe(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new oe(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gl(u,f)})(e._query,this._field,this._direction);return new ls(e.firestore,e.converter,(function(o,u){const f=o.explicitOrderBy.concat([u]);return new fo(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function cw(r,e="asc"){const n=e,s=Fh("orderBy",r);return zp._create(s,n)}class Bp extends Pp{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new Bp(e,n,s)}_apply(e){return new ls(e.firestore,e.converter,ph(e._query,this._limit,this._limitType))}}function wh(r){return J2("limit",r),Bp._create("limit",r,"F")}function N0(r,e,n){if(typeof(n=xt(n))=="string"){if(n==="")throw new oe(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oT(e)&&n.indexOf("/")!==-1)throw new oe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(rt.fromString(n));if(!pe.isDocumentKey(s))throw new oe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return W_(r,new pe(s))}if(n instanceof ln)return W_(r,n._key);throw new oe(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ph(n)}.`)}function D0(r,e){if(!Array.isArray(r)||r.length===0)throw new oe(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function hw(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new oe(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class cI{convertValue(e,n="none"){switch($s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Js(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map((f=>gt(f.doubleValue)));return new Op(u)}convertGeoPoint(e){return new Dp(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=cp(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ql(e));default:return null}}convertTimestamp(e){const n=rs(e);return new Rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=rt.fromString(e);$e(NT(s));const o=new Hl(s.get(1),s.get(3)),u=new pe(s.popFirst(5));return o.isEqual(n)||Zi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function fw(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class Il{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dw extends uw{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Fh("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class th extends dw{data(e={}){return super.data(e)}}class hI{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Il(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new th(this._firestore,this._userDataWriter,s.key,s,new Il(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new th(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Il(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new th(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Il(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:fI(m.type),doc:p,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function fI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}function dI(r){r=gi(r,ln);const e=gi(r.firestore,go);return Y2(Np(e),r._key).then((n=>mI(e,r,n)))}class mw extends cI{constructor(e){super(),this.firestore=e}convertBytes(e){return new oo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ln(this.firestore,null,n)}}function bh(r){r=gi(r,ls);const e=gi(r.firestore,go),n=Np(e),s=new mw(e);return uI(r._query),$2(n,r._query).then((o=>new hI(e,s,r,o)))}function Gm(r,e,n){r=gi(r,ln);const s=gi(r.firestore,go),o=fw(r.converter,e,n);return qp(s,[sw(qh(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Qn.none())])}function pw(r,e,n,...s){r=gi(r,ln);const o=gi(r.firestore,go),u=qh(o);let f;return f=typeof(e=xt(e))=="string"||e instanceof zh?sI(u,"updateDoc",r._key,e,n,s):rI(u,"updateDoc",r._key,e),qp(o,[f.toMutation(r._key,Qn.exists(!0))])}function gw(r,e){const n=gi(r.firestore,go),s=Hs(r),o=fw(r.converter,e);return qp(n,[sw(qh(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Qn.exists(!1))]).then((()=>s))}function qp(r,e){return(function(s,o){const u=new $i;return s.asyncQueue.enqueueAndForget((async()=>U2(await Q2(s),o,u))),u.promise})(Np(r),e)}function mI(r,e,n){const s=n.docs.get(e._key),o=new mw(r);return new dw(r,o,e._key,s,new Il(n.hasPendingWrites,n.fromCache),e.converter)}function lo(){return new Vp("serverTimestamp")}(function(e,n=!0){(function(o){ho=o})(uo),Wa(new Fs("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new go(new px(s.getProvider("auth-internal")),new _x(s.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new oe(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hl(y.options.projectId,E)})(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),ts(Q_,"4.7.3",e),ts(Q_,"4.7.3","esm2017")})();const pI={apiKey:"AIzaSyBradkEr4X14nCns2vP3lVgZ7l0q0ijzNg",authDomain:"cookmate-cc941.firebaseapp.com",projectId:"cookmate-cc941",storageBucket:"cookmate-cc941.firebasestorage.app",messagingSenderId:"436913801412",appId:"1:436913801412:web:4160b5acb5a7cc36c6a191"},yw=iE(pI),Bs=hx(yw),jn=Z2(yw);var fm={exports:{}},we={};var O0;function gI(){if(O0)return we;O0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function V(M){return M===null||typeof M!="object"?null:(M=x&&M[x]||M["@@iterator"],typeof M=="function"?M:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,q={};function W(M,X,ie){this.props=M,this.context=X,this.refs=q,this.updater=ie||j}W.prototype.isReactComponent={},W.prototype.setState=function(M,X){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,X,"setState")},W.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ne(){}ne.prototype=W.prototype;function se(M,X,ie){this.props=M,this.context=X,this.refs=q,this.updater=ie||j}var ye=se.prototype=new ne;ye.constructor=se,K(ye,W.prototype),ye.isPureReactComponent=!0;var Ie=Array.isArray;function Ee(){}var N={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function R(M,X,ie){var ue=ie.ref;return{$$typeof:r,type:M,key:X,ref:ue!==void 0?ue:null,props:ie}}function O(M,X){return R(M.type,X,M.props)}function k(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function U(M){var X={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ie){return X[ie]})}var I=/\/+/g;function de(M,X){return typeof M=="object"&&M!==null&&M.key!=null?U(""+M.key):X.toString(36)}function et(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Ee,Ee):(M.status="pending",M.then(function(X){M.status==="pending"&&(M.status="fulfilled",M.value=X)},function(X){M.status==="pending"&&(M.status="rejected",M.reason=X)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Y(M,X,ie,ue,ve){var xe=typeof M;(xe==="undefined"||xe==="boolean")&&(M=null);var ke=!1;if(M===null)ke=!0;else switch(xe){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(M.$$typeof){case r:case e:ke=!0;break;case E:return ke=M._init,Y(ke(M._payload),X,ie,ue,ve)}}if(ke)return ve=ve(M),ke=ue===""?"."+de(M,0):ue,Ie(ve)?(ie="",ke!=null&&(ie=ke.replace(I,"$&/")+"/"),Y(ve,X,ie,"",function(Jn){return Jn})):ve!=null&&(k(ve)&&(ve=O(ve,ie+(ve.key==null||M&&M.key===ve.key?"":(""+ve.key).replace(I,"$&/")+"/")+ke)),X.push(ve)),1;ke=0;var kt=ue===""?".":ue+":";if(Ie(M))for(var at=0;at<M.length;at++)ue=M[at],xe=kt+de(ue,at),ke+=Y(ue,X,ie,xe,ve);else if(at=V(M),typeof at=="function")for(M=at.call(M),at=0;!(ue=M.next()).done;)ue=ue.value,xe=kt+de(ue,at++),ke+=Y(ue,X,ie,xe,ve);else if(xe==="object"){if(typeof M.then=="function")return Y(et(M),X,ie,ue,ve);throw X=String(M),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return ke}function ae(M,X,ie){if(M==null)return M;var ue=[],ve=0;return Y(M,ue,"","",function(xe){return X.call(ie,xe,ve++)}),ue}function me(M){if(M._status===-1){var X=M._result;X=X(),X.then(function(ie){(M._status===0||M._status===-1)&&(M._status=1,M._result=ie)},function(ie){(M._status===0||M._status===-1)&&(M._status=2,M._result=ie)}),M._status===-1&&(M._status=0,M._result=X)}if(M._status===1)return M._result.default;throw M._result}var je=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ge={map:ae,forEach:function(M,X,ie){ae(M,function(){X.apply(this,arguments)},ie)},count:function(M){var X=0;return ae(M,function(){X++}),X},toArray:function(M){return ae(M,function(X){return X})||[]},only:function(M){if(!k(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return we.Activity=b,we.Children=Ge,we.Component=W,we.Fragment=n,we.Profiler=o,we.PureComponent=se,we.StrictMode=s,we.Suspense=p,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,we.__COMPILER_RUNTIME={__proto__:null,c:function(M){return N.H.useMemoCache(M)}},we.cache=function(M){return function(){return M.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(M,X,ie){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ue=K({},M.props),ve=M.key;if(X!=null)for(xe in X.key!==void 0&&(ve=""+X.key),X)!S.call(X,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&X.ref===void 0||(ue[xe]=X[xe]);var xe=arguments.length-2;if(xe===1)ue.children=ie;else if(1<xe){for(var ke=Array(xe),kt=0;kt<xe;kt++)ke[kt]=arguments[kt+2];ue.children=ke}return R(M.type,ve,ue)},we.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},we.createElement=function(M,X,ie){var ue,ve={},xe=null;if(X!=null)for(ue in X.key!==void 0&&(xe=""+X.key),X)S.call(X,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(ve[ue]=X[ue]);var ke=arguments.length-2;if(ke===1)ve.children=ie;else if(1<ke){for(var kt=Array(ke),at=0;at<ke;at++)kt[at]=arguments[at+2];ve.children=kt}if(M&&M.defaultProps)for(ue in ke=M.defaultProps,ke)ve[ue]===void 0&&(ve[ue]=ke[ue]);return R(M,xe,ve)},we.createRef=function(){return{current:null}},we.forwardRef=function(M){return{$$typeof:m,render:M}},we.isValidElement=k,we.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:me}},we.memo=function(M,X){return{$$typeof:y,type:M,compare:X===void 0?null:X}},we.startTransition=function(M){var X=N.T,ie={};N.T=ie;try{var ue=M(),ve=N.S;ve!==null&&ve(ie,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Ee,je)}catch(xe){je(xe)}finally{X!==null&&ie.types!==null&&(X.types=ie.types),N.T=X}},we.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},we.use=function(M){return N.H.use(M)},we.useActionState=function(M,X,ie){return N.H.useActionState(M,X,ie)},we.useCallback=function(M,X){return N.H.useCallback(M,X)},we.useContext=function(M){return N.H.useContext(M)},we.useDebugValue=function(){},we.useDeferredValue=function(M,X){return N.H.useDeferredValue(M,X)},we.useEffect=function(M,X){return N.H.useEffect(M,X)},we.useEffectEvent=function(M){return N.H.useEffectEvent(M)},we.useId=function(){return N.H.useId()},we.useImperativeHandle=function(M,X,ie){return N.H.useImperativeHandle(M,X,ie)},we.useInsertionEffect=function(M,X){return N.H.useInsertionEffect(M,X)},we.useLayoutEffect=function(M,X){return N.H.useLayoutEffect(M,X)},we.useMemo=function(M,X){return N.H.useMemo(M,X)},we.useOptimistic=function(M,X){return N.H.useOptimistic(M,X)},we.useReducer=function(M,X,ie){return N.H.useReducer(M,X,ie)},we.useRef=function(M){return N.H.useRef(M)},we.useState=function(M){return N.H.useState(M)},we.useSyncExternalStore=function(M,X,ie){return N.H.useSyncExternalStore(M,X,ie)},we.useTransition=function(){return N.H.useTransition()},we.version="19.2.0",we}var M0;function Hp(){return M0||(M0=1,fm.exports=gI()),fm.exports}var H=Hp(),dm={exports:{}},wl={},mm={exports:{}},pm={};var V0;function yI(){return V0||(V0=1,(function(r){function e(Y,ae){var me=Y.length;Y.push(ae);e:for(;0<me;){var je=me-1>>>1,Ge=Y[je];if(0<o(Ge,ae))Y[je]=ae,Y[me]=Ge,me=je;else break e}}function n(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var ae=Y[0],me=Y.pop();if(me!==ae){Y[0]=me;e:for(var je=0,Ge=Y.length,M=Ge>>>1;je<M;){var X=2*(je+1)-1,ie=Y[X],ue=X+1,ve=Y[ue];if(0>o(ie,me))ue<Ge&&0>o(ve,ie)?(Y[je]=ve,Y[ue]=me,je=ue):(Y[je]=ie,Y[X]=me,je=X);else if(ue<Ge&&0>o(ve,me))Y[je]=ve,Y[ue]=me,je=ue;else break e}}return ae}function o(Y,ae){var me=Y.sortIndex-ae.sortIndex;return me!==0?me:Y.id-ae.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,b=null,x=3,V=!1,j=!1,K=!1,q=!1,W=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function ye(Y){for(var ae=n(y);ae!==null;){if(ae.callback===null)s(y);else if(ae.startTime<=Y)s(y),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=n(y)}}function Ie(Y){if(K=!1,ye(Y),!j)if(n(p)!==null)j=!0,Ee||(Ee=!0,U());else{var ae=n(y);ae!==null&&et(Ie,ae.startTime-Y)}}var Ee=!1,N=-1,S=5,R=-1;function O(){return q?!0:!(r.unstable_now()-R<S)}function k(){if(q=!1,Ee){var Y=r.unstable_now();R=Y;var ae=!0;try{e:{j=!1,K&&(K=!1,ne(N),N=-1),V=!0;var me=x;try{t:{for(ye(Y),b=n(p);b!==null&&!(b.expirationTime>Y&&O());){var je=b.callback;if(typeof je=="function"){b.callback=null,x=b.priorityLevel;var Ge=je(b.expirationTime<=Y);if(Y=r.unstable_now(),typeof Ge=="function"){b.callback=Ge,ye(Y),ae=!0;break t}b===n(p)&&s(p),ye(Y)}else s(p);b=n(p)}if(b!==null)ae=!0;else{var M=n(y);M!==null&&et(Ie,M.startTime-Y),ae=!1}}break e}finally{b=null,x=me,V=!1}ae=void 0}}finally{ae?U():Ee=!1}}}var U;if(typeof se=="function")U=function(){se(k)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,de=I.port2;I.port1.onmessage=k,U=function(){de.postMessage(null)}}else U=function(){W(k,0)};function et(Y,ae){N=W(function(){Y(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(Y){switch(x){case 1:case 2:case 3:var ae=3;break;default:ae=x}var me=x;x=ae;try{return Y()}finally{x=me}},r.unstable_requestPaint=function(){q=!0},r.unstable_runWithPriority=function(Y,ae){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var me=x;x=Y;try{return ae()}finally{x=me}},r.unstable_scheduleCallback=function(Y,ae,me){var je=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?je+me:je):me=je,Y){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=me+Ge,Y={id:E++,callback:ae,priorityLevel:Y,startTime:me,expirationTime:Ge,sortIndex:-1},me>je?(Y.sortIndex=me,e(y,Y),n(p)===null&&Y===n(y)&&(K?(ne(N),N=-1):K=!0,et(Ie,me-je))):(Y.sortIndex=Ge,e(p,Y),j||V||(j=!0,Ee||(Ee=!0,U()))),Y},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(Y){var ae=x;return function(){var me=x;x=ae;try{return Y.apply(this,arguments)}finally{x=me}}}})(pm)),pm}var k0;function vI(){return k0||(k0=1,mm.exports=yI()),mm.exports}var gm={exports:{}},Jt={};var L0;function _I(){if(L0)return Jt;L0=1;var r=Hp();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Jt.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,E)},Jt.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},Jt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Jt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Jt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,b=m(E,y.crossOrigin),x=typeof y.integrity=="string"?y.integrity:void 0,V=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:V}):E==="script"&&s.d.X(p,{crossOrigin:b,integrity:x,fetchPriority:V,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Jt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Jt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,b=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Jt.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Jt.requestFormReset=function(p){s.d.r(p)},Jt.unstable_batchedUpdates=function(p,y){return p(y)},Jt.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},Jt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Jt.version="19.2.0",Jt}var U0;function EI(){if(U0)return gm.exports;U0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),gm.exports=_I(),gm.exports}var P0;function TI(){if(P0)return wl;P0=1;var r=vI(),e=Hp(),n=EI();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,w=h.child;w;){if(w===a){v=!0,a=h,l=d;break}if(w===l){v=!0,l=h,a=d;break}w=w.sibling}if(!v){for(w=d.child;w;){if(w===a){v=!0,a=d,l=h;break}if(w===l){v=!0,l=d,a=h;break}w=w.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),se=Symbol.for("react.context"),ye=Symbol.for("react.forward_ref"),Ie=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=k&&t[k]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function de(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case K:return"Fragment";case W:return"Profiler";case q:return"StrictMode";case Ie:return"Suspense";case Ee:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case j:return"Portal";case se:return t.displayName||"Context";case ne:return(t._context.displayName||"Context")+".Consumer";case ye:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return i=t.displayName||null,i!==null?i:de(t.type)||"Memo";case S:i=t._payload,t=t._init;try{return de(t(i))}catch{}}return null}var et=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},je=[],Ge=-1;function M(t){return{current:t}}function X(t){0>Ge||(t.current=je[Ge],je[Ge]=null,Ge--)}function ie(t,i){Ge++,je[Ge]=t.current,t.current=i}var ue=M(null),ve=M(null),xe=M(null),ke=M(null);function kt(t,i){switch(ie(xe,i),ie(ve,t),ie(ue,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Pv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Pv(i),t=jv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(ue),ie(ue,t)}function at(){X(ue),X(ve),X(xe)}function Jn(t){t.memoizedState!==null&&ie(ke,t);var i=ue.current,a=jv(i,t.type);i!==a&&(ie(ve,t),ie(ue,a))}function vi(t){ve.current===t&&(X(ue),X(ve)),ke.current===t&&(X(ke),gl._currentValue=me)}var us,ea;function zn(t){if(us===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);us=i&&i[1]||"",ea=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+us+t+ea}var cs=!1;function ta(t,i){if(!t||cs)return"";cs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(G){var F=G}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(G){F=G}t.call(Z.prototype)}}else{try{throw Error()}catch(G){F=G}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(G){if(G&&F&&typeof G.stack=="string")return[G.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],w=d[1];if(v&&w){var C=v.split(`
`),B=w.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===B.length)for(l=C.length-1,h=B.length-1;1<=l&&0<=h&&C[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==B[h]){var $=`
`+C[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=h);break}}}finally{cs=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?zn(a):""}function Xh(t,i){switch(t.tag){case 26:case 27:case 5:return zn(t.type);case 16:return zn("Lazy");case 13:return t.child!==i&&i!==null?zn("Suspense Fallback"):zn("Suspense");case 19:return zn("SuspenseList");case 0:case 15:return ta(t.type,!1);case 11:return ta(t.type.render,!1);case 1:return ta(t.type,!0);case 31:return zn("Activity");default:return""}}function fu(t){try{var i="",a=null;do i+=Xh(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var na=Object.prototype.hasOwnProperty,hs=r.unstable_scheduleCallback,ia=r.unstable_cancelCallback,Jh=r.unstable_shouldYield,_o=r.unstable_requestPaint,Lt=r.unstable_now,du=r.unstable_getCurrentPriorityLevel,At=r.unstable_ImmediatePriority,It=r.unstable_UserBlockingPriority,_i=r.unstable_NormalPriority,mu=r.unstable_LowPriority,Eo=r.unstable_IdlePriority,Wh=r.log,fs=r.unstable_setDisableYieldValue,sr=null,Yt=null;function xn(t){if(typeof Wh=="function"&&fs(t),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(sr,t)}catch{}}var tn=Math.clz32?Math.clz32:pu,Zh=Math.log,To=Math.LN2;function pu(t){return t>>>=0,t===0?32:31-(Zh(t)/To|0)|0}var ds=256,Wn=262144,ar=4194304;function Bn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Cn(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var w=l&134217727;return w!==0?(l=w&~d,l!==0?h=Bn(l):(v&=w,v!==0?h=Bn(v):a||(a=w&~t,a!==0&&(h=Bn(a))))):(w=l&~d,w!==0?h=Bn(w):v!==0?h=Bn(v):a||(a=l&~t,a!==0&&(h=Bn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function or(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function ra(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wo(){var t=ar;return ar<<=1,(ar&62914560)===0&&(ar=4194304),t}function Ei(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function lr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ut(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var w=t.entanglements,C=t.expirationTimes,B=t.hiddenUpdates;for(a=v&~a;0<a;){var $=31-tn(a),Z=1<<$;w[$]=0,C[$]=-1;var F=B[$];if(F!==null)for(B[$]=null,$=0;$<F.length;$++){var G=F[$];G!==null&&(G.lane&=-536870913)}a&=~Z}l!==0&&bo(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function bo(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-tn(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function ur(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-tn(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function cr(t,i){var a=i&-i;return a=(a&42)!==0?1:Ao(a),(a&(t.suspendedLanes|i))!==0?0:a}function Ao(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function So(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ti(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:l_(t.type))}function gu(t,i){var a=ae.p;try{return ae.p=t,i()}finally{ae.p=a}}var Zn=Math.random().toString(36).slice(2),ut="__reactFiber$"+Zn,Pt="__reactProps$"+Zn,ei="__reactContainer$"+Zn,hr="__reactEvents$"+Zn,ti="__reactListeners$"+Zn,yu="__reactHandles$"+Zn,Ro="__reactResources$"+Zn,wi="__reactMarker$"+Zn;function ms(t){delete t[ut],delete t[Pt],delete t[hr],delete t[ti],delete t[yu]}function bi(t){var i=t[ut];if(i)return i;for(var a=t.parentNode;a;){if(i=a[ei]||a[ut]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Kv(t);t!==null;){if(a=t[ut])return a;t=Kv(t)}return i}t=a,a=t.parentNode}return null}function Ai(t){if(t=t[ut]||t[ei]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function ps(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function qn(t){var i=t[Ro];return i||(i=t[Ro]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function dt(t){t[wi]=!0}var sa=new Set,fr={};function nn(t,i){ni(t,i),ni(t+"Capture",i)}function ni(t,i){for(fr[t]=i,t=0;t<i.length;t++)sa.add(i[t])}var ef=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xo={},Co={};function vu(t){return na.call(Co,t)?!0:na.call(xo,t)?!1:ef.test(t)?Co[t]=!0:(xo[t]=!0,!1)}function dr(t,i,a){if(vu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function mr(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function In(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function rn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _u(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function tf(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function aa(t){if(!t._valueTracker){var i=_u(t)?"checked":"value";t._valueTracker=tf(t,i,""+t[i])}}function Io(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=_u(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function oa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Si=/[\n"\\]/g;function ct(t){return t.replace(Si,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function pr(t,i,a,l,h,d,v,w){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+rn(i)):t.value!==""+rn(i)&&(t.value=""+rn(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?la(t,v,rn(i)):a!=null?la(t,v,rn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+rn(w):t.removeAttribute("name")}function gs(t,i,a,l,h,d,v,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){aa(t);return}a=a!=null?""+rn(a):"",i=i!=null?""+rn(i):a,w||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=w?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),aa(t)}function la(t,i,a){i==="number"&&oa(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ze(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+rn(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function ys(t,i,a){if(i!=null&&(i=""+rn(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+rn(a):""}function gr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(et(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=rn(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),aa(t)}function Nn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var nf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function No(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||nf.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Eu(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&No(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&No(t,d,i[d])}function Do(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ii(t){return sf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Nt(){}var ua=null;function ca(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ri=null,yn=null;function Tu(t){var i=Ai(t);if(i&&(t=i.stateNode)){var a=t[Pt]||null;e:switch(t=i.stateNode,i.type){case"input":if(pr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ct(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Pt]||null;if(!h)throw Error(s(90));pr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Io(l)}break e;case"textarea":ys(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&ze(t,!!a.multiple,i,!1)}}}var Oo=!1;function wu(t,i,a){if(Oo)return t(i,a);Oo=!0;try{var l=t(i);return l}finally{if(Oo=!1,(Ri!==null||yn!==null)&&(vc(),Ri&&(i=Ri,t=yn,yn=Ri=null,Tu(i),t)))for(i=0;i<t.length;i++)Tu(t[i])}}function un(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Pt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mo=!1;if(Hn)try{var ri={};Object.defineProperty(ri,"passive",{get:function(){Mo=!0}}),window.addEventListener("test",ri,ri),window.removeEventListener("test",ri,ri)}catch{Mo=!1}var vn=null,ha=null,si=null;function yr(){if(si)return si;var t,i=ha,a=i.length,l,h="value"in vn?vn.value:vn.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return si=h.slice(t,1<l?1-l:void 0)}function vs(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function vr(){return!0}function tt(){return!1}function $t(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(a=t[w],this[w]=a?a(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?vr:tt,this.isPropagationStopped=tt,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=vr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=vr)},persist:function(){},isPersistent:vr}),i}var xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_s=$t(xi),_r=b({},xi,{view:0,detail:0}),bu=$t(_r),Er,fa,sn,Es=b({},_r,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==sn&&(sn&&t.type==="mousemove"?(Er=t.screenX-sn.screenX,fa=t.screenY-sn.screenY):fa=Er=0,sn=t),Er)},movementY:function(t){return"movementY"in t?t.movementY:fa}}),Au=$t(Es),Ts=b({},Es,{dataTransfer:0}),Su=$t(Ts),Vo=b({},_r,{relatedTarget:0}),Tr=$t(Vo),Ru=b({},xi,{animationName:0,elapsedTime:0,pseudoElement:0}),da=$t(Ru),af=b({},xi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xu=$t(af),ws=b({},xi,{data:0}),ko=$t(ws),Cu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Iu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Uo[t])?!!i[t]:!1}function wr(){return Iu}var Nu=b({},_r,{key:function(t){if(t.key){var i=Cu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=vs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Lo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wr,charCode:function(t){return t.type==="keypress"?vs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Du=$t(Nu),Ci=b({},Es,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Po=$t(Ci),Ou=b({},_r,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wr}),Mu=$t(Ou),Vu=b({},xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),ma=$t(Vu),an=b({},Es,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ku=$t(an),Lu=b({},xi,{newState:0,oldState:0}),br=$t(Lu),c=[9,13,27,32],g=Hn&&"CompositionEvent"in window,_=null;Hn&&"documentMode"in document&&(_=document.documentMode);var A=Hn&&"TextEvent"in window&&!_,P=Hn&&(!g||_&&8<_&&11>=_),Q=" ",re=!1;function Ke(t,i){switch(t){case"keyup":return c.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ce=!1;function Dt(t,i){switch(t){case"compositionend":return yt(i);case"keypress":return i.which!==32?null:(re=!0,Q);case"textInput":return t=i.data,t===Q&&re?null:t;default:return null}}function Ot(t,i){if(Ce)return t==="compositionend"||!g&&Ke(t,i)?(t=yr(),si=ha=vn=null,Ce=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return P&&i.locale!=="ko"?null:i.data;default:return null}}var Ar={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cn(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Ar[t.type]:i==="textarea"}function bs(t,i,a,l){Ri?yn?yn.push(l):yn=[l]:Ri=l,i=Sc(i,"onChange"),0<i.length&&(a=new _s("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Ii=null,jo=null;function Gw(t){Ov(t,0)}function Uu(t){var i=ps(t);if(Io(i))return t}function Jp(t,i){if(t==="change")return i}var Wp=!1;if(Hn){var of;if(Hn){var lf="oninput"in document;if(!lf){var Zp=document.createElement("div");Zp.setAttribute("oninput","return;"),lf=typeof Zp.oninput=="function"}of=lf}else of=!1;Wp=of&&(!document.documentMode||9<document.documentMode)}function eg(){Ii&&(Ii.detachEvent("onpropertychange",tg),jo=Ii=null)}function tg(t){if(t.propertyName==="value"&&Uu(jo)){var i=[];bs(i,jo,t,ca(t)),wu(Gw,i)}}function Kw(t,i,a){t==="focusin"?(eg(),Ii=i,jo=a,Ii.attachEvent("onpropertychange",tg)):t==="focusout"&&eg()}function Qw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Uu(jo)}function Yw(t,i){if(t==="click")return Uu(i)}function $w(t,i){if(t==="input"||t==="change")return Uu(i)}function Xw(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var _n=typeof Object.is=="function"?Object.is:Xw;function zo(t,i){if(_n(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!na.call(i,h)||!_n(t[h],i[h]))return!1}return!0}function ng(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ig(t,i){var a=ng(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ng(a)}}function rg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?rg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function sg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=oa(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=oa(t.document)}return i}function uf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Jw=Hn&&"documentMode"in document&&11>=document.documentMode,pa=null,cf=null,Bo=null,hf=!1;function ag(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;hf||pa==null||pa!==oa(l)||(l=pa,"selectionStart"in l&&uf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Bo&&zo(Bo,l)||(Bo=l,l=Sc(cf,"onSelect"),0<l.length&&(i=new _s("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=pa)))}function As(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var ga={animationend:As("Animation","AnimationEnd"),animationiteration:As("Animation","AnimationIteration"),animationstart:As("Animation","AnimationStart"),transitionrun:As("Transition","TransitionRun"),transitionstart:As("Transition","TransitionStart"),transitioncancel:As("Transition","TransitionCancel"),transitionend:As("Transition","TransitionEnd")},ff={},og={};Hn&&(og=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function Ss(t){if(ff[t])return ff[t];if(!ga[t])return t;var i=ga[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in og)return ff[t]=i[a];return t}var lg=Ss("animationend"),ug=Ss("animationiteration"),cg=Ss("animationstart"),Ww=Ss("transitionrun"),Zw=Ss("transitionstart"),eb=Ss("transitioncancel"),hg=Ss("transitionend"),fg=new Map,df="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");df.push("scrollEnd");function Fn(t,i){fg.set(t,i),nn(i,[t])}var Pu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Dn=[],ya=0,mf=0;function ju(){for(var t=ya,i=mf=ya=0;i<t;){var a=Dn[i];Dn[i++]=null;var l=Dn[i];Dn[i++]=null;var h=Dn[i];Dn[i++]=null;var d=Dn[i];if(Dn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&dg(a,h,d)}}function zu(t,i,a,l){Dn[ya++]=t,Dn[ya++]=i,Dn[ya++]=a,Dn[ya++]=l,mf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function pf(t,i,a,l){return zu(t,i,a,l),Bu(t)}function Rs(t,i){return zu(t,null,null,i),Bu(t)}function dg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-tn(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Bu(t){if(50<ul)throw ul=0,Ad=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var va={};function tb(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(t,i,a,l){return new tb(t,i,a,l)}function gf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ni(t,i){var a=t.alternate;return a===null?(a=En(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function mg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function qu(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")gf(t)&&(v=1);else if(typeof t=="string")v=aA(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=En(31,a,i,h),t.elementType=R,t.lanes=d,t;case K:return xs(a.children,h,d,i);case q:v=8,h|=24;break;case W:return t=En(12,a,i,h|2),t.elementType=W,t.lanes=d,t;case Ie:return t=En(13,a,i,h),t.elementType=Ie,t.lanes=d,t;case Ee:return t=En(19,a,i,h),t.elementType=Ee,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case se:v=10;break e;case ne:v=9;break e;case ye:v=11;break e;case N:v=14;break e;case S:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=En(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function xs(t,i,a,l){return t=En(7,t,l,i),t.lanes=a,t}function yf(t,i,a){return t=En(6,t,null,i),t.lanes=a,t}function pg(t){var i=En(18,null,null,0);return i.stateNode=t,i}function vf(t,i,a){return i=En(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var gg=new WeakMap;function On(t,i){if(typeof t=="object"&&t!==null){var a=gg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:fu(i)},gg.set(t,i),i)}return{value:t,source:i,stack:fu(i)}}var _a=[],Ea=0,Hu=null,qo=0,Mn=[],Vn=0,Sr=null,ai=1,oi="";function Di(t,i){_a[Ea++]=qo,_a[Ea++]=Hu,Hu=t,qo=i}function yg(t,i,a){Mn[Vn++]=ai,Mn[Vn++]=oi,Mn[Vn++]=Sr,Sr=t;var l=ai;t=oi;var h=32-tn(l)-1;l&=~(1<<h),a+=1;var d=32-tn(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,ai=1<<32-tn(i)+h|a<<h|l,oi=d+t}else ai=1<<d|a<<h|l,oi=t}function _f(t){t.return!==null&&(Di(t,1),yg(t,1,0))}function Ef(t){for(;t===Hu;)Hu=_a[--Ea],_a[Ea]=null,qo=_a[--Ea],_a[Ea]=null;for(;t===Sr;)Sr=Mn[--Vn],Mn[Vn]=null,oi=Mn[--Vn],Mn[Vn]=null,ai=Mn[--Vn],Mn[Vn]=null}function vg(t,i){Mn[Vn++]=ai,Mn[Vn++]=oi,Mn[Vn++]=Sr,ai=i.id,oi=i.overflow,Sr=t}var jt=null,nt=null,Le=!1,Rr=null,kn=!1,Tf=Error(s(519));function xr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ho(On(i,t)),Tf}function _g(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[ut]=t,i[Pt]=l,a){case"dialog":De("cancel",i),De("close",i);break;case"iframe":case"object":case"embed":De("load",i);break;case"video":case"audio":for(a=0;a<hl.length;a++)De(hl[a],i);break;case"source":De("error",i);break;case"img":case"image":case"link":De("error",i),De("load",i);break;case"details":De("toggle",i);break;case"input":De("invalid",i),gs(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":De("invalid",i);break;case"textarea":De("invalid",i),gr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Lv(i.textContent,a)?(l.popover!=null&&(De("beforetoggle",i),De("toggle",i)),l.onScroll!=null&&De("scroll",i),l.onScrollEnd!=null&&De("scrollend",i),l.onClick!=null&&(i.onclick=Nt),i=!0):i=!1,i||xr(t,!0)}function Eg(t){for(jt=t.return;jt;)switch(jt.tag){case 5:case 31:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:jt=jt.return}}function Ta(t){if(t!==jt)return!1;if(!Le)return Eg(t),Le=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||jd(t.type,t.memoizedProps)),a=!a),a&&nt&&xr(t),Eg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));nt=Gv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));nt=Gv(t)}else i===27?(i=nt,Br(t.type)?(t=Fd,Fd=null,nt=t):nt=i):nt=jt?Un(t.stateNode.nextSibling):null;return!0}function Cs(){nt=jt=null,Le=!1}function wf(){var t=Rr;return t!==null&&(mn===null?mn=t:mn.push.apply(mn,t),Rr=null),t}function Ho(t){Rr===null?Rr=[t]:Rr.push(t)}var bf=M(null),Is=null,Oi=null;function Cr(t,i,a){ie(bf,i._currentValue),i._currentValue=a}function Mi(t){t._currentValue=bf.current,X(bf)}function Af(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Sf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var w=d;d=h;for(var C=0;C<i.length;C++)if(w.context===i[C]){d.lanes|=a,w=d.alternate,w!==null&&(w.lanes|=a),Af(d.return,a,t),l||(v=null);break e}d=w.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Af(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function wa(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var w=h.type;_n(h.pendingProps.value,v.value)||(t!==null?t.push(w):t=[w])}}else if(h===ke.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(gl):t=[gl])}h=h.return}t!==null&&Sf(i,t,a,l),i.flags|=262144}function Fu(t){for(t=t.firstContext;t!==null;){if(!_n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ns(t){Is=t,Oi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function zt(t){return Tg(Is,t)}function Gu(t,i){return Is===null&&Ns(t),Tg(t,i)}function Tg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Oi===null){if(t===null)throw Error(s(308));Oi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Oi=Oi.next=i;return a}var nb=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},ib=r.unstable_scheduleCallback,rb=r.unstable_NormalPriority,vt={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rf(){return{controller:new nb,data:new Map,refCount:0}}function Fo(t){t.refCount--,t.refCount===0&&ib(rb,function(){t.controller.abort()})}var Go=null,xf=0,ba=0,Aa=null;function sb(t,i){if(Go===null){var a=Go=[];xf=0,ba=Nd(),Aa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return xf++,i.then(wg,wg),i}function wg(){if(--xf===0&&Go!==null){Aa!==null&&(Aa.status="fulfilled");var t=Go;Go=null,ba=0,Aa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function ab(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var bg=Y.S;Y.S=function(t,i){av=Lt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&sb(t,i),bg!==null&&bg(t,i)};var Ds=M(null);function Cf(){var t=Ds.current;return t!==null?t:Ze.pooledCache}function Ku(t,i){i===null?ie(Ds,Ds.current):ie(Ds,i.pool)}function Ag(){var t=Cf();return t===null?null:{parent:vt._currentValue,pool:t}}var Sa=Error(s(460)),If=Error(s(474)),Qu=Error(s(542)),Yu={then:function(){}};function Sg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Rg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Nt,Nt),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Cg(t),t;default:if(typeof i.status=="string")i.then(Nt,Nt);else{if(t=Ze,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Cg(t),t}throw Ms=i,Sa}}function Os(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ms=a,Sa):a}}var Ms=null;function xg(){if(Ms===null)throw Error(s(459));var t=Ms;return Ms=null,t}function Cg(t){if(t===Sa||t===Qu)throw Error(s(483))}var Ra=null,Ko=0;function $u(t){var i=Ko;return Ko+=1,Ra===null&&(Ra=[]),Rg(Ra,t,i)}function Qo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Xu(t,i){throw i.$$typeof===x?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Ig(t){function i(L,D){if(t){var z=L.deletions;z===null?(L.deletions=[D],L.flags|=16):z.push(D)}}function a(L,D){if(!t)return null;for(;D!==null;)i(L,D),D=D.sibling;return null}function l(L){for(var D=new Map;L!==null;)L.key!==null?D.set(L.key,L):D.set(L.index,L),L=L.sibling;return D}function h(L,D){return L=Ni(L,D),L.index=0,L.sibling=null,L}function d(L,D,z){return L.index=z,t?(z=L.alternate,z!==null?(z=z.index,z<D?(L.flags|=67108866,D):z):(L.flags|=67108866,D)):(L.flags|=1048576,D)}function v(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function w(L,D,z,J){return D===null||D.tag!==6?(D=yf(z,L.mode,J),D.return=L,D):(D=h(D,z),D.return=L,D)}function C(L,D,z,J){var fe=z.type;return fe===K?$(L,D,z.props.children,J,z.key):D!==null&&(D.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===S&&Os(fe)===D.type)?(D=h(D,z.props),Qo(D,z),D.return=L,D):(D=qu(z.type,z.key,z.props,null,L.mode,J),Qo(D,z),D.return=L,D)}function B(L,D,z,J){return D===null||D.tag!==4||D.stateNode.containerInfo!==z.containerInfo||D.stateNode.implementation!==z.implementation?(D=vf(z,L.mode,J),D.return=L,D):(D=h(D,z.children||[]),D.return=L,D)}function $(L,D,z,J,fe){return D===null||D.tag!==7?(D=xs(z,L.mode,J,fe),D.return=L,D):(D=h(D,z),D.return=L,D)}function Z(L,D,z){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=yf(""+D,L.mode,z),D.return=L,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case V:return z=qu(D.type,D.key,D.props,null,L.mode,z),Qo(z,D),z.return=L,z;case j:return D=vf(D,L.mode,z),D.return=L,D;case S:return D=Os(D),Z(L,D,z)}if(et(D)||U(D))return D=xs(D,L.mode,z,null),D.return=L,D;if(typeof D.then=="function")return Z(L,$u(D),z);if(D.$$typeof===se)return Z(L,Gu(L,D),z);Xu(L,D)}return null}function F(L,D,z,J){var fe=D!==null?D.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return fe!==null?null:w(L,D,""+z,J);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case V:return z.key===fe?C(L,D,z,J):null;case j:return z.key===fe?B(L,D,z,J):null;case S:return z=Os(z),F(L,D,z,J)}if(et(z)||U(z))return fe!==null?null:$(L,D,z,J,null);if(typeof z.then=="function")return F(L,D,$u(z),J);if(z.$$typeof===se)return F(L,D,Gu(L,z),J);Xu(L,z)}return null}function G(L,D,z,J,fe){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return L=L.get(z)||null,w(D,L,""+J,fe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case V:return L=L.get(J.key===null?z:J.key)||null,C(D,L,J,fe);case j:return L=L.get(J.key===null?z:J.key)||null,B(D,L,J,fe);case S:return J=Os(J),G(L,D,z,J,fe)}if(et(J)||U(J))return L=L.get(z)||null,$(D,L,J,fe,null);if(typeof J.then=="function")return G(L,D,z,$u(J),fe);if(J.$$typeof===se)return G(L,D,z,Gu(D,J),fe);Xu(D,J)}return null}function le(L,D,z,J){for(var fe=null,Be=null,he=D,Re=D=0,Me=null;he!==null&&Re<z.length;Re++){he.index>Re?(Me=he,he=null):Me=he.sibling;var qe=F(L,he,z[Re],J);if(qe===null){he===null&&(he=Me);break}t&&he&&qe.alternate===null&&i(L,he),D=d(qe,D,Re),Be===null?fe=qe:Be.sibling=qe,Be=qe,he=Me}if(Re===z.length)return a(L,he),Le&&Di(L,Re),fe;if(he===null){for(;Re<z.length;Re++)he=Z(L,z[Re],J),he!==null&&(D=d(he,D,Re),Be===null?fe=he:Be.sibling=he,Be=he);return Le&&Di(L,Re),fe}for(he=l(he);Re<z.length;Re++)Me=G(he,L,Re,z[Re],J),Me!==null&&(t&&Me.alternate!==null&&he.delete(Me.key===null?Re:Me.key),D=d(Me,D,Re),Be===null?fe=Me:Be.sibling=Me,Be=Me);return t&&he.forEach(function(Kr){return i(L,Kr)}),Le&&Di(L,Re),fe}function ge(L,D,z,J){if(z==null)throw Error(s(151));for(var fe=null,Be=null,he=D,Re=D=0,Me=null,qe=z.next();he!==null&&!qe.done;Re++,qe=z.next()){he.index>Re?(Me=he,he=null):Me=he.sibling;var Kr=F(L,he,qe.value,J);if(Kr===null){he===null&&(he=Me);break}t&&he&&Kr.alternate===null&&i(L,he),D=d(Kr,D,Re),Be===null?fe=Kr:Be.sibling=Kr,Be=Kr,he=Me}if(qe.done)return a(L,he),Le&&Di(L,Re),fe;if(he===null){for(;!qe.done;Re++,qe=z.next())qe=Z(L,qe.value,J),qe!==null&&(D=d(qe,D,Re),Be===null?fe=qe:Be.sibling=qe,Be=qe);return Le&&Di(L,Re),fe}for(he=l(he);!qe.done;Re++,qe=z.next())qe=G(he,L,Re,qe.value,J),qe!==null&&(t&&qe.alternate!==null&&he.delete(qe.key===null?Re:qe.key),D=d(qe,D,Re),Be===null?fe=qe:Be.sibling=qe,Be=qe);return t&&he.forEach(function(yA){return i(L,yA)}),Le&&Di(L,Re),fe}function We(L,D,z,J){if(typeof z=="object"&&z!==null&&z.type===K&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case V:e:{for(var fe=z.key;D!==null;){if(D.key===fe){if(fe=z.type,fe===K){if(D.tag===7){a(L,D.sibling),J=h(D,z.props.children),J.return=L,L=J;break e}}else if(D.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===S&&Os(fe)===D.type){a(L,D.sibling),J=h(D,z.props),Qo(J,z),J.return=L,L=J;break e}a(L,D);break}else i(L,D);D=D.sibling}z.type===K?(J=xs(z.props.children,L.mode,J,z.key),J.return=L,L=J):(J=qu(z.type,z.key,z.props,null,L.mode,J),Qo(J,z),J.return=L,L=J)}return v(L);case j:e:{for(fe=z.key;D!==null;){if(D.key===fe)if(D.tag===4&&D.stateNode.containerInfo===z.containerInfo&&D.stateNode.implementation===z.implementation){a(L,D.sibling),J=h(D,z.children||[]),J.return=L,L=J;break e}else{a(L,D);break}else i(L,D);D=D.sibling}J=vf(z,L.mode,J),J.return=L,L=J}return v(L);case S:return z=Os(z),We(L,D,z,J)}if(et(z))return le(L,D,z,J);if(U(z)){if(fe=U(z),typeof fe!="function")throw Error(s(150));return z=fe.call(z),ge(L,D,z,J)}if(typeof z.then=="function")return We(L,D,$u(z),J);if(z.$$typeof===se)return We(L,D,Gu(L,z),J);Xu(L,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,D!==null&&D.tag===6?(a(L,D.sibling),J=h(D,z),J.return=L,L=J):(a(L,D),J=yf(z,L.mode,J),J.return=L,L=J),v(L)):a(L,D)}return function(L,D,z,J){try{Ko=0;var fe=We(L,D,z,J);return Ra=null,fe}catch(he){if(he===Sa||he===Qu)throw he;var Be=En(29,he,null,L.mode);return Be.lanes=J,Be.return=L,Be}finally{}}}var Vs=Ig(!0),Ng=Ig(!1),Ir=!1;function Nf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Df(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Nr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Dr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Fe&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Bu(t),dg(t,null,a),i}return zu(t,l,i,a),Bu(t)}function Yo(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,ur(t,a)}}function Of(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Mf=!1;function $o(){if(Mf){var t=Aa;if(t!==null)throw t}}function Xo(t,i,a,l){Mf=!1;var h=t.updateQueue;Ir=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var C=w,B=C.next;C.next=null,v===null?d=B:v.next=B,v=C;var $=t.alternate;$!==null&&($=$.updateQueue,w=$.lastBaseUpdate,w!==v&&(w===null?$.firstBaseUpdate=B:w.next=B,$.lastBaseUpdate=C))}if(d!==null){var Z=h.baseState;v=0,$=B=C=null,w=d;do{var F=w.lane&-536870913,G=F!==w.lane;if(G?(Oe&F)===F:(l&F)===F){F!==0&&F===ba&&(Mf=!0),$!==null&&($=$.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var le=t,ge=w;F=i;var We=a;switch(ge.tag){case 1:if(le=ge.payload,typeof le=="function"){Z=le.call(We,Z,F);break e}Z=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=ge.payload,F=typeof le=="function"?le.call(We,Z,F):le,F==null)break e;Z=b({},Z,F);break e;case 2:Ir=!0}}F=w.callback,F!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[F]:G.push(F))}else G={lane:F,tag:w.tag,payload:w.payload,callback:w.callback,next:null},$===null?(B=$=G,C=Z):$=$.next=G,v|=F;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;G=w,w=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);$===null&&(C=Z),h.baseState=C,h.firstBaseUpdate=B,h.lastBaseUpdate=$,d===null&&(h.shared.lanes=0),Lr|=v,t.lanes=v,t.memoizedState=Z}}function Dg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Og(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Dg(a[t],i)}var xa=M(null),Ju=M(0);function Mg(t,i){t=qi,ie(Ju,t),ie(xa,i),qi=t|i.baseLanes}function Vf(){ie(Ju,qi),ie(xa,xa.current)}function kf(){qi=Ju.current,X(xa),X(Ju)}var Tn=M(null),Ln=null;function Or(t){var i=t.alternate;ie(mt,mt.current&1),ie(Tn,t),Ln===null&&(i===null||xa.current!==null||i.memoizedState!==null)&&(Ln=t)}function Lf(t){ie(mt,mt.current),ie(Tn,t),Ln===null&&(Ln=t)}function Vg(t){t.tag===22?(ie(mt,mt.current),ie(Tn,t),Ln===null&&(Ln=t)):Mr()}function Mr(){ie(mt,mt.current),ie(Tn,Tn.current)}function wn(t){X(Tn),Ln===t&&(Ln=null),X(mt)}var mt=M(0);function Wu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||qd(a)||Hd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Vi=0,Se=null,Xe=null,_t=null,Zu=!1,Ca=!1,ks=!1,ec=0,Jo=0,Ia=null,ob=0;function ht(){throw Error(s(321))}function Uf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!_n(t[a],i[a]))return!1;return!0}function Pf(t,i,a,l,h,d){return Vi=d,Se=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=t===null||t.memoizedState===null?yy:Zf,ks=!1,d=a(l,h),ks=!1,Ca&&(d=Lg(i,a,l,h)),kg(t),d}function kg(t){Y.H=el;var i=Xe!==null&&Xe.next!==null;if(Vi=0,_t=Xe=Se=null,Zu=!1,Jo=0,Ia=null,i)throw Error(s(300));t===null||Et||(t=t.dependencies,t!==null&&Fu(t)&&(Et=!0))}function Lg(t,i,a,l){Se=t;var h=0;do{if(Ca&&(Ia=null),Jo=0,Ca=!1,25<=h)throw Error(s(301));if(h+=1,_t=Xe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=vy,d=i(a,l)}while(Ca);return d}function lb(){var t=Y.H,i=t.useState()[0];return i=typeof i.then=="function"?Wo(i):i,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(Se.flags|=1024),i}function jf(){var t=ec!==0;return ec=0,t}function zf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Bf(t){if(Zu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Zu=!1}Vi=0,_t=Xe=Se=null,Ca=!1,Jo=ec=0,Ia=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Se.memoizedState=_t=t:_t=_t.next=t,_t}function pt(){if(Xe===null){var t=Se.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var i=_t===null?Se.memoizedState:_t.next;if(i!==null)_t=i,Xe=t;else{if(t===null)throw Se.alternate===null?Error(s(467)):Error(s(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},_t===null?Se.memoizedState=_t=t:_t=_t.next=t}return _t}function tc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wo(t){var i=Jo;return Jo+=1,Ia===null&&(Ia=[]),t=Rg(Ia,t,i),i=Se,(_t===null?i.memoizedState:_t.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?yy:Zf),t}function nc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Wo(t);if(t.$$typeof===se)return zt(t)}throw Error(s(438,String(t)))}function qf(t){var i=null,a=Se.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Se.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=tc(),Se.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=O;return i.index++,a}function ki(t,i){return typeof i=="function"?i(t):i}function ic(t){var i=pt();return Hf(i,Xe,t)}function Hf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var w=v=null,C=null,B=i,$=!1;do{var Z=B.lane&-536870913;if(Z!==B.lane?(Oe&Z)===Z:(Vi&Z)===Z){var F=B.revertLane;if(F===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Z===ba&&($=!0);else if((Vi&F)===F){B=B.next,F===ba&&($=!0);continue}else Z={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(w=C=Z,v=d):C=C.next=Z,Se.lanes|=F,Lr|=F;Z=B.action,ks&&a(d,Z),d=B.hasEagerState?B.eagerState:a(d,Z)}else F={lane:Z,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(w=C=F,v=d):C=C.next=F,Se.lanes|=Z,Lr|=Z;B=B.next}while(B!==null&&B!==i);if(C===null?v=d:C.next=w,!_n(d,t.memoizedState)&&(Et=!0,$&&(a=Aa,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Ff(t){var i=pt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);_n(d,i.memoizedState)||(Et=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Ug(t,i,a){var l=Se,h=pt(),d=Le;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!_n((Xe||h).memoizedState,a);if(v&&(h.memoizedState=a,Et=!0),h=h.queue,Qf(zg.bind(null,l,h,t),[t]),h.getSnapshot!==i||v||_t!==null&&_t.memoizedState.tag&1){if(l.flags|=2048,Na(9,{destroy:void 0},jg.bind(null,l,h,a,i),null),Ze===null)throw Error(s(349));d||(Vi&127)!==0||Pg(l,i,a)}return a}function Pg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Se.updateQueue,i===null?(i=tc(),Se.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function jg(t,i,a,l){i.value=a,i.getSnapshot=l,Bg(i)&&qg(t)}function zg(t,i,a){return a(function(){Bg(i)&&qg(t)})}function Bg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!_n(t,a)}catch{return!0}}function qg(t){var i=Rs(t,2);i!==null&&pn(i,t,2)}function Gf(t){var i=on();if(typeof t=="function"){var a=t;if(t=a(),ks){xn(!0);try{a()}finally{xn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:t},i}function Hg(t,i,a,l){return t.baseState=a,Hf(t,Xe,typeof l=="function"?l:ki)}function ub(t,i,a,l,h){if(ac(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Y.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Fg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Fg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=Y.T,v={};Y.T=v;try{var w=a(h,l),C=Y.S;C!==null&&C(v,w),Gg(t,i,w)}catch(B){Kf(t,i,B)}finally{d!==null&&v.types!==null&&(d.types=v.types),Y.T=d}}else try{d=a(h,l),Gg(t,i,d)}catch(B){Kf(t,i,B)}}function Gg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Kg(t,i,l)},function(l){return Kf(t,i,l)}):Kg(t,i,a)}function Kg(t,i,a){i.status="fulfilled",i.value=a,Qg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Fg(t,a)))}function Kf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Qg(i),i=i.next;while(i!==l)}t.action=null}function Qg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Yg(t,i){return i}function $g(t,i){if(Le){var a=Ze.formState;if(a!==null){e:{var l=Se;if(Le){if(nt){t:{for(var h=nt,d=kn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Un(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){nt=Un(h.nextSibling),l=h.data==="F!";break e}}xr(l)}l=!1}l&&(i=a[0])}}return a=on(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yg,lastRenderedState:i},a.queue=l,a=my.bind(null,Se,l),l.dispatch=a,l=Gf(!1),d=Wf.bind(null,Se,!1,l.queue),l=on(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=ub.bind(null,Se,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Xg(t){var i=pt();return Jg(i,Xe,t)}function Jg(t,i,a){if(i=Hf(t,i,Yg)[0],t=ic(ki)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Wo(i)}catch(v){throw v===Sa?Qu:v}else l=i;i=pt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Se.flags|=2048,Na(9,{destroy:void 0},cb.bind(null,h,a),null)),[l,d,t]}function cb(t,i){t.action=i}function Wg(t){var i=pt(),a=Xe;if(a!==null)return Jg(i,a,t);pt(),i=i.memoizedState,a=pt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Na(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Se.updateQueue,i===null&&(i=tc(),Se.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Zg(){return pt().memoizedState}function rc(t,i,a,l){var h=on();Se.flags|=t,h.memoizedState=Na(1|i,{destroy:void 0},a,l===void 0?null:l)}function sc(t,i,a,l){var h=pt();l=l===void 0?null:l;var d=h.memoizedState.inst;Xe!==null&&l!==null&&Uf(l,Xe.memoizedState.deps)?h.memoizedState=Na(i,d,a,l):(Se.flags|=t,h.memoizedState=Na(1|i,d,a,l))}function ey(t,i){rc(8390656,8,t,i)}function Qf(t,i){sc(2048,8,t,i)}function hb(t){Se.flags|=4;var i=Se.updateQueue;if(i===null)i=tc(),Se.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function ty(t){var i=pt().memoizedState;return hb({ref:i,nextImpl:t}),function(){if((Fe&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function ny(t,i){return sc(4,2,t,i)}function iy(t,i){return sc(4,4,t,i)}function ry(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function sy(t,i,a){a=a!=null?a.concat([t]):null,sc(4,4,ry.bind(null,i,t),a)}function Yf(){}function ay(t,i){var a=pt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Uf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function oy(t,i){var a=pt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Uf(i,l[1]))return l[0];if(l=t(),ks){xn(!0);try{t()}finally{xn(!1)}}return a.memoizedState=[l,i],l}function $f(t,i,a){return a===void 0||(Vi&1073741824)!==0&&(Oe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=lv(),Se.lanes|=t,Lr|=t,a)}function ly(t,i,a,l){return _n(a,i)?a:xa.current!==null?(t=$f(t,a,l),_n(t,i)||(Et=!0),t):(Vi&42)===0||(Vi&1073741824)!==0&&(Oe&261930)===0?(Et=!0,t.memoizedState=a):(t=lv(),Se.lanes|=t,Lr|=t,i)}function uy(t,i,a,l,h){var d=ae.p;ae.p=d!==0&&8>d?d:8;var v=Y.T,w={};Y.T=w,Wf(t,!1,i,a);try{var C=h(),B=Y.S;if(B!==null&&B(w,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var $=ab(C,l);Zo(t,i,$,Sn(t))}else Zo(t,i,l,Sn(t))}catch(Z){Zo(t,i,{then:function(){},status:"rejected",reason:Z},Sn())}finally{ae.p=d,v!==null&&w.types!==null&&(v.types=w.types),Y.T=v}}function fb(){}function Xf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=cy(t).queue;uy(t,h,i,me,a===null?fb:function(){return hy(t),a(l)})}function cy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:me},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function hy(t){var i=cy(t);i.next===null&&(i=t.alternate.memoizedState),Zo(t,i.next.queue,{},Sn())}function Jf(){return zt(gl)}function fy(){return pt().memoizedState}function dy(){return pt().memoizedState}function db(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Sn();t=Nr(a);var l=Dr(i,t,a);l!==null&&(pn(l,i,a),Yo(l,i,a)),i={cache:Rf()},t.payload=i;return}i=i.return}}function mb(t,i,a){var l=Sn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ac(t)?py(i,a):(a=pf(t,i,a,l),a!==null&&(pn(a,t,l),gy(a,i,l)))}function my(t,i,a){var l=Sn();Zo(t,i,a,l)}function Zo(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ac(t))py(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,w=d(v,a);if(h.hasEagerState=!0,h.eagerState=w,_n(w,v))return zu(t,i,h,0),Ze===null&&ju(),!1}catch{}finally{}if(a=pf(t,i,h,l),a!==null)return pn(a,t,l),gy(a,i,l),!0}return!1}function Wf(t,i,a,l){if(l={lane:2,revertLane:Nd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ac(t)){if(i)throw Error(s(479))}else i=pf(t,a,l,2),i!==null&&pn(i,t,2)}function ac(t){var i=t.alternate;return t===Se||i!==null&&i===Se}function py(t,i){Ca=Zu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function gy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,ur(t,a)}}var el={readContext:zt,use:nc,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};el.useEffectEvent=ht;var yy={readContext:zt,use:nc,useCallback:function(t,i){return on().memoizedState=[t,i===void 0?null:i],t},useContext:zt,useEffect:ey,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,rc(4194308,4,ry.bind(null,i,t),a)},useLayoutEffect:function(t,i){return rc(4194308,4,t,i)},useInsertionEffect:function(t,i){rc(4,2,t,i)},useMemo:function(t,i){var a=on();i=i===void 0?null:i;var l=t();if(ks){xn(!0);try{t()}finally{xn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=on();if(a!==void 0){var h=a(i);if(ks){xn(!0);try{a(i)}finally{xn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=mb.bind(null,Se,t),[l.memoizedState,t]},useRef:function(t){var i=on();return t={current:t},i.memoizedState=t},useState:function(t){t=Gf(t);var i=t.queue,a=my.bind(null,Se,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Yf,useDeferredValue:function(t,i){var a=on();return $f(a,t,i)},useTransition:function(){var t=Gf(!1);return t=uy.bind(null,Se,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Se,h=on();if(Le){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Ze===null)throw Error(s(349));(Oe&127)!==0||Pg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,ey(zg.bind(null,l,d,t),[t]),l.flags|=2048,Na(9,{destroy:void 0},jg.bind(null,l,d,a,i),null),a},useId:function(){var t=on(),i=Ze.identifierPrefix;if(Le){var a=oi,l=ai;a=(l&~(1<<32-tn(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=ec++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=ob++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Jf,useFormState:$g,useActionState:$g,useOptimistic:function(t){var i=on();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Wf.bind(null,Se,!0,a),a.dispatch=i,[t,i]},useMemoCache:qf,useCacheRefresh:function(){return on().memoizedState=db.bind(null,Se)},useEffectEvent:function(t){var i=on(),a={impl:t};return i.memoizedState=a,function(){if((Fe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Zf={readContext:zt,use:nc,useCallback:ay,useContext:zt,useEffect:Qf,useImperativeHandle:sy,useInsertionEffect:ny,useLayoutEffect:iy,useMemo:oy,useReducer:ic,useRef:Zg,useState:function(){return ic(ki)},useDebugValue:Yf,useDeferredValue:function(t,i){var a=pt();return ly(a,Xe.memoizedState,t,i)},useTransition:function(){var t=ic(ki)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:Wo(t),i]},useSyncExternalStore:Ug,useId:fy,useHostTransitionStatus:Jf,useFormState:Xg,useActionState:Xg,useOptimistic:function(t,i){var a=pt();return Hg(a,Xe,t,i)},useMemoCache:qf,useCacheRefresh:dy};Zf.useEffectEvent=ty;var vy={readContext:zt,use:nc,useCallback:ay,useContext:zt,useEffect:Qf,useImperativeHandle:sy,useInsertionEffect:ny,useLayoutEffect:iy,useMemo:oy,useReducer:Ff,useRef:Zg,useState:function(){return Ff(ki)},useDebugValue:Yf,useDeferredValue:function(t,i){var a=pt();return Xe===null?$f(a,t,i):ly(a,Xe.memoizedState,t,i)},useTransition:function(){var t=Ff(ki)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:Wo(t),i]},useSyncExternalStore:Ug,useId:fy,useHostTransitionStatus:Jf,useFormState:Wg,useActionState:Wg,useOptimistic:function(t,i){var a=pt();return Xe!==null?Hg(a,Xe,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:qf,useCacheRefresh:dy};vy.useEffectEvent=ty;function ed(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:b({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var td={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Sn(),h=Nr(l);h.payload=i,a!=null&&(h.callback=a),i=Dr(t,h,l),i!==null&&(pn(i,t,l),Yo(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Sn(),h=Nr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Dr(t,h,l),i!==null&&(pn(i,t,l),Yo(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Sn(),l=Nr(a);l.tag=2,i!=null&&(l.callback=i),i=Dr(t,l,a),i!==null&&(pn(i,t,a),Yo(i,t,a))}};function _y(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!zo(a,l)||!zo(h,d):!0}function Ey(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&td.enqueueReplaceState(i,i.state,null)}function Ls(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=b({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Ty(t){Pu(t)}function wy(t){console.error(t)}function by(t){Pu(t)}function oc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Ay(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function nd(t,i,a){return a=Nr(a),a.tag=3,a.payload={element:null},a.callback=function(){oc(t,i)},a}function Sy(t){return t=Nr(t),t.tag=3,t}function Ry(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Ay(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Ay(i,a,l),typeof h!="function"&&(Ur===null?Ur=new Set([this]):Ur.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function pb(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&wa(i,a,h,!0),a=Tn.current,a!==null){switch(a.tag){case 31:case 13:return Ln===null?_c():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Yu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),xd(t,l,h)),!1;case 22:return a.flags|=65536,l===Yu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),xd(t,l,h)),!1}throw Error(s(435,a.tag))}return xd(t,l,h),_c(),!1}if(Le)return i=Tn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Tf&&(t=Error(s(422),{cause:l}),Ho(On(t,a)))):(l!==Tf&&(i=Error(s(423),{cause:l}),Ho(On(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=On(l,a),h=nd(t.stateNode,l,h),Of(t,h),ft!==4&&(ft=2)),!1;var d=Error(s(520),{cause:l});if(d=On(d,a),ll===null?ll=[d]:ll.push(d),ft!==4&&(ft=2),i===null)return!0;l=On(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=nd(a.stateNode,l,t),Of(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ur===null||!Ur.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Sy(h),Ry(h,t,a,l),Of(a,h),!1}a=a.return}while(a!==null);return!1}var id=Error(s(461)),Et=!1;function Bt(t,i,a,l){i.child=t===null?Ng(i,null,a,l):Vs(i,t.child,a,l)}function xy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var w in l)w!=="ref"&&(v[w]=l[w])}else v=l;return Ns(i),l=Pf(t,i,a,v,d,h),w=jf(),t!==null&&!Et?(zf(t,i,h),Li(t,i,h)):(Le&&w&&_f(i),i.flags|=1,Bt(t,i,l,h),i.child)}function Cy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!gf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Iy(t,i,d,l,h)):(t=qu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!hd(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:zo,a(v,l)&&t.ref===i.ref)return Li(t,i,h)}return i.flags|=1,t=Ni(d,l),t.ref=i.ref,t.return=i,i.child=t}function Iy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(zo(d,l)&&t.ref===i.ref)if(Et=!1,i.pendingProps=l=d,hd(t,h))(t.flags&131072)!==0&&(Et=!0);else return i.lanes=t.lanes,Li(t,i,h)}return rd(t,i,a,l,h)}function Ny(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Dy(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ku(i,d!==null?d.cachePool:null),d!==null?Mg(i,d):Vf(),Vg(i);else return l=i.lanes=536870912,Dy(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Ku(i,d.cachePool),Mg(i,d),Mr(),i.memoizedState=null):(t!==null&&Ku(i,null),Vf(),Mr());return Bt(t,i,h,a),i.child}function tl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Dy(t,i,a,l,h){var d=Cf();return d=d===null?null:{parent:vt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&Ku(i,null),Vf(),Vg(i),t!==null&&wa(t,i,l,!0),i.childLanes=h,null}function lc(t,i){return i=cc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Oy(t,i,a){return Vs(i,t.child,null,a),t=lc(i,i.pendingProps),t.flags|=2,wn(i),i.memoizedState=null,t}function gb(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Le){if(l.mode==="hidden")return t=lc(i,l),i.lanes=536870912,tl(null,t);if(Lf(i),(t=nt)?(t=Fv(t,kn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Sr!==null?{id:ai,overflow:oi}:null,retryLane:536870912,hydrationErrors:null},a=pg(t),a.return=i,i.child=a,jt=i,nt=null)):t=null,t===null)throw xr(i);return i.lanes=536870912,null}return lc(i,l)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(Lf(i),h)if(i.flags&256)i.flags&=-257,i=Oy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Et||wa(t,i,a,!1),h=(a&t.childLanes)!==0,Et||h){if(l=Ze,l!==null&&(v=cr(l,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,Rs(t,v),pn(l,t,v),id;_c(),i=Oy(t,i,a)}else t=d.treeContext,nt=Un(v.nextSibling),jt=i,Le=!0,Rr=null,kn=!1,t!==null&&vg(i,t),i=lc(i,l),i.flags|=4096;return i}return t=Ni(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function uc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function rd(t,i,a,l,h){return Ns(i),a=Pf(t,i,a,l,void 0,h),l=jf(),t!==null&&!Et?(zf(t,i,h),Li(t,i,h)):(Le&&l&&_f(i),i.flags|=1,Bt(t,i,a,h),i.child)}function My(t,i,a,l,h,d){return Ns(i),i.updateQueue=null,a=Lg(i,l,a,h),kg(t),l=jf(),t!==null&&!Et?(zf(t,i,d),Li(t,i,d)):(Le&&l&&_f(i),i.flags|=1,Bt(t,i,a,d),i.child)}function Vy(t,i,a,l,h){if(Ns(i),i.stateNode===null){var d=va,v=a.contextType;typeof v=="object"&&v!==null&&(d=zt(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=td,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Nf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?zt(v):va,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(ed(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&td.enqueueReplaceState(d,d.state,null),Xo(i,l,d,h),$o(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var w=i.memoizedProps,C=Ls(a,w);d.props=C;var B=d.context,$=a.contextType;v=va,typeof $=="object"&&$!==null&&(v=zt($));var Z=a.getDerivedStateFromProps;$=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||B!==v)&&Ey(i,d,l,v),Ir=!1;var F=i.memoizedState;d.state=F,Xo(i,l,d,h),$o(),B=i.memoizedState,w||F!==B||Ir?(typeof Z=="function"&&(ed(i,a,Z,l),B=i.memoizedState),(C=Ir||_y(i,a,C,l,F,B,v))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=v,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Df(t,i),v=i.memoizedProps,$=Ls(a,v),d.props=$,Z=i.pendingProps,F=d.context,B=a.contextType,C=va,typeof B=="object"&&B!==null&&(C=zt(B)),w=a.getDerivedStateFromProps,(B=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Z||F!==C)&&Ey(i,d,l,C),Ir=!1,F=i.memoizedState,d.state=F,Xo(i,l,d,h),$o();var G=i.memoizedState;v!==Z||F!==G||Ir||t!==null&&t.dependencies!==null&&Fu(t.dependencies)?(typeof w=="function"&&(ed(i,a,w,l),G=i.memoizedState),($=Ir||_y(i,a,$,l,F,G,C)||t!==null&&t.dependencies!==null&&Fu(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=G),d.props=l,d.state=G,d.context=C,l=$):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,uc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Vs(i,t.child,null,h),i.child=Vs(i,null,a,h)):Bt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Li(t,i,h),t}function ky(t,i,a,l){return Cs(),i.flags|=256,Bt(t,i,a,l),i.child}var sd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ad(t){return{baseLanes:t,cachePool:Ag()}}function od(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=An),t}function Ly(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(mt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Le){if(h?Or(i):Mr(),(t=nt)?(t=Fv(t,kn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Sr!==null?{id:ai,overflow:oi}:null,retryLane:536870912,hydrationErrors:null},a=pg(t),a.return=i,i.child=a,jt=i,nt=null)):t=null,t===null)throw xr(i);return Hd(t)?i.lanes=32:i.lanes=536870912,null}var w=l.children;return l=l.fallback,h?(Mr(),h=i.mode,w=cc({mode:"hidden",children:w},h),l=xs(l,h,a,null),w.return=i,l.return=i,w.sibling=l,i.child=w,l=i.child,l.memoizedState=ad(a),l.childLanes=od(t,v,a),i.memoizedState=sd,tl(null,l)):(Or(i),ld(i,w))}var C=t.memoizedState;if(C!==null&&(w=C.dehydrated,w!==null)){if(d)i.flags&256?(Or(i),i.flags&=-257,i=ud(t,i,a)):i.memoizedState!==null?(Mr(),i.child=t.child,i.flags|=128,i=null):(Mr(),w=l.fallback,h=i.mode,l=cc({mode:"visible",children:l.children},h),w=xs(w,h,a,null),w.flags|=2,l.return=i,w.return=i,l.sibling=w,i.child=l,Vs(i,t.child,null,a),l=i.child,l.memoizedState=ad(a),l.childLanes=od(t,v,a),i.memoizedState=sd,i=tl(null,l));else if(Or(i),Hd(w)){if(v=w.nextSibling&&w.nextSibling.dataset,v)var B=v.dgst;v=B,l=Error(s(419)),l.stack="",l.digest=v,Ho({value:l,source:null,stack:null}),i=ud(t,i,a)}else if(Et||wa(t,i,a,!1),v=(a&t.childLanes)!==0,Et||v){if(v=Ze,v!==null&&(l=cr(v,a),l!==0&&l!==C.retryLane))throw C.retryLane=l,Rs(t,l),pn(v,t,l),id;qd(w)||_c(),i=ud(t,i,a)}else qd(w)?(i.flags|=192,i.child=t.child,i=null):(t=C.treeContext,nt=Un(w.nextSibling),jt=i,Le=!0,Rr=null,kn=!1,t!==null&&vg(i,t),i=ld(i,l.children),i.flags|=4096);return i}return h?(Mr(),w=l.fallback,h=i.mode,C=t.child,B=C.sibling,l=Ni(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,B!==null?w=Ni(B,w):(w=xs(w,h,a,null),w.flags|=2),w.return=i,l.return=i,l.sibling=w,i.child=l,tl(null,l),l=i.child,w=t.child.memoizedState,w===null?w=ad(a):(h=w.cachePool,h!==null?(C=vt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Ag(),w={baseLanes:w.baseLanes|a,cachePool:h}),l.memoizedState=w,l.childLanes=od(t,v,a),i.memoizedState=sd,tl(t.child,l)):(Or(i),a=t.child,t=a.sibling,a=Ni(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function ld(t,i){return i=cc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function cc(t,i){return t=En(22,t,null,i),t.lanes=0,t}function ud(t,i,a){return Vs(i,t.child,null,a),t=ld(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Uy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Af(t.return,i,a)}function cd(t,i,a,l,h,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=h,v.treeForkCount=d)}function Py(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var v=mt.current,w=(v&2)!==0;if(w?(v=v&1|2,i.flags|=128):v&=1,ie(mt,v),Bt(t,i,l,a),l=Le?qo:0,!w&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Uy(t,a,i);else if(t.tag===19)Uy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Wu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),cd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Wu(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}cd(i,!0,a,null,d,l);break;case"together":cd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Li(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Lr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(wa(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Ni(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Ni(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function hd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Fu(t)))}function yb(t,i,a){switch(i.tag){case 3:kt(i,i.stateNode.containerInfo),Cr(i,vt,t.memoizedState.cache),Cs();break;case 27:case 5:Jn(i);break;case 4:kt(i,i.stateNode.containerInfo);break;case 10:Cr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Lf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Or(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Ly(t,i,a):(Or(i),t=Li(t,i,a),t!==null?t.sibling:null);Or(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(wa(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Py(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(mt,mt.current),l)break;return null;case 22:return i.lanes=0,Ny(t,i,a,i.pendingProps);case 24:Cr(i,vt,t.memoizedState.cache)}return Li(t,i,a)}function jy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Et=!0;else{if(!hd(t,a)&&(i.flags&128)===0)return Et=!1,yb(t,i,a);Et=(t.flags&131072)!==0}else Et=!1,Le&&(i.flags&1048576)!==0&&yg(i,qo,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Os(i.elementType),i.type=t,typeof t=="function")gf(t)?(l=Ls(t,l),i.tag=1,i=Vy(null,i,t,l,a)):(i.tag=0,i=rd(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===ye){i.tag=11,i=xy(null,i,t,l,a);break e}else if(h===N){i.tag=14,i=Cy(null,i,t,l,a);break e}}throw i=de(t)||t,Error(s(306,i,""))}}return i;case 0:return rd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ls(l,i.pendingProps),Vy(t,i,l,h,a);case 3:e:{if(kt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Df(t,i),Xo(i,l,null,a);var v=i.memoizedState;if(l=v.cache,Cr(i,vt,l),l!==d.cache&&Sf(i,[vt],a,!0),$o(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=ky(t,i,l,a);break e}else if(l!==h){h=On(Error(s(424)),i),Ho(h),i=ky(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(nt=Un(t.firstChild),jt=i,Le=!0,Rr=null,kn=!0,a=Ng(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Cs(),l===h){i=Li(t,i,a);break e}Bt(t,i,l,a)}i=i.child}return i;case 26:return uc(t,i),t===null?(a=Xv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Le||(a=i.type,t=i.pendingProps,l=Rc(xe.current).createElement(a),l[ut]=i,l[Pt]=t,qt(l,a,t),dt(l),i.stateNode=l):i.memoizedState=Xv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Jn(i),t===null&&Le&&(l=i.stateNode=Qv(i.type,i.pendingProps,xe.current),jt=i,kn=!0,h=nt,Br(i.type)?(Fd=h,nt=Un(l.firstChild)):nt=h),Bt(t,i,i.pendingProps.children,a),uc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Le&&((h=l=nt)&&(l=Qb(l,i.type,i.pendingProps,kn),l!==null?(i.stateNode=l,jt=i,nt=Un(l.firstChild),kn=!1,h=!0):h=!1),h||xr(i)),Jn(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,jd(h,d)?l=null:v!==null&&jd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Pf(t,i,lb,null,null,a),gl._currentValue=h),uc(t,i),Bt(t,i,l,a),i.child;case 6:return t===null&&Le&&((t=a=nt)&&(a=Yb(a,i.pendingProps,kn),a!==null?(i.stateNode=a,jt=i,nt=null,t=!0):t=!1),t||xr(i)),null;case 13:return Ly(t,i,a);case 4:return kt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Vs(i,null,l,a):Bt(t,i,l,a),i.child;case 11:return xy(t,i,i.type,i.pendingProps,a);case 7:return Bt(t,i,i.pendingProps,a),i.child;case 8:return Bt(t,i,i.pendingProps.children,a),i.child;case 12:return Bt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Cr(i,i.type,l.value),Bt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ns(i),h=zt(h),l=l(h),i.flags|=1,Bt(t,i,l,a),i.child;case 14:return Cy(t,i,i.type,i.pendingProps,a);case 15:return Iy(t,i,i.type,i.pendingProps,a);case 19:return Py(t,i,a);case 31:return gb(t,i,a);case 22:return Ny(t,i,a,i.pendingProps);case 24:return Ns(i),l=zt(vt),t===null?(h=Cf(),h===null&&(h=Ze,d=Rf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Nf(i),Cr(i,vt,h)):((t.lanes&a)!==0&&(Df(t,i),Xo(i,null,null,a),$o()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Cr(i,vt,l)):(l=d.cache,Cr(i,vt,l),l!==h.cache&&Sf(i,[vt],a,!0))),Bt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Ui(t){t.flags|=4}function fd(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(fv())t.flags|=8192;else throw Ms=Yu,If}else t.flags&=-16777217}function zy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!t_(i))if(fv())t.flags|=8192;else throw Ms=Yu,If}function hc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?wo():536870912,t.lanes|=i,Va|=i)}function nl(t,i){if(!Le)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function vb(t,i,a){var l=i.pendingProps;switch(Ef(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(i),null;case 1:return it(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Mi(vt),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ta(i)?Ui(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,wf())),it(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Ui(i),d!==null?(it(i),zy(i,d)):(it(i),fd(i,h,null,l,a))):d?d!==t.memoizedState?(Ui(i),it(i),zy(i,d)):(it(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Ui(i),it(i),fd(i,h,t,l,a)),null;case 27:if(vi(i),a=xe.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ui(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return it(i),null}t=ue.current,Ta(i)?_g(i):(t=Qv(h,l,a),i.stateNode=t,Ui(i))}return it(i),null;case 5:if(vi(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ui(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return it(i),null}if(d=ue.current,Ta(i))_g(i);else{var v=Rc(xe.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(h,{is:l.is}):v.createElement(h)}}d[ut]=i,d[Pt]=l;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=d;e:switch(qt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ui(i)}}return it(i),fd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Ui(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=xe.current,Ta(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=jt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[ut]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Lv(t.nodeValue,a)),t||xr(i,!0)}else t=Rc(t).createTextNode(l),t[ut]=i,i.stateNode=t}return it(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Ta(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[ut]=i}else Cs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),t=!1}else a=wf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(wn(i),i):(wn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return it(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ta(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[ut]=i}else Cs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),h=!1}else h=wf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(wn(i),i):(wn(i),null)}return wn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),hc(i,i.updateQueue),it(i),null);case 4:return at(),t===null&&Vd(i.stateNode.containerInfo),it(i),null;case 10:return Mi(i.type),it(i),null;case 19:if(X(mt),l=i.memoizedState,l===null)return it(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)nl(l,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Wu(t),d!==null){for(i.flags|=128,nl(l,!1),t=d.updateQueue,i.updateQueue=t,hc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)mg(a,t),a=a.sibling;return ie(mt,mt.current&1|2),Le&&Di(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&Lt()>gc&&(i.flags|=128,h=!0,nl(l,!1),i.lanes=4194304)}else{if(!h)if(t=Wu(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,hc(i,t),nl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Le)return it(i),null}else 2*Lt()-l.renderingStartTime>gc&&a!==536870912&&(i.flags|=128,h=!0,nl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Lt(),t.sibling=null,a=mt.current,ie(mt,h?a&1|2:a&1),Le&&Di(i,l.treeForkCount),t):(it(i),null);case 22:case 23:return wn(i),kf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(it(i),i.subtreeFlags&6&&(i.flags|=8192)):it(i),a=i.updateQueue,a!==null&&hc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&X(Ds),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Mi(vt),it(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function _b(t,i){switch(Ef(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Mi(vt),at(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return vi(i),null;case 31:if(i.memoizedState!==null){if(wn(i),i.alternate===null)throw Error(s(340));Cs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(wn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Cs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return X(mt),null;case 4:return at(),null;case 10:return Mi(i.type),null;case 22:case 23:return wn(i),kf(),t!==null&&X(Ds),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Mi(vt),null;case 25:return null;default:return null}}function By(t,i){switch(Ef(i),i.tag){case 3:Mi(vt),at();break;case 26:case 27:case 5:vi(i);break;case 4:at();break;case 31:i.memoizedState!==null&&wn(i);break;case 13:wn(i);break;case 19:X(mt);break;case 10:Mi(i.type);break;case 22:case 23:wn(i),kf(),t!==null&&X(Ds);break;case 24:Mi(vt)}}function il(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(w){Ye(i,i.return,w)}}function Vr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,w=v.destroy;if(w!==void 0){v.destroy=void 0,h=i;var C=a,B=w;try{B()}catch($){Ye(h,C,$)}}}l=l.next}while(l!==d)}}catch($){Ye(i,i.return,$)}}function qy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Og(i,a)}catch(l){Ye(t,t.return,l)}}}function Hy(t,i,a){a.props=Ls(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ye(t,i,l)}}function rl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Ye(t,i,h)}}function li(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ye(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ye(t,i,h)}else a.current=null}function Fy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ye(t,t.return,h)}}function dd(t,i,a){try{var l=t.stateNode;Bb(l,t.type,a,i),l[Pt]=i}catch(h){Ye(t,t.return,h)}}function Gy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Br(t.type)||t.tag===4}function md(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Gy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Br(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function pd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Nt));else if(l!==4&&(l===27&&Br(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(pd(t,i,a),t=t.sibling;t!==null;)pd(t,i,a),t=t.sibling}function fc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Br(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(fc(t,i,a),t=t.sibling;t!==null;)fc(t,i,a),t=t.sibling}function Ky(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);qt(i,l,a),i[ut]=t,i[Pt]=a}catch(d){Ye(t,t.return,d)}}var Pi=!1,Tt=!1,gd=!1,Qy=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function Eb(t,i){if(t=t.containerInfo,Ud=Mc,t=sg(t),uf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,w=-1,C=-1,B=0,$=0,Z=t,F=null;t:for(;;){for(var G;Z!==a||h!==0&&Z.nodeType!==3||(w=v+h),Z!==d||l!==0&&Z.nodeType!==3||(C=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(G=Z.firstChild)!==null;)F=Z,Z=G;for(;;){if(Z===t)break t;if(F===a&&++B===h&&(w=v),F===d&&++$===l&&(C=v),(G=Z.nextSibling)!==null)break;Z=F,F=Z.parentNode}Z=G}a=w===-1||C===-1?null:{start:w,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Pd={focusedElem:t,selectionRange:a},Mc=!1,Mt=i;Mt!==null;)if(i=Mt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Mt=t;else for(;Mt!==null;){switch(i=Mt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var le=Ls(a.type,h);t=l.getSnapshotBeforeUpdate(le,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ge){Ye(a,a.return,ge)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Bd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Bd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Mt=t;break}Mt=i.return}}function Yy(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:zi(t,a),l&4&&il(5,a);break;case 1:if(zi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){Ye(a,a.return,v)}else{var h=Ls(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Ye(a,a.return,v)}}l&64&&qy(a),l&512&&rl(a,a.return);break;case 3:if(zi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Og(t,i)}catch(v){Ye(a,a.return,v)}}break;case 27:i===null&&l&4&&Ky(a);case 26:case 5:zi(t,a),i===null&&l&4&&Fy(a),l&512&&rl(a,a.return);break;case 12:zi(t,a);break;case 31:zi(t,a),l&4&&Jy(t,a);break;case 13:zi(t,a),l&4&&Wy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Ib.bind(null,a),$b(t,a))));break;case 22:if(l=a.memoizedState!==null||Pi,!l){i=i!==null&&i.memoizedState!==null||Tt,h=Pi;var d=Tt;Pi=l,(Tt=i)&&!d?Bi(t,a,(a.subtreeFlags&8772)!==0):zi(t,a),Pi=h,Tt=d}break;case 30:break;default:zi(t,a)}}function $y(t){var i=t.alternate;i!==null&&(t.alternate=null,$y(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ms(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var st=null,hn=!1;function ji(t,i,a){for(a=a.child;a!==null;)Xy(t,i,a),a=a.sibling}function Xy(t,i,a){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(sr,a)}catch{}switch(a.tag){case 26:Tt||li(a,i),ji(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Tt||li(a,i);var l=st,h=hn;Br(a.type)&&(st=a.stateNode,hn=!1),ji(t,i,a),dl(a.stateNode),st=l,hn=h;break;case 5:Tt||li(a,i);case 6:if(l=st,h=hn,st=null,ji(t,i,a),st=l,hn=h,st!==null)if(hn)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(a.stateNode)}catch(d){Ye(a,i,d)}else try{st.removeChild(a.stateNode)}catch(d){Ye(a,i,d)}break;case 18:st!==null&&(hn?(t=st,qv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),qa(t)):qv(st,a.stateNode));break;case 4:l=st,h=hn,st=a.stateNode.containerInfo,hn=!0,ji(t,i,a),st=l,hn=h;break;case 0:case 11:case 14:case 15:Vr(2,a,i),Tt||Vr(4,a,i),ji(t,i,a);break;case 1:Tt||(li(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Hy(a,i,l)),ji(t,i,a);break;case 21:ji(t,i,a);break;case 22:Tt=(l=Tt)||a.memoizedState!==null,ji(t,i,a),Tt=l;break;default:ji(t,i,a)}}function Jy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{qa(t)}catch(a){Ye(i,i.return,a)}}}function Wy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{qa(t)}catch(a){Ye(i,i.return,a)}}function Tb(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Qy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Qy),i;default:throw Error(s(435,t.tag))}}function dc(t,i){var a=Tb(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=Nb.bind(null,t,l);l.then(h,h)}})}function fn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,w=v;e:for(;w!==null;){switch(w.tag){case 27:if(Br(w.type)){st=w.stateNode,hn=!1;break e}break;case 5:st=w.stateNode,hn=!1;break e;case 3:case 4:st=w.stateNode.containerInfo,hn=!0;break e}w=w.return}if(st===null)throw Error(s(160));Xy(d,v,h),st=null,hn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Zy(i,t),i=i.sibling}var Gn=null;function Zy(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fn(i,t),dn(t),l&4&&(Vr(3,t,t.return),il(3,t),Vr(5,t,t.return));break;case 1:fn(i,t),dn(t),l&512&&(Tt||a===null||li(a,a.return)),l&64&&Pi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Gn;if(fn(i,t),dn(t),l&512&&(Tt||a===null||li(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[wi]||d[ut]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),qt(d,l,a),d[ut]=t,dt(d),l=d;break e;case"link":var v=Zv("link","href",h).get(l+(a.href||""));if(v){for(var w=0;w<v.length;w++)if(d=v[w],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(w,1);break t}}d=h.createElement(l),qt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=Zv("meta","content",h).get(l+(a.content||""))){for(w=0;w<v.length;w++)if(d=v[w],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(w,1);break t}}d=h.createElement(l),qt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[ut]=t,dt(d),l=d}t.stateNode=l}else e_(h,t.type,t.stateNode);else t.stateNode=Wv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?e_(h,t.type,t.stateNode):Wv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&dd(t,t.memoizedProps,a.memoizedProps)}break;case 27:fn(i,t),dn(t),l&512&&(Tt||a===null||li(a,a.return)),a!==null&&l&4&&dd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(fn(i,t),dn(t),l&512&&(Tt||a===null||li(a,a.return)),t.flags&32){h=t.stateNode;try{Nn(h,"")}catch(le){Ye(t,t.return,le)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,dd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(gd=!0);break;case 6:if(fn(i,t),dn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(le){Ye(t,t.return,le)}}break;case 3:if(Ic=null,h=Gn,Gn=xc(i.containerInfo),fn(i,t),Gn=h,dn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{qa(i.containerInfo)}catch(le){Ye(t,t.return,le)}gd&&(gd=!1,ev(t));break;case 4:l=Gn,Gn=xc(t.stateNode.containerInfo),fn(i,t),dn(t),Gn=l;break;case 12:fn(i,t),dn(t);break;case 31:fn(i,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,dc(t,l)));break;case 13:fn(i,t),dn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(pc=Lt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,dc(t,l)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,B=Pi,$=Tt;if(Pi=B||h,Tt=$||C,fn(i,t),Tt=$,Pi=B,dn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||C||Pi||Tt||Us(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(d=C.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{w=C.stateNode;var Z=C.memoizedProps.style,F=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;w.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(le){Ye(C,C.return,le)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(le){Ye(C,C.return,le)}}}else if(i.tag===18){if(a===null){C=i;try{var G=C.stateNode;h?Hv(G,!0):Hv(C.stateNode,!1)}catch(le){Ye(C,C.return,le)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,dc(t,a))));break;case 19:fn(i,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,dc(t,l)));break;case 30:break;case 21:break;default:fn(i,t),dn(t)}}function dn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Gy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=md(t);fc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(Nn(v,""),a.flags&=-33);var w=md(t);fc(t,w,v);break;case 3:case 4:var C=a.stateNode.containerInfo,B=md(t);pd(t,B,C);break;default:throw Error(s(161))}}catch($){Ye(t,t.return,$)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function ev(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;ev(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function zi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Yy(t,i.alternate,i),i=i.sibling}function Us(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Vr(4,i,i.return),Us(i);break;case 1:li(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Hy(i,i.return,a),Us(i);break;case 27:dl(i.stateNode);case 26:case 5:li(i,i.return),Us(i);break;case 22:i.memoizedState===null&&Us(i);break;case 30:Us(i);break;default:Us(i)}t=t.sibling}}function Bi(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Bi(h,d,a),il(4,d);break;case 1:if(Bi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){Ye(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var w=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Dg(C[h],w)}catch(B){Ye(l,l.return,B)}}a&&v&64&&qy(d),rl(d,d.return);break;case 27:Ky(d);case 26:case 5:Bi(h,d,a),a&&l===null&&v&4&&Fy(d),rl(d,d.return);break;case 12:Bi(h,d,a);break;case 31:Bi(h,d,a),a&&v&4&&Jy(h,d);break;case 13:Bi(h,d,a),a&&v&4&&Wy(h,d);break;case 22:d.memoizedState===null&&Bi(h,d,a),rl(d,d.return);break;case 30:break;default:Bi(h,d,a)}i=i.sibling}}function yd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Fo(a))}function vd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Fo(t))}function Kn(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)tv(t,i,a,l),i=i.sibling}function tv(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Kn(t,i,a,l),h&2048&&il(9,i);break;case 1:Kn(t,i,a,l);break;case 3:Kn(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Fo(t)));break;case 12:if(h&2048){Kn(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,w=d.onPostCommit;typeof w=="function"&&w(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Ye(i,i.return,C)}}else Kn(t,i,a,l);break;case 31:Kn(t,i,a,l);break;case 13:Kn(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?Kn(t,i,a,l):sl(t,i):d._visibility&2?Kn(t,i,a,l):(d._visibility|=2,Da(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&yd(v,i);break;case 24:Kn(t,i,a,l),h&2048&&vd(i.alternate,i);break;default:Kn(t,i,a,l)}}function Da(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,v=i,w=a,C=l,B=v.flags;switch(v.tag){case 0:case 11:case 15:Da(d,v,w,C,h),il(8,v);break;case 23:break;case 22:var $=v.stateNode;v.memoizedState!==null?$._visibility&2?Da(d,v,w,C,h):sl(d,v):($._visibility|=2,Da(d,v,w,C,h)),h&&B&2048&&yd(v.alternate,v);break;case 24:Da(d,v,w,C,h),h&&B&2048&&vd(v.alternate,v);break;default:Da(d,v,w,C,h)}i=i.sibling}}function sl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:sl(a,l),h&2048&&yd(l.alternate,l);break;case 24:sl(a,l),h&2048&&vd(l.alternate,l);break;default:sl(a,l)}i=i.sibling}}var al=8192;function Oa(t,i,a){if(t.subtreeFlags&al)for(t=t.child;t!==null;)nv(t,i,a),t=t.sibling}function nv(t,i,a){switch(t.tag){case 26:Oa(t,i,a),t.flags&al&&t.memoizedState!==null&&oA(a,Gn,t.memoizedState,t.memoizedProps);break;case 5:Oa(t,i,a);break;case 3:case 4:var l=Gn;Gn=xc(t.stateNode.containerInfo),Oa(t,i,a),Gn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=al,al=16777216,Oa(t,i,a),al=l):Oa(t,i,a));break;default:Oa(t,i,a)}}function iv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function ol(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Mt=l,sv(l,t)}iv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)rv(t),t=t.sibling}function rv(t){switch(t.tag){case 0:case 11:case 15:ol(t),t.flags&2048&&Vr(9,t,t.return);break;case 3:ol(t);break;case 12:ol(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,mc(t)):ol(t);break;default:ol(t)}}function mc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Mt=l,sv(l,t)}iv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Vr(8,i,i.return),mc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,mc(i));break;default:mc(i)}t=t.sibling}}function sv(t,i){for(;Mt!==null;){var a=Mt;switch(a.tag){case 0:case 11:case 15:Vr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Fo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Mt=l;else e:for(a=t;Mt!==null;){l=Mt;var h=l.sibling,d=l.return;if($y(l),l===a){Mt=null;break e}if(h!==null){h.return=d,Mt=h;break e}Mt=d}}}var wb={getCacheForType:function(t){var i=zt(vt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return zt(vt).controller.signal}},bb=typeof WeakMap=="function"?WeakMap:Map,Fe=0,Ze=null,Ne=null,Oe=0,Qe=0,bn=null,kr=!1,Ma=!1,_d=!1,qi=0,ft=0,Lr=0,Ps=0,Ed=0,An=0,Va=0,ll=null,mn=null,Td=!1,pc=0,av=0,gc=1/0,yc=null,Ur=null,St=0,Pr=null,ka=null,Hi=0,wd=0,bd=null,ov=null,ul=0,Ad=null;function Sn(){return(Fe&2)!==0&&Oe!==0?Oe&-Oe:Y.T!==null?Nd():Ti()}function lv(){if(An===0)if((Oe&536870912)===0||Le){var t=Wn;Wn<<=1,(Wn&3932160)===0&&(Wn=262144),An=t}else An=536870912;return t=Tn.current,t!==null&&(t.flags|=32),An}function pn(t,i,a){(t===Ze&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)&&(La(t,0),jr(t,Oe,An,!1)),lr(t,a),((Fe&2)===0||t!==Ze)&&(t===Ze&&((Fe&2)===0&&(Ps|=a),ft===4&&jr(t,Oe,An,!1)),ui(t))}function uv(t,i,a){if((Fe&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||or(t,i),h=l?Rb(t,i):Rd(t,i,!0),d=l;do{if(h===0){Ma&&!l&&jr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!Ab(a)){h=Rd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var w=t;h=ll;var C=w.current.memoizedState.isDehydrated;if(C&&(La(w,v).flags|=256),v=Rd(w,v,!1),v!==2){if(_d&&!C){w.errorRecoveryDisabledLanes|=d,Ps|=d,h=4;break e}d=mn,mn=h,d!==null&&(mn===null?mn=d:mn.push.apply(mn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){La(t,0),jr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:jr(l,i,An,!kr);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=pc+300-Lt(),10<h)){if(jr(l,i,An,!kr),Cn(l,0,!0)!==0)break e;Hi=i,l.timeoutHandle=zv(cv.bind(null,l,a,mn,yc,Td,i,An,Ps,Va,kr,d,"Throttled",-0,0),h);break e}cv(l,a,mn,yc,Td,i,An,Ps,Va,kr,d,null,-0,0)}}break}while(!0);ui(t)}function cv(t,i,a,l,h,d,v,w,C,B,$,Z,F,G){if(t.timeoutHandle=-1,Z=i.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Nt},nv(i,d,Z);var le=(d&62914560)===d?pc-Lt():(d&4194048)===d?av-Lt():0;if(le=lA(Z,le),le!==null){Hi=d,t.cancelPendingCommit=le(vv.bind(null,t,i,d,a,l,h,v,w,C,$,Z,null,F,G)),jr(t,d,v,!B);return}}vv(t,i,d,a,l,h,v,w,C)}function Ab(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!_n(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function jr(t,i,a,l){i&=~Ed,i&=~Ps,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-tn(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&bo(t,a,i)}function vc(){return(Fe&6)===0?(cl(0),!1):!0}function Sd(){if(Ne!==null){if(Qe===0)var t=Ne.return;else t=Ne,Oi=Is=null,Bf(t),Ra=null,Ko=0,t=Ne;for(;t!==null;)By(t.alternate,t),t=t.return;Ne=null}}function La(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Fb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Hi=0,Sd(),Ze=t,Ne=a=Ni(t.current,null),Oe=i,Qe=0,bn=null,kr=!1,Ma=or(t,i),_d=!1,Va=An=Ed=Ps=Lr=ft=0,mn=ll=null,Td=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-tn(l),d=1<<h;i|=t[h],l&=~d}return qi=i,ju(),a}function hv(t,i){Se=null,Y.H=el,i===Sa||i===Qu?(i=xg(),Qe=3):i===If?(i=xg(),Qe=4):Qe=i===id?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,bn=i,Ne===null&&(ft=1,oc(t,On(i,t.current)))}function fv(){var t=Tn.current;return t===null?!0:(Oe&4194048)===Oe?Ln===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?t===Ln:!1}function dv(){var t=Y.H;return Y.H=el,t===null?el:t}function mv(){var t=Y.A;return Y.A=wb,t}function _c(){ft=4,kr||(Oe&4194048)!==Oe&&Tn.current!==null||(Ma=!0),(Lr&134217727)===0&&(Ps&134217727)===0||Ze===null||jr(Ze,Oe,An,!1)}function Rd(t,i,a){var l=Fe;Fe|=2;var h=dv(),d=mv();(Ze!==t||Oe!==i)&&(yc=null,La(t,i)),i=!1;var v=ft;e:do try{if(Qe!==0&&Ne!==null){var w=Ne,C=bn;switch(Qe){case 8:Sd(),v=6;break e;case 3:case 2:case 9:case 6:Tn.current===null&&(i=!0);var B=Qe;if(Qe=0,bn=null,Ua(t,w,C,B),a&&Ma){v=0;break e}break;default:B=Qe,Qe=0,bn=null,Ua(t,w,C,B)}}Sb(),v=ft;break}catch($){hv(t,$)}while(!0);return i&&t.shellSuspendCounter++,Oi=Is=null,Fe=l,Y.H=h,Y.A=d,Ne===null&&(Ze=null,Oe=0,ju()),v}function Sb(){for(;Ne!==null;)pv(Ne)}function Rb(t,i){var a=Fe;Fe|=2;var l=dv(),h=mv();Ze!==t||Oe!==i?(yc=null,gc=Lt()+500,La(t,i)):Ma=or(t,i);e:do try{if(Qe!==0&&Ne!==null){i=Ne;var d=bn;t:switch(Qe){case 1:Qe=0,bn=null,Ua(t,i,d,1);break;case 2:case 9:if(Sg(d)){Qe=0,bn=null,gv(i);break}i=function(){Qe!==2&&Qe!==9||Ze!==t||(Qe=7),ui(t)},d.then(i,i);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:Sg(d)?(Qe=0,bn=null,gv(i)):(Qe=0,bn=null,Ua(t,i,d,7));break;case 5:var v=null;switch(Ne.tag){case 26:v=Ne.memoizedState;case 5:case 27:var w=Ne;if(v?t_(v):w.stateNode.complete){Qe=0,bn=null;var C=w.sibling;if(C!==null)Ne=C;else{var B=w.return;B!==null?(Ne=B,Ec(B)):Ne=null}break t}}Qe=0,bn=null,Ua(t,i,d,5);break;case 6:Qe=0,bn=null,Ua(t,i,d,6);break;case 8:Sd(),ft=6;break e;default:throw Error(s(462))}}xb();break}catch($){hv(t,$)}while(!0);return Oi=Is=null,Y.H=l,Y.A=h,Fe=a,Ne!==null?0:(Ze=null,Oe=0,ju(),ft)}function xb(){for(;Ne!==null&&!Jh();)pv(Ne)}function pv(t){var i=jy(t.alternate,t,qi);t.memoizedProps=t.pendingProps,i===null?Ec(t):Ne=i}function gv(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=My(a,i,i.pendingProps,i.type,void 0,Oe);break;case 11:i=My(a,i,i.pendingProps,i.type.render,i.ref,Oe);break;case 5:Bf(i);default:By(a,i),i=Ne=mg(i,qi),i=jy(a,i,qi)}t.memoizedProps=t.pendingProps,i===null?Ec(t):Ne=i}function Ua(t,i,a,l){Oi=Is=null,Bf(i),Ra=null,Ko=0;var h=i.return;try{if(pb(t,h,i,a,Oe)){ft=1,oc(t,On(a,t.current)),Ne=null;return}}catch(d){if(h!==null)throw Ne=h,d;ft=1,oc(t,On(a,t.current)),Ne=null;return}i.flags&32768?(Le||l===1?t=!0:Ma||(Oe&536870912)!==0?t=!1:(kr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Tn.current,l!==null&&l.tag===13&&(l.flags|=16384))),yv(i,t)):Ec(i)}function Ec(t){var i=t;do{if((i.flags&32768)!==0){yv(i,kr);return}t=i.return;var a=vb(i.alternate,i,qi);if(a!==null){Ne=a;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=t}while(i!==null);ft===0&&(ft=5)}function yv(t,i){do{var a=_b(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);ft=6,Ne=null}function vv(t,i,a,l,h,d,v,w,C){t.cancelPendingCommit=null;do Tc();while(St!==0);if((Fe&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=mf,Ut(t,a,d,v,w,C),t===Ze&&(Ne=Ze=null,Oe=0),ka=i,Pr=t,Hi=a,wd=d,bd=h,ov=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Db(_i,function(){return bv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=ae.p,ae.p=2,v=Fe,Fe|=4;try{Eb(t,i,a)}finally{Fe=v,ae.p=h,Y.T=l}}St=1,_v(),Ev(),Tv()}}function _v(){if(St===1){St=0;var t=Pr,i=ka,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=ae.p;ae.p=2;var h=Fe;Fe|=4;try{Zy(i,t);var d=Pd,v=sg(t.containerInfo),w=d.focusedElem,C=d.selectionRange;if(v!==w&&w&&w.ownerDocument&&rg(w.ownerDocument.documentElement,w)){if(C!==null&&uf(w)){var B=C.start,$=C.end;if($===void 0&&($=B),"selectionStart"in w)w.selectionStart=B,w.selectionEnd=Math.min($,w.value.length);else{var Z=w.ownerDocument||document,F=Z&&Z.defaultView||window;if(F.getSelection){var G=F.getSelection(),le=w.textContent.length,ge=Math.min(C.start,le),We=C.end===void 0?ge:Math.min(C.end,le);!G.extend&&ge>We&&(v=We,We=ge,ge=v);var L=ig(w,ge),D=ig(w,We);if(L&&D&&(G.rangeCount!==1||G.anchorNode!==L.node||G.anchorOffset!==L.offset||G.focusNode!==D.node||G.focusOffset!==D.offset)){var z=Z.createRange();z.setStart(L.node,L.offset),G.removeAllRanges(),ge>We?(G.addRange(z),G.extend(D.node,D.offset)):(z.setEnd(D.node,D.offset),G.addRange(z))}}}}for(Z=[],G=w;G=G.parentNode;)G.nodeType===1&&Z.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<Z.length;w++){var J=Z[w];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Mc=!!Ud,Pd=Ud=null}finally{Fe=h,ae.p=l,Y.T=a}}t.current=i,St=2}}function Ev(){if(St===2){St=0;var t=Pr,i=ka,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=ae.p;ae.p=2;var h=Fe;Fe|=4;try{Yy(t,i.alternate,i)}finally{Fe=h,ae.p=l,Y.T=a}}St=3}}function Tv(){if(St===4||St===3){St=0,_o();var t=Pr,i=ka,a=Hi,l=ov;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?St=5:(St=0,ka=Pr=null,wv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ur=null),So(a),i=i.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(sr,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Y.T,h=ae.p,ae.p=2,Y.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var w=l[v];d(w.value,{componentStack:w.stack})}}finally{Y.T=i,ae.p=h}}(Hi&3)!==0&&Tc(),ui(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Ad?ul++:(ul=0,Ad=t):ul=0,cl(0)}}function wv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Fo(i)))}function Tc(){return _v(),Ev(),Tv(),bv()}function bv(){if(St!==5)return!1;var t=Pr,i=wd;wd=0;var a=So(Hi),l=Y.T,h=ae.p;try{ae.p=32>a?32:a,Y.T=null,a=bd,bd=null;var d=Pr,v=Hi;if(St=0,ka=Pr=null,Hi=0,(Fe&6)!==0)throw Error(s(331));var w=Fe;if(Fe|=4,rv(d.current),tv(d,d.current,v,a),Fe=w,cl(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(sr,d)}catch{}return!0}finally{ae.p=h,Y.T=l,wv(t,i)}}function Av(t,i,a){i=On(a,i),i=nd(t.stateNode,i,2),t=Dr(t,i,2),t!==null&&(lr(t,2),ui(t))}function Ye(t,i,a){if(t.tag===3)Av(t,t,a);else for(;i!==null;){if(i.tag===3){Av(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ur===null||!Ur.has(l))){t=On(a,t),a=Sy(2),l=Dr(i,a,2),l!==null&&(Ry(a,l,i,t),lr(l,2),ui(l));break}}i=i.return}}function xd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new bb;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(_d=!0,h.add(a),t=Cb.bind(null,t,i,a),i.then(t,t))}function Cb(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Ze===t&&(Oe&a)===a&&(ft===4||ft===3&&(Oe&62914560)===Oe&&300>Lt()-pc?(Fe&2)===0&&La(t,0):Ed|=a,Va===Oe&&(Va=0)),ui(t)}function Sv(t,i){i===0&&(i=wo()),t=Rs(t,i),t!==null&&(lr(t,i),ui(t))}function Ib(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Sv(t,a)}function Nb(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Sv(t,a)}function Db(t,i){return hs(t,i)}var wc=null,Pa=null,Cd=!1,bc=!1,Id=!1,zr=0;function ui(t){t!==Pa&&t.next===null&&(Pa===null?wc=Pa=t:Pa=Pa.next=t),bc=!0,Cd||(Cd=!0,Mb())}function cl(t,i){if(!Id&&bc){Id=!0;do for(var a=!1,l=wc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,w=l.pingedLanes;d=(1<<31-tn(42|t)+1)-1,d&=h&~(v&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Iv(l,d))}else d=Oe,d=Cn(l,l===Ze?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||or(l,d)||(a=!0,Iv(l,d));l=l.next}while(a);Id=!1}}function Ob(){Rv()}function Rv(){bc=Cd=!1;var t=0;zr!==0&&Hb()&&(t=zr);for(var i=Lt(),a=null,l=wc;l!==null;){var h=l.next,d=xv(l,i);d===0?(l.next=null,a===null?wc=h:a.next=h,h===null&&(Pa=a)):(a=l,(t!==0||(d&3)!==0)&&(bc=!0)),l=h}St!==0&&St!==5||cl(t),zr!==0&&(zr=0)}function xv(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-tn(d),w=1<<v,C=h[v];C===-1?((w&a)===0||(w&l)!==0)&&(h[v]=ra(w,i)):C<=i&&(t.expiredLanes|=w),d&=~w}if(i=Ze,a=Oe,a=Cn(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ia(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||or(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&ia(l),So(a)){case 2:case 8:a=It;break;case 32:a=_i;break;case 268435456:a=Eo;break;default:a=_i}return l=Cv.bind(null,t),a=hs(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&ia(l),t.callbackPriority=2,t.callbackNode=null,2}function Cv(t,i){if(St!==0&&St!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Tc()&&t.callbackNode!==a)return null;var l=Oe;return l=Cn(t,t===Ze?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(uv(t,l,i),xv(t,Lt()),t.callbackNode!=null&&t.callbackNode===a?Cv.bind(null,t):null)}function Iv(t,i){if(Tc())return null;uv(t,i,!0)}function Mb(){Gb(function(){(Fe&6)!==0?hs(At,Ob):Rv()})}function Nd(){if(zr===0){var t=ba;t===0&&(t=ds,ds<<=1,(ds&261888)===0&&(ds=256)),zr=t}return zr}function Nv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ii(""+t)}function Dv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function Vb(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=Nv((h[Pt]||null).action),v=l.submitter;v&&(i=(i=v[Pt]||null)?Nv(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var w=new _s("action","action",null,l,h);t.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(zr!==0){var C=v?Dv(h,v):new FormData(h);Xf(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(w.preventDefault(),C=v?Dv(h,v):new FormData(h),Xf(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var Dd=0;Dd<df.length;Dd++){var Od=df[Dd],kb=Od.toLowerCase(),Lb=Od[0].toUpperCase()+Od.slice(1);Fn(kb,"on"+Lb)}Fn(lg,"onAnimationEnd"),Fn(ug,"onAnimationIteration"),Fn(cg,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(Ww,"onTransitionRun"),Fn(Zw,"onTransitionStart"),Fn(eb,"onTransitionCancel"),Fn(hg,"onTransitionEnd"),ni("onMouseEnter",["mouseout","mouseover"]),ni("onMouseLeave",["mouseout","mouseover"]),ni("onPointerEnter",["pointerout","pointerover"]),ni("onPointerLeave",["pointerout","pointerover"]),nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ub=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hl));function Ov(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var w=l[v],C=w.instance,B=w.currentTarget;if(w=w.listener,C!==d&&h.isPropagationStopped())break e;d=w,h.currentTarget=B;try{d(h)}catch($){Pu($)}h.currentTarget=null,d=C}else for(v=0;v<l.length;v++){if(w=l[v],C=w.instance,B=w.currentTarget,w=w.listener,C!==d&&h.isPropagationStopped())break e;d=w,h.currentTarget=B;try{d(h)}catch($){Pu($)}h.currentTarget=null,d=C}}}}function De(t,i){var a=i[hr];a===void 0&&(a=i[hr]=new Set);var l=t+"__bubble";a.has(l)||(Mv(i,t,2,!1),a.add(l))}function Md(t,i,a){var l=0;i&&(l|=4),Mv(a,t,l,i)}var Ac="_reactListening"+Math.random().toString(36).slice(2);function Vd(t){if(!t[Ac]){t[Ac]=!0,sa.forEach(function(a){a!=="selectionchange"&&(Ub.has(a)||Md(a,!1,t),Md(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Ac]||(i[Ac]=!0,Md("selectionchange",!1,i))}}function Mv(t,i,a,l){switch(l_(i)){case 2:var h=hA;break;case 8:h=fA;break;default:h=$d}a=h.bind(null,i,a,t),h=void 0,!Mo||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function kd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var w=l.stateNode.containerInfo;if(w===h)break;if(v===4)for(v=l.return;v!==null;){var C=v.tag;if((C===3||C===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;w!==null;){if(v=bi(w),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){l=d=v;continue e}w=w.parentNode}}l=l.return}wu(function(){var B=d,$=ca(a),Z=[];e:{var F=fg.get(t);if(F!==void 0){var G=_s,le=t;switch(t){case"keypress":if(vs(a)===0)break e;case"keydown":case"keyup":G=Du;break;case"focusin":le="focus",G=Tr;break;case"focusout":le="blur",G=Tr;break;case"beforeblur":case"afterblur":G=Tr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Au;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Su;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Mu;break;case lg:case ug:case cg:G=da;break;case hg:G=ma;break;case"scroll":case"scrollend":G=bu;break;case"wheel":G=ku;break;case"copy":case"cut":case"paste":G=xu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Po;break;case"toggle":case"beforetoggle":G=br}var ge=(i&4)!==0,We=!ge&&(t==="scroll"||t==="scrollend"),L=ge?F!==null?F+"Capture":null:F;ge=[];for(var D=B,z;D!==null;){var J=D;if(z=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||z===null||L===null||(J=un(D,L),J!=null&&ge.push(fl(D,J,z))),We)break;D=D.return}0<ge.length&&(F=new G(F,le,null,a,$),Z.push({event:F,listeners:ge}))}}if((i&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",F&&a!==ua&&(le=a.relatedTarget||a.fromElement)&&(bi(le)||le[ei]))break e;if((G||F)&&(F=$.window===$?$:(F=$.ownerDocument)?F.defaultView||F.parentWindow:window,G?(le=a.relatedTarget||a.toElement,G=B,le=le?bi(le):null,le!==null&&(We=u(le),ge=le.tag,le!==We||ge!==5&&ge!==27&&ge!==6)&&(le=null)):(G=null,le=B),G!==le)){if(ge=Au,J="onMouseLeave",L="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(ge=Po,J="onPointerLeave",L="onPointerEnter",D="pointer"),We=G==null?F:ps(G),z=le==null?F:ps(le),F=new ge(J,D+"leave",G,a,$),F.target=We,F.relatedTarget=z,J=null,bi($)===B&&(ge=new ge(L,D+"enter",le,a,$),ge.target=z,ge.relatedTarget=We,J=ge),We=J,G&&le)t:{for(ge=Pb,L=G,D=le,z=0,J=L;J;J=ge(J))z++;J=0;for(var fe=D;fe;fe=ge(fe))J++;for(;0<z-J;)L=ge(L),z--;for(;0<J-z;)D=ge(D),J--;for(;z--;){if(L===D||D!==null&&L===D.alternate){ge=L;break t}L=ge(L),D=ge(D)}ge=null}else ge=null;G!==null&&Vv(Z,F,G,ge,!1),le!==null&&We!==null&&Vv(Z,We,le,ge,!0)}}e:{if(F=B?ps(B):window,G=F.nodeName&&F.nodeName.toLowerCase(),G==="select"||G==="input"&&F.type==="file")var Be=Jp;else if(cn(F))if(Wp)Be=$w;else{Be=Qw;var he=Kw}else G=F.nodeName,!G||G.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?B&&Do(B.elementType)&&(Be=Jp):Be=Yw;if(Be&&(Be=Be(t,B))){bs(Z,Be,a,$);break e}he&&he(t,F,B),t==="focusout"&&B&&F.type==="number"&&B.memoizedProps.value!=null&&la(F,"number",F.value)}switch(he=B?ps(B):window,t){case"focusin":(cn(he)||he.contentEditable==="true")&&(pa=he,cf=B,Bo=null);break;case"focusout":Bo=cf=pa=null;break;case"mousedown":hf=!0;break;case"contextmenu":case"mouseup":case"dragend":hf=!1,ag(Z,a,$);break;case"selectionchange":if(Jw)break;case"keydown":case"keyup":ag(Z,a,$)}var Re;if(g)e:{switch(t){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Ce?Ke(t,a)&&(Me="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Me="onCompositionStart");Me&&(P&&a.locale!=="ko"&&(Ce||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Ce&&(Re=yr()):(vn=$,ha="value"in vn?vn.value:vn.textContent,Ce=!0)),he=Sc(B,Me),0<he.length&&(Me=new ko(Me,t,null,a,$),Z.push({event:Me,listeners:he}),Re?Me.data=Re:(Re=yt(a),Re!==null&&(Me.data=Re)))),(Re=A?Dt(t,a):Ot(t,a))&&(Me=Sc(B,"onBeforeInput"),0<Me.length&&(he=new ko("onBeforeInput","beforeinput",null,a,$),Z.push({event:he,listeners:Me}),he.data=Re)),Vb(Z,t,B,a,$)}Ov(Z,i)})}function fl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Sc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=un(t,a),h!=null&&l.unshift(fl(t,h,d)),h=un(t,i),h!=null&&l.push(fl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Pb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Vv(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var w=a,C=w.alternate,B=w.stateNode;if(w=w.tag,C!==null&&C===l)break;w!==5&&w!==26&&w!==27||B===null||(C=B,h?(B=un(a,d),B!=null&&v.unshift(fl(a,B,C))):h||(B=un(a,d),B!=null&&v.push(fl(a,B,C)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var jb=/\r\n?/g,zb=/\u0000|\uFFFD/g;function kv(t){return(typeof t=="string"?t:""+t).replace(jb,`
`).replace(zb,"")}function Lv(t,i){return i=kv(i),kv(t)===i}function Je(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Nn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Nn(t,""+l);break;case"className":mr(t,"class",l);break;case"tabIndex":mr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":mr(t,a,l);break;case"style":Eu(t,l,d);break;case"data":if(i!=="object"){mr(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ii(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Je(t,i,"name",h.name,h,null),Je(t,i,"formEncType",h.formEncType,h,null),Je(t,i,"formMethod",h.formMethod,h,null),Je(t,i,"formTarget",h.formTarget,h,null)):(Je(t,i,"encType",h.encType,h,null),Je(t,i,"method",h.method,h,null),Je(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ii(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Nt);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ii(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":De("beforetoggle",t),De("toggle",t),dr(t,"popover",l);break;case"xlinkActuate":In(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":In(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":In(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":In(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":In(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":In(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":In(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":In(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":In(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":dr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=rf.get(a)||a,dr(t,a,l))}}function Ld(t,i,a,l,h,d){switch(a){case"style":Eu(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Nn(t,l):(typeof l=="number"||typeof l=="bigint")&&Nn(t,""+l);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Nt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fr.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Pt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):dr(t,a,l)}}}function qt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,d,v,a,null)}}h&&Je(t,i,"srcSet",a.srcSet,a,null),l&&Je(t,i,"src",a.src,a,null);return;case"input":De("invalid",t);var w=d=v=h=null,C=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":h=$;break;case"type":v=$;break;case"checked":C=$;break;case"defaultChecked":B=$;break;case"value":d=$;break;case"defaultValue":w=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:Je(t,i,l,$,a,null)}}gs(t,d,w,C,B,v,h,!1);return;case"select":De("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(w=a[h],w!=null))switch(h){case"value":d=w;break;case"defaultValue":v=w;break;case"multiple":l=w;default:Je(t,i,h,w,a,null)}i=d,a=v,t.multiple=!!l,i!=null?ze(t,!!l,i,!1):a!=null&&ze(t,!!l,a,!0);return;case"textarea":De("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(w=a[v],w!=null))switch(v){case"value":l=w;break;case"defaultValue":h=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:Je(t,i,v,w,a,null)}gr(t,l,h,d);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(t,i,C,l,a,null)}return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(l=0;l<hl.length;l++)De(hl[l],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,B,l,a,null)}return;default:if(Do(i)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&Ld(t,i,$,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&Je(t,i,w,l,a,null))}function Bb(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,w=null,C=null,B=null,$=null;for(G in a){var Z=a[G];if(a.hasOwnProperty(G)&&Z!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":C=Z;default:l.hasOwnProperty(G)||Je(t,i,G,null,l,Z)}}for(var F in l){var G=l[F];if(Z=a[F],l.hasOwnProperty(F)&&(G!=null||Z!=null))switch(F){case"type":d=G;break;case"name":h=G;break;case"checked":B=G;break;case"defaultChecked":$=G;break;case"value":v=G;break;case"defaultValue":w=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:G!==Z&&Je(t,i,F,G,l,Z)}}pr(t,v,w,C,B,$,d,h);return;case"select":G=v=w=F=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":G=C;default:l.hasOwnProperty(d)||Je(t,i,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":F=d;break;case"defaultValue":w=d;break;case"multiple":v=d;default:d!==C&&Je(t,i,h,d,l,C)}i=w,a=v,l=G,F!=null?ze(t,!!a,F,!1):!!l!=!!a&&(i!=null?ze(t,!!a,i,!0):ze(t,!!a,a?[]:"",!1));return;case"textarea":G=F=null;for(w in a)if(h=a[w],a.hasOwnProperty(w)&&h!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Je(t,i,w,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":F=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Je(t,i,v,h,l,d)}ys(t,F,G);return;case"option":for(var le in a)if(F=a[le],a.hasOwnProperty(le)&&F!=null&&!l.hasOwnProperty(le))switch(le){case"selected":t.selected=!1;break;default:Je(t,i,le,null,l,F)}for(C in l)if(F=l[C],G=a[C],l.hasOwnProperty(C)&&F!==G&&(F!=null||G!=null))switch(C){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Je(t,i,C,F,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in a)F=a[ge],a.hasOwnProperty(ge)&&F!=null&&!l.hasOwnProperty(ge)&&Je(t,i,ge,null,l,F);for(B in l)if(F=l[B],G=a[B],l.hasOwnProperty(B)&&F!==G&&(F!=null||G!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:Je(t,i,B,F,l,G)}return;default:if(Do(i)){for(var We in a)F=a[We],a.hasOwnProperty(We)&&F!==void 0&&!l.hasOwnProperty(We)&&Ld(t,i,We,void 0,l,F);for($ in l)F=l[$],G=a[$],!l.hasOwnProperty($)||F===G||F===void 0&&G===void 0||Ld(t,i,$,F,l,G);return}}for(var L in a)F=a[L],a.hasOwnProperty(L)&&F!=null&&!l.hasOwnProperty(L)&&Je(t,i,L,null,l,F);for(Z in l)F=l[Z],G=a[Z],!l.hasOwnProperty(Z)||F===G||F==null&&G==null||Je(t,i,Z,F,l,G)}function Uv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,v=h.initiatorType,w=h.duration;if(d&&w&&Uv(v)){for(v=0,w=h.responseEnd,l+=1;l<a.length;l++){var C=a[l],B=C.startTime;if(B>w)break;var $=C.transferSize,Z=C.initiatorType;$&&Uv(Z)&&(C=C.responseEnd,v+=$*(C<w?1:(w-B)/(C-B)))}if(--l,i+=8*(d+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Ud=null,Pd=null;function Rc(t){return t.nodeType===9?t:t.ownerDocument}function Pv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function jd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var zd=null;function Hb(){var t=window.event;return t&&t.type==="popstate"?t===zd?!1:(zd=t,!0):(zd=null,!1)}var zv=typeof setTimeout=="function"?setTimeout:void 0,Fb=typeof clearTimeout=="function"?clearTimeout:void 0,Bv=typeof Promise=="function"?Promise:void 0,Gb=typeof queueMicrotask=="function"?queueMicrotask:typeof Bv<"u"?function(t){return Bv.resolve(null).then(t).catch(Kb)}:zv;function Kb(t){setTimeout(function(){throw t})}function Br(t){return t==="head"}function qv(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),qa(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")dl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,dl(a);for(var d=a.firstChild;d;){var v=d.nextSibling,w=d.nodeName;d[wi]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&dl(t.ownerDocument.body);a=h}while(a);qa(i)}function Hv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Bd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Bd(a),ms(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Qb(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[wi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Un(t.nextSibling),t===null)break}return null}function Yb(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Un(t.nextSibling),t===null))return null;return t}function Fv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Un(t.nextSibling),t===null))return null;return t}function qd(t){return t.data==="$?"||t.data==="$~"}function Hd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function $b(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Un(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Fd=null;function Gv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Un(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function Kv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function Qv(t,i,a){switch(i=Rc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function dl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ms(t)}var Pn=new Map,Yv=new Set;function xc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Fi=ae.d;ae.d={f:Xb,r:Jb,D:Wb,C:Zb,L:eA,m:tA,X:iA,S:nA,M:rA};function Xb(){var t=Fi.f(),i=vc();return t||i}function Jb(t){var i=Ai(t);i!==null&&i.tag===5&&i.type==="form"?hy(i):Fi.r(t)}var ja=typeof document>"u"?null:document;function $v(t,i,a){var l=ja;if(l&&typeof i=="string"&&i){var h=ct(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Yv.has(h)||(Yv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),qt(i,"link",t),dt(i),l.head.appendChild(i)))}}function Wb(t){Fi.D(t),$v("dns-prefetch",t,null)}function Zb(t,i){Fi.C(t,i),$v("preconnect",t,i)}function eA(t,i,a){Fi.L(t,i,a);var l=ja;if(l&&t&&i){var h='link[rel="preload"][as="'+ct(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ct(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ct(a.imageSizes)+'"]')):h+='[href="'+ct(t)+'"]';var d=h;switch(i){case"style":d=za(t);break;case"script":d=Ba(t)}Pn.has(d)||(t=b({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Pn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(ml(d))||i==="script"&&l.querySelector(pl(d))||(i=l.createElement("link"),qt(i,"link",t),dt(i),l.head.appendChild(i)))}}function tA(t,i){Fi.m(t,i);var a=ja;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ct(l)+'"][href="'+ct(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ba(t)}if(!Pn.has(d)&&(t=b({rel:"modulepreload",href:t},i),Pn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(pl(d)))return}l=a.createElement("link"),qt(l,"link",t),dt(l),a.head.appendChild(l)}}}function nA(t,i,a){Fi.S(t,i,a);var l=ja;if(l&&t){var h=qn(l).hoistableStyles,d=za(t);i=i||"default";var v=h.get(d);if(!v){var w={loading:0,preload:null};if(v=l.querySelector(ml(d)))w.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Pn.get(d))&&Gd(t,a);var C=v=l.createElement("link");dt(C),qt(C,"link",t),C._p=new Promise(function(B,$){C.onload=B,C.onerror=$}),C.addEventListener("load",function(){w.loading|=1}),C.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Cc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:w},h.set(d,v)}}}function iA(t,i){Fi.X(t,i);var a=ja;if(a&&t){var l=qn(a).hoistableScripts,h=Ba(t),d=l.get(h);d||(d=a.querySelector(pl(h)),d||(t=b({src:t,async:!0},i),(i=Pn.get(h))&&Kd(t,i),d=a.createElement("script"),dt(d),qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function rA(t,i){Fi.M(t,i);var a=ja;if(a&&t){var l=qn(a).hoistableScripts,h=Ba(t),d=l.get(h);d||(d=a.querySelector(pl(h)),d||(t=b({src:t,async:!0,type:"module"},i),(i=Pn.get(h))&&Kd(t,i),d=a.createElement("script"),dt(d),qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Xv(t,i,a,l){var h=(h=xe.current)?xc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=za(a.href),a=qn(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=za(a.href);var d=qn(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(ml(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Pn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Pn.set(t,a),d||sA(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ba(a),a=qn(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function za(t){return'href="'+ct(t)+'"'}function ml(t){return'link[rel="stylesheet"]['+t+"]"}function Jv(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function sA(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),qt(i,"link",a),dt(i),t.head.appendChild(i))}function Ba(t){return'[src="'+ct(t)+'"]'}function pl(t){return"script[async]"+t}function Wv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+ct(a.href)+'"]');if(l)return i.instance=l,dt(l),l;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),dt(l),qt(l,"style",h),Cc(l,a.precedence,t),i.instance=l;case"stylesheet":h=za(a.href);var d=t.querySelector(ml(h));if(d)return i.state.loading|=4,i.instance=d,dt(d),d;l=Jv(a),(h=Pn.get(h))&&Gd(l,h),d=(t.ownerDocument||t).createElement("link"),dt(d);var v=d;return v._p=new Promise(function(w,C){v.onload=w,v.onerror=C}),qt(d,"link",l),i.state.loading|=4,Cc(d,a.precedence,t),i.instance=d;case"script":return d=Ba(a.src),(h=t.querySelector(pl(d)))?(i.instance=h,dt(h),h):(l=a,(h=Pn.get(d))&&(l=b({},a),Kd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),dt(h),qt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Cc(l,a.precedence,t));return i.instance}function Cc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var w=l[v];if(w.dataset.precedence===i)d=w;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Gd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Kd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Ic=null;function Zv(t,i,a){if(Ic===null){var l=new Map,h=Ic=new Map;h.set(a,l)}else h=Ic,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[wi]||d[ut]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var w=l.get(v);w?w.push(d):l.set(v,[d])}}return l}function e_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function aA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function t_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function oA(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=za(l.href),d=i.querySelector(ml(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Nc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,dt(d);return}d=i.ownerDocument||i,l=Jv(l),(h=Pn.get(h))&&Gd(l,h),d=d.createElement("link"),dt(d);var v=d;v._p=new Promise(function(w,C){v.onload=w,v.onerror=C}),qt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Nc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Qd=0;function lA(t,i){return t.stylesheets&&t.count===0&&Oc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Oc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Qd===0&&(Qd=62500*qb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Oc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Qd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Nc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Oc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Dc=null;function Oc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Dc=new Map,i.forEach(uA,t),Dc=null,Nc.call(t))}function uA(t,i){if(!(i.state.loading&4)){var a=Dc.get(t);if(a)var l=a.get(null);else{a=new Map,Dc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Nc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var gl={$$typeof:se,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function cA(t,i,a,l,h,d,v,w,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ei(0),this.hiddenUpdates=Ei(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function n_(t,i,a,l,h,d,v,w,C,B,$,Z){return t=new cA(t,i,a,v,C,B,$,Z,w),i=1,d===!0&&(i|=24),d=En(3,null,null,i),t.current=d,d.stateNode=t,i=Rf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Nf(d),t}function i_(t){return t?(t=va,t):va}function r_(t,i,a,l,h,d){h=i_(h),l.context===null?l.context=h:l.pendingContext=h,l=Nr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Dr(t,l,i),a!==null&&(pn(a,t,i),Yo(a,t,i))}function s_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Yd(t,i){s_(t,i),(t=t.alternate)&&s_(t,i)}function a_(t){if(t.tag===13||t.tag===31){var i=Rs(t,67108864);i!==null&&pn(i,t,67108864),Yd(t,67108864)}}function o_(t){if(t.tag===13||t.tag===31){var i=Sn();i=Ao(i);var a=Rs(t,i);a!==null&&pn(a,t,i),Yd(t,i)}}var Mc=!0;function hA(t,i,a,l){var h=Y.T;Y.T=null;var d=ae.p;try{ae.p=2,$d(t,i,a,l)}finally{ae.p=d,Y.T=h}}function fA(t,i,a,l){var h=Y.T;Y.T=null;var d=ae.p;try{ae.p=8,$d(t,i,a,l)}finally{ae.p=d,Y.T=h}}function $d(t,i,a,l){if(Mc){var h=Xd(l);if(h===null)kd(t,i,l,Vc,a),u_(t,l);else if(mA(h,t,i,a,l))l.stopPropagation();else if(u_(t,l),i&4&&-1<dA.indexOf(t)){for(;h!==null;){var d=Ai(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Bn(d.pendingLanes);if(v!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;v;){var C=1<<31-tn(v);w.entanglements[1]|=C,v&=~C}ui(d),(Fe&6)===0&&(gc=Lt()+500,cl(0))}}break;case 31:case 13:w=Rs(d,2),w!==null&&pn(w,d,2),vc(),Yd(d,2)}if(d=Xd(l),d===null&&kd(t,i,l,Vc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else kd(t,i,l,null,a)}}function Xd(t){return t=ca(t),Jd(t)}var Vc=null;function Jd(t){if(Vc=null,t=bi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Vc=t,null}function l_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(du()){case At:return 2;case It:return 8;case _i:case mu:return 32;case Eo:return 268435456;default:return 32}default:return 32}}var Wd=!1,qr=null,Hr=null,Fr=null,yl=new Map,vl=new Map,Gr=[],dA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function u_(t,i){switch(t){case"focusin":case"focusout":qr=null;break;case"dragenter":case"dragleave":Hr=null;break;case"mouseover":case"mouseout":Fr=null;break;case"pointerover":case"pointerout":yl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":vl.delete(i.pointerId)}}function _l(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Ai(i),i!==null&&a_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function mA(t,i,a,l,h){switch(i){case"focusin":return qr=_l(qr,t,i,a,l,h),!0;case"dragenter":return Hr=_l(Hr,t,i,a,l,h),!0;case"mouseover":return Fr=_l(Fr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return yl.set(d,_l(yl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,vl.set(d,_l(vl.get(d)||null,t,i,a,l,h)),!0}return!1}function c_(t){var i=bi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,gu(t.priority,function(){o_(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,gu(t.priority,function(){o_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Xd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);ua=l,a.target.dispatchEvent(l),ua=null}else return i=Ai(a),i!==null&&a_(i),t.blockedOn=a,!1;i.shift()}return!0}function h_(t,i,a){kc(t)&&a.delete(i)}function pA(){Wd=!1,qr!==null&&kc(qr)&&(qr=null),Hr!==null&&kc(Hr)&&(Hr=null),Fr!==null&&kc(Fr)&&(Fr=null),yl.forEach(h_),vl.forEach(h_)}function Lc(t,i){t.blockedOn===i&&(t.blockedOn=null,Wd||(Wd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,pA)))}var Uc=null;function f_(t){Uc!==t&&(Uc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Uc===t&&(Uc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Jd(l||a)===null)continue;break}var d=Ai(a);d!==null&&(t.splice(i,3),i-=3,Xf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function qa(t){function i(C){return Lc(C,t)}qr!==null&&Lc(qr,t),Hr!==null&&Lc(Hr,t),Fr!==null&&Lc(Fr,t),yl.forEach(i),vl.forEach(i);for(var a=0;a<Gr.length;a++){var l=Gr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Gr.length&&(a=Gr[0],a.blockedOn===null);)c_(a),a.blockedOn===null&&Gr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[Pt]||null;if(typeof d=="function")v||f_(a);else if(v){var w=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Pt]||null)w=v.formAction;else if(Jd(h)!==null)continue}else w=v.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),f_(a)}}}function d_(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Zd(t){this._internalRoot=t}Pc.prototype.render=Zd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Sn();r_(a,l,t,i,null,null)},Pc.prototype.unmount=Zd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;r_(t.current,2,null,t,null,null),vc(),i[ei]=null}};function Pc(t){this._internalRoot=t}Pc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Ti();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Gr.length&&i!==0&&i<Gr[a].priority;a++);Gr.splice(a,0,t),a===0&&c_(t)}};var m_=e.version;if(m_!=="19.2.0")throw Error(s(527,m_,"19.2.0"));ae.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var gA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jc.isDisabled&&jc.supportsFiber)try{sr=jc.inject(gA),Yt=jc}catch{}}return wl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=Ty,d=wy,v=by;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=n_(t,1,!1,null,null,a,l,null,h,d,v,d_),t[ei]=i.current,Vd(t),new Zd(i)},wl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Ty,v=wy,w=by,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),i=n_(t,1,!0,i,a??null,l,h,C,d,v,w,d_),i.context=i_(null),a=i.current,l=Sn(),l=Ao(l),h=Nr(l),h.callback=null,Dr(a,h,l),a=l,i.current.lanes=a,lr(i,a),ui(i),t[ei]=i.current,Vd(t),new Pc(i)},wl.version="19.2.0",wl}var j0;function wI(){if(j0)return dm.exports;j0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),dm.exports=TI(),dm.exports}var bI=wI();var z0="popstate";function AI(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return Km("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:$l(o)}return RI(e,n,null,r)}function ot(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Xn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function SI(){return Math.random().toString(36).substring(2,10)}function B0(r,e){return{usr:r.state,key:r.key,idx:e}}function Km(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?yo(e):e,state:n,key:e&&e.key||s||SI()}}function $l({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function yo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function RI(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function b(){m="POP";let q=E(),W=q==null?null:q-y;y=q,p&&p({action:m,location:K.location,delta:W})}function x(q,W){m="PUSH";let ne=Km(K.location,q,W);y=E()+1;let se=B0(ne,y),ye=K.createHref(ne);try{f.pushState(se,"",ye)}catch(Ie){if(Ie instanceof DOMException&&Ie.name==="DataCloneError")throw Ie;o.location.assign(ye)}u&&p&&p({action:m,location:K.location,delta:1})}function V(q,W){m="REPLACE";let ne=Km(K.location,q,W);y=E();let se=B0(ne,y),ye=K.createHref(ne);f.replaceState(se,"",ye),u&&p&&p({action:m,location:K.location,delta:0})}function j(q){return xI(q)}let K={get action(){return m},get location(){return r(o,f)},listen(q){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(z0,b),p=q,()=>{o.removeEventListener(z0,b),p=null}},createHref(q){return e(o,q)},createURL:j,encodeLocation(q){let W=j(q);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:x,replace:V,go(q){return f.go(q)}};return K}function xI(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ot(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:$l(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function vw(r,e,n="/"){return CI(r,e,n,!1)}function CI(r,e,n,s){let o=typeof e=="string"?yo(e):e,u=tr(o.pathname||"/",n);if(u==null)return null;let f=_w(r);II(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=zI(u);m=PI(f[p],y,s)}return m}function _w(r,e=[],n=[],s="",o=!1){let u=(f,m,p=o,y)=>{let E={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;ot(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let b=Xi([s,E.relativePath]),x=n.concat(E);f.children&&f.children.length>0&&(ot(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),_w(f.children,e,x,b,p)),!(f.path==null&&!f.index)&&e.push({path:b,score:LI(b,f.index),routesMeta:x})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of Ew(f.path))u(f,m,!0,p)}),e}function Ew(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=Ew(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function II(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:UI(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var NI=/^:[\w-]+$/,DI=3,OI=2,MI=1,VI=10,kI=-2,q0=r=>r==="*";function LI(r,e){let n=r.split("/"),s=n.length;return n.some(q0)&&(s+=kI),e&&(s+=OI),n.filter(o=>!q0(o)).reduce((o,u)=>o+(NI.test(u)?DI:u===""?MI:VI),s)}function UI(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function PI(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",b=Ah({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),x=p.route;if(!b&&y&&n&&!s[s.length-1].route.index&&(b=Ah({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:Xi([u,b.pathname]),pathnameBase:GI(Xi([u,b.pathnameBase])),route:x}),b.pathnameBase!=="/"&&(u=Xi([u,b.pathnameBase]))}return f}function Ah(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=jI(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:b},x)=>{if(E==="*"){let j=m[x]||"";f=u.slice(0,u.length-j.length).replace(/(.)\/+$/,"$1")}const V=m[x];return b&&!V?y[E]=void 0:y[E]=(V||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function jI(r,e=!1,n=!0){Xn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function zI(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function tr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var BI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qI=r=>BI.test(r);function HI(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?yo(r):r,u;if(n)if(qI(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),Xn(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=H0(n.substring(1),"/"):u=H0(n,e)}else u=e;return{pathname:u,search:KI(s),hash:QI(o)}}function H0(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function ym(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function FI(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Tw(r){let e=FI(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function ww(r,e,n,s=!1){let o;typeof r=="string"?o=yo(r):(o={...r},ot(!o.pathname||!o.pathname.includes("?"),ym("?","pathname","search",o)),ot(!o.pathname||!o.pathname.includes("#"),ym("#","pathname","hash",o)),ot(!o.search||!o.search.includes("#"),ym("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let b=e.length-1;if(!s&&f.startsWith("..")){let x=f.split("/");for(;x[0]==="..";)x.shift(),b-=1;o.pathname=x.join("/")}m=b>=0?e[b]:"/"}let p=HI(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var Xi=r=>r.join("/").replace(/\/\/+/g,"/"),GI=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),KI=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,QI=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function YI(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var bw=["POST","PUT","PATCH","DELETE"];new Set(bw);var $I=["GET",...bw];new Set($I);var vo=H.createContext(null);vo.displayName="DataRouter";var Kh=H.createContext(null);Kh.displayName="DataRouterState";H.createContext(!1);var Aw=H.createContext({isTransitioning:!1});Aw.displayName="ViewTransition";var XI=H.createContext(new Map);XI.displayName="Fetchers";var JI=H.createContext(null);JI.displayName="Await";var yi=H.createContext(null);yi.displayName="Navigation";var uu=H.createContext(null);uu.displayName="Location";var rr=H.createContext({outlet:null,matches:[],isDataRoute:!1});rr.displayName="Route";var Fp=H.createContext(null);Fp.displayName="RouteError";function WI(r,{relative:e}={}){ot(cu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=H.useContext(yi),{hash:o,pathname:u,search:f}=hu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Xi([n,u])),s.createHref({pathname:m,search:f,hash:o})}function cu(){return H.useContext(uu)!=null}function Zs(){return ot(cu(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(uu).location}var Sw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Rw(r){H.useContext(yi).static||H.useLayoutEffect(r)}function Gp(){let{isDataRoute:r}=H.useContext(rr);return r?hN():ZI()}function ZI(){ot(cu(),"useNavigate() may be used only in the context of a <Router> component.");let r=H.useContext(vo),{basename:e,navigator:n}=H.useContext(yi),{matches:s}=H.useContext(rr),{pathname:o}=Zs(),u=JSON.stringify(Tw(s)),f=H.useRef(!1);return Rw(()=>{f.current=!0}),H.useCallback((p,y={})=>{if(Xn(f.current,Sw),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=ww(p,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Xi([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,r])}H.createContext(null);function hu(r,{relative:e}={}){let{matches:n}=H.useContext(rr),{pathname:s}=Zs(),o=JSON.stringify(Tw(n));return H.useMemo(()=>ww(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function eN(r,e){return xw(r,e)}function xw(r,e,n,s,o){ot(cu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=H.useContext(yi),{matches:f}=H.useContext(rr),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",b=m&&m.route;{let ne=b&&b.path||"";Cw(y,!b||ne.endsWith("*")||ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ne}"> to <Route path="${ne==="/"?"*":`${ne}/*`}">.`)}let x=Zs(),V;if(e){let ne=typeof e=="string"?yo(e):e;ot(E==="/"||ne.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${ne.pathname}" was given in the \`location\` prop.`),V=ne}else V=x;let j=V.pathname||"/",K=j;if(E!=="/"){let ne=E.replace(/^\//,"").split("/");K="/"+j.replace(/^\//,"").split("/").slice(ne.length).join("/")}let q=vw(r,{pathname:K});Xn(b||q!=null,`No routes matched location "${V.pathname}${V.search}${V.hash}" `),Xn(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${V.pathname}${V.search}${V.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let W=sN(q&&q.map(ne=>Object.assign({},ne,{params:Object.assign({},p,ne.params),pathname:Xi([E,u.encodeLocation?u.encodeLocation(ne.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathname]),pathnameBase:ne.pathnameBase==="/"?E:Xi([E,u.encodeLocation?u.encodeLocation(ne.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathnameBase])})),f,n,s,o);return e&&W?H.createElement(uu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...V},navigationType:"POP"}},W):W}function tN(){let r=cN(),e=YI(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=H.createElement(H.Fragment,null,H.createElement("p",null," Hey developer "),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:u},"ErrorBoundary")," or"," ",H.createElement("code",{style:u},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),n?H.createElement("pre",{style:o},n):null,f)}var nN=H.createElement(tN,null),iN=class extends H.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?H.createElement(rr.Provider,{value:this.props.routeContext},H.createElement(Fp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function rN({routeContext:r,match:e,children:n}){let s=H.useContext(vo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(rr.Provider,{value:r},n)}function sN(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let E=u.findIndex(b=>b.route.id&&f?.[b.route.id]!==void 0);ot(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let b=u[E];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(p=E),b.route.id){let{loaderData:x,errors:V}=n,j=b.route.loader&&!x.hasOwnProperty(b.route.id)&&(!V||V[b.route.id]===void 0);if(b.route.lazy||j){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let y=n&&s?(E,b)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:b})}:void 0;return u.reduceRight((E,b,x)=>{let V,j=!1,K=null,q=null;n&&(V=f&&b.route.id?f[b.route.id]:void 0,K=b.route.errorElement||nN,m&&(p<0&&x===0?(Cw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,q=null):p===x&&(j=!0,q=b.route.hydrateFallbackElement||null)));let W=e.concat(u.slice(0,x+1)),ne=()=>{let se;return V?se=K:j?se=q:b.route.Component?se=H.createElement(b.route.Component,null):b.route.element?se=b.route.element:se=E,H.createElement(rN,{match:b,routeContext:{outlet:E,matches:W,isDataRoute:n!=null},children:se})};return n&&(b.route.ErrorBoundary||b.route.errorElement||x===0)?H.createElement(iN,{location:n.location,revalidation:n.revalidation,component:K,error:V,children:ne(),routeContext:{outlet:null,matches:W,isDataRoute:!0},onError:y}):ne()},null)}function Kp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aN(r){let e=H.useContext(vo);return ot(e,Kp(r)),e}function oN(r){let e=H.useContext(Kh);return ot(e,Kp(r)),e}function lN(r){let e=H.useContext(rr);return ot(e,Kp(r)),e}function Qp(r){let e=lN(r),n=e.matches[e.matches.length-1];return ot(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function uN(){return Qp("useRouteId")}function cN(){let r=H.useContext(Fp),e=oN("useRouteError"),n=Qp("useRouteError");return r!==void 0?r:e.errors?.[n]}function hN(){let{router:r}=aN("useNavigate"),e=Qp("useNavigate"),n=H.useRef(!1);return Rw(()=>{n.current=!0}),H.useCallback(async(o,u={})=>{Xn(n.current,Sw),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var F0={};function Cw(r,e,n){!e&&!F0[r]&&(F0[r]=!0,Xn(!1,n))}H.memo(fN);function fN({routes:r,future:e,state:n,unstable_onError:s}){return xw(r,void 0,n,s,e)}function Nl(r){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function dN({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ot(!cu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=H.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=yo(n));let{pathname:p="/",search:y="",hash:E="",state:b=null,key:x="default"}=n,V=H.useMemo(()=>{let j=tr(p,f);return j==null?null:{location:{pathname:j,search:y,hash:E,state:b,key:x},navigationType:s}},[f,p,y,E,b,x,s]);return Xn(V!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:H.createElement(yi.Provider,{value:m},H.createElement(uu.Provider,{children:e,value:V}))}function mN({children:r,location:e}){return eN(Qm(r),e)}function Qm(r,e=[]){let n=[];return H.Children.forEach(r,(s,o)=>{if(!H.isValidElement(s))return;let u=[...e,o];if(s.type===H.Fragment){n.push.apply(n,Qm(s.props.children,u));return}ot(s.type===Nl,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Qm(s.props.children,u)),n.push(f)}),n}var nh="get",ih="application/x-www-form-urlencoded";function Qh(r){return r!=null&&typeof r.tagName=="string"}function pN(r){return Qh(r)&&r.tagName.toLowerCase()==="button"}function gN(r){return Qh(r)&&r.tagName.toLowerCase()==="form"}function yN(r){return Qh(r)&&r.tagName.toLowerCase()==="input"}function vN(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function _N(r,e){return r.button===0&&(!e||e==="_self")&&!vN(r)}var Gc=null;function EN(){if(Gc===null)try{new FormData(document.createElement("form"),0),Gc=!1}catch{Gc=!0}return Gc}var TN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vm(r){return r!=null&&!TN.has(r)?(Xn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ih}"`),null):r}function wN(r,e){let n,s,o,u,f;if(gN(r)){let m=r.getAttribute("action");s=m?tr(m,e):null,n=r.getAttribute("method")||nh,o=vm(r.getAttribute("enctype"))||ih,u=new FormData(r)}else if(pN(r)||yN(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?tr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||nh,o=vm(r.getAttribute("formenctype"))||vm(m.getAttribute("enctype"))||ih,u=new FormData(m,r),!EN()){let{name:y,type:E,value:b}=r;if(E==="image"){let x=y?`${y}.`:"";u.append(`${x}x`,"0"),u.append(`${x}y`,"0")}else y&&u.append(y,b)}}else{if(Qh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=nh,s=null,o=ih,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Yp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function bN(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&tr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function AN(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function SN(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function RN(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await AN(u,n);return f.links?f.links():[]}return[]}));return NN(s.flat(1).filter(SN).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function G0(r,e,n,s,o,u){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>n[y].pathname!==p.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?e.filter((p,y)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function xN(r,e,{includeHydrateFallback:n}={}){return CN(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function CN(r){return[...new Set(r)]}function IN(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function NN(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(IN(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function Iw(){let r=H.useContext(vo);return Yp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function DN(){let r=H.useContext(Kh);return Yp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var $p=H.createContext(void 0);$p.displayName="FrameworkContext";function Nw(){let r=H.useContext($p);return Yp(r,"You must render this element inside a <HydratedRouter> element"),r}function ON(r,e){let n=H.useContext($p),[s,o]=H.useState(!1),[u,f]=H.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:b}=e,x=H.useRef(null);H.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let K=W=>{W.forEach(ne=>{f(ne.isIntersecting)})},q=new IntersectionObserver(K,{threshold:.5});return x.current&&q.observe(x.current),()=>{q.disconnect()}}},[r]),H.useEffect(()=>{if(s){let K=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(K)}}},[s]);let V=()=>{o(!0)},j=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,x,{}]:[u,x,{onFocus:bl(m,V),onBlur:bl(p,j),onMouseEnter:bl(y,V),onMouseLeave:bl(E,j),onTouchStart:bl(b,V)}]:[!1,x,{}]}function bl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function MN({page:r,...e}){let{router:n}=Iw(),s=H.useMemo(()=>vw(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?H.createElement(kN,{page:r,matches:s,...e}):null}function VN(r){let{manifest:e,routeModules:n}=Nw(),[s,o]=H.useState([]);return H.useEffect(()=>{let u=!1;return RN(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function kN({page:r,matches:e,...n}){let s=Zs(),{manifest:o,routeModules:u}=Nw(),{basename:f}=Iw(),{loaderData:m,matches:p}=DN(),y=H.useMemo(()=>G0(r,e,p,o,s,"data"),[r,e,p,o,s]),E=H.useMemo(()=>G0(r,e,p,o,s,"assets"),[r,e,p,o,s]),b=H.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let j=new Set,K=!1;if(e.forEach(W=>{let ne=o.routes[W.route.id];!ne||!ne.hasLoader||(!y.some(se=>se.route.id===W.route.id)&&W.route.id in m&&u[W.route.id]?.shouldRevalidate||ne.hasClientLoader?K=!0:j.add(W.route.id))}),j.size===0)return[];let q=bN(r,f,"data");return K&&j.size>0&&q.searchParams.set("_routes",e.filter(W=>j.has(W.route.id)).map(W=>W.route.id).join(",")),[q.pathname+q.search]},[f,m,s,o,y,e,r,u]),x=H.useMemo(()=>xN(E,o),[E,o]),V=VN(E);return H.createElement(H.Fragment,null,b.map(j=>H.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),x.map(j=>H.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),V.map(({key:j,link:K})=>H.createElement("link",{key:j,nonce:n.nonce,...K})))}function LN(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Dw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Dw&&(window.__reactRouterVersion="7.9.6")}catch{}function UN({basename:r,children:e,window:n}){let s=H.useRef();s.current==null&&(s.current=AI({window:n,v5Compat:!0}));let o=s.current,[u,f]=H.useState({action:o.action,location:o.location}),m=H.useCallback(p=>{H.startTransition(()=>f(p))},[f]);return H.useLayoutEffect(()=>o.listen(m),[o,m]),H.createElement(dN,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var Ow=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mw=H.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:E,viewTransition:b,...x},V){let{basename:j}=H.useContext(yi),K=typeof y=="string"&&Ow.test(y),q,W=!1;if(typeof y=="string"&&K&&(q=y,Dw))try{let R=new URL(window.location.href),O=y.startsWith("//")?new URL(R.protocol+y):new URL(y),k=tr(O.pathname,j);O.origin===R.origin&&k!=null?y=k+O.search+O.hash:W=!0}catch{Xn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ne=WI(y,{relative:o}),[se,ye,Ie]=ON(s,x),Ee=BN(y,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:b});function N(R){e&&e(R),R.defaultPrevented||Ee(R)}let S=H.createElement("a",{...x,...Ie,href:q||ne,onClick:W||u?e:N,ref:LN(V,ye),target:p,"data-discover":!K&&n==="render"?"true":void 0});return se&&!K?H.createElement(H.Fragment,null,S,H.createElement(MN,{page:ne})):S});Mw.displayName="Link";var PN=H.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...y},E){let b=hu(f,{relative:y.relative}),x=Zs(),V=H.useContext(Kh),{navigator:j,basename:K}=H.useContext(yi),q=V!=null&&KN(b)&&m===!0,W=j.encodeLocation?j.encodeLocation(b).pathname:b.pathname,ne=x.pathname,se=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),se=se?se.toLowerCase():null,W=W.toLowerCase()),se&&K&&(se=tr(se,K)||se);const ye=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let Ie=ne===W||!o&&ne.startsWith(W)&&ne.charAt(ye)==="/",Ee=se!=null&&(se===W||!o&&se.startsWith(W)&&se.charAt(W.length)==="/"),N={isActive:Ie,isPending:Ee,isTransitioning:q},S=Ie?e:void 0,R;typeof s=="function"?R=s(N):R=[s,Ie?"active":null,Ee?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(N):u;return H.createElement(Mw,{...y,"aria-current":S,className:R,ref:E,style:O,to:f,viewTransition:m},typeof p=="function"?p(N):p)});PN.displayName="NavLink";var jN=H.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=nh,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:b,...x},V)=>{let j=FN(),K=GN(m,{relative:y}),q=f.toLowerCase()==="get"?"get":"post",W=typeof m=="string"&&Ow.test(m),ne=se=>{if(p&&p(se),se.defaultPrevented)return;se.preventDefault();let ye=se.nativeEvent.submitter,Ie=ye?.getAttribute("formmethod")||f;j(ye||se.currentTarget,{fetcherKey:e,method:Ie,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:b})};return H.createElement("form",{ref:V,method:q,action:K,onSubmit:s?p:ne,...x,"data-discover":!W&&r==="render"?"true":void 0})});jN.displayName="Form";function zN(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Vw(r){let e=H.useContext(vo);return ot(e,zN(r)),e}function BN(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Gp(),p=Zs(),y=hu(r,{relative:u});return H.useCallback(E=>{if(_N(E,e)){E.preventDefault();let b=n!==void 0?n:$l(p)===$l(y);m(r,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,y,n,s,e,r,o,u,f])}var qN=0,HN=()=>`__${String(++qN)}__`;function FN(){let{router:r}=Vw("useSubmit"),{basename:e}=H.useContext(yi),n=uN();return H.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:y}=wN(s,e);if(o.navigate===!1){let E=o.fetcherKey||HN();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function GN(r,{relative:e}={}){let{basename:n}=H.useContext(yi),s=H.useContext(rr);ot(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...hu(r||".",{relative:e})},f=Zs();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Xi([n,u.pathname])),$l(u)}function KN(r,{relative:e}={}){let n=H.useContext(Aw);ot(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Vw("useViewTransitionState"),o=hu(r,{relative:e});if(!n.isTransitioning)return!1;let u=tr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=tr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Ah(o.pathname,f)!=null||Ah(o.pathname,u)!=null}const kw=H.createContext(),Yh=()=>{const r=H.useContext(kw);if(!r)throw new Error("useAuth must be used within an AuthProvider");return r},Lw=({children:r})=>{const[e,n]=H.useState(null),[s,o]=H.useState(null),[u,f]=H.useState(!0),[m,p]=H.useState(null);H.useEffect(()=>Z1(Bs,async K=>{try{if(K){n(K);const q=await dI(Hs(jn,"users",K.uid));if(q.exists())o(q.data());else{const W={uid:K.uid,email:K.email,displayName:K.displayName||"",photoURL:K.photoURL||"",createdAt:new Date().toISOString(),favorites:[],dietaryPreferences:"",plan:"free"};await Gm(Hs(jn,"users",K.uid),W),o(W)}}else n(null),o(null)}catch(q){console.error("Error fetching user profile:",q),p(q.message)}finally{f(!1)}}),[]);const V={user:e,userProfile:s,loading:u,error:m,signUp:async(j,K,q)=>{try{p(null),f(!0);const{user:W}=await DE(Bs,j,K);return q&&await ME(W,{displayName:q}),{success:!0,user:W}}catch(W){return p(W.message),{success:!1,error:W.message}}finally{f(!1)}},signIn:async(j,K)=>{try{p(null),f(!0);const{user:q}=await OE(Bs,j,K);return{success:!0,user:q}}catch(q){return p(q.message),{success:!1,error:q.message}}finally{f(!1)}},logout:async()=>{try{return p(null),await eR(Bs),{success:!0}}catch(j){return p(j.message),{success:!1,error:j.message}}},updateUserProfile:async j=>{try{if(p(null),e){const K=Hs(jn,"users",e.uid);return await Gm(K,j,{merge:!0}),o(q=>({...q,...j})),{success:!0}}return{success:!1,error:"No user logged in"}}catch(K){return p(K.message),{success:!1,error:K.message}}}};return T.jsx(kw.Provider,{value:V,children:r})};const QN=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),YN=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),K0=r=>{const e=YN(r);return e.charAt(0).toUpperCase()+e.slice(1)},Uw=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),$N=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var XN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const JN=H.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},p)=>H.createElement("svg",{ref:p,...XN,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:Uw("lucide",o),...!u&&!$N(m)&&{"aria-hidden":"true"},...m},[...f.map(([y,E])=>H.createElement(y,E)),...Array.isArray(u)?u:[u]]));const Ct=(r,e)=>{const n=H.forwardRef(({className:s,...o},u)=>H.createElement(JN,{ref:u,iconNode:e,className:Uw(`lucide-${QN(K0(r))}`,`lucide-${r}`,s),...o}));return n.displayName=K0(r),n};const WN=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Pw=Ct("arrow-left",WN);const ZN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Xp=Ct("arrow-right",ZN);const eD=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],tD=Ct("book-open",eD);const nD=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],Ht=Ct("chef-hat",nD);const iD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],rD=Ct("circle-check",iD);const sD=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],aD=Ct("clock",sD);const oD=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Q0=Ct("flame",oD);const lD=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],uD=Ct("leaf",lD);const cD=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],jw=Ct("lock",cD);const hD=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],fD=Ct("log-out",hD);const dD=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],zw=Ct("mail",dD);const mD=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Dl=Ct("menu",mD);const pD=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Ym=Ct("message-square",pD);const gD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ha=Ct("plus",gD);const yD=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],vD=Ct("send",yD);const _D=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],ED=Ct("sparkles",_D);const TD=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],wD=Ct("trash-2",TD);const bD=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],AD=Ct("user",bD);const SD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],rh=Ct("x",SD);function RD(){const[r,e]=H.useState(!1),n=()=>{window.scrollY>300?e(!0):e(!1)};H.useEffect(()=>(window.addEventListener("scroll",n),()=>{window.removeEventListener("scroll",n)}),[]);const s=()=>{window.scrollTo({top:0,behavior:"smooth"})};return T.jsx("div",{className:`
                fixed bottom-25 right-4 z-50 transition-opacity duration-300
                ${r?"opacity-100":"opacity-0 pointer-events-none"}
            `,children:T.jsx("button",{onClick:s,className:"bg-orange-500 hover:bg-orange-400 text-white p-3 rounded-full shadow-lg transform hover:scale-110 transition-transform focus:outline-none","aria-label":"Scroll to top",children:T.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})})})})}const _m=[{user:"I have chicken breast, spinach, garlic, and heavy cream.",aiTitle:"Creamy Garlic Spinach Chicken",steps:["Sear chicken until golden","Saut garlic and spinach","Simmer with cream for 5 mins"]},{user:"I have eggs, sourdough bread, ripe avocados, and lime.",aiTitle:"Zesty Avocado Toast & Poached Egg",steps:["Toast sourdough until crispy","Mash avocado with lime juice","Top with soft poached egg"]},{user:"I have ground beef, kidney beans, canned tomatoes, and onions.",aiTitle:"Classic 30-Minute Chili",steps:["Brown beef with diced onions","Add tomatoes and kidney beans","Simmer with spices for 20 mins"]},{user:"I have firm tofu, broccoli, soy sauce, and ginger.",aiTitle:"Ginger Soy Tofu Stir-Fry",steps:["Press and cube firm tofu","Stir-fry broccoli on high heat","Toss in savory ginger soy glaze"]},{user:"I have pasta, fresh basil, garlic cloves, and olive oil.",aiTitle:"Garlic Basil Aglio e Olio",steps:["Boil pasta until al dente","Sizzle sliced garlic in olive oil","Toss pasta with oil and basil"]}];function xD(){const[r,e]=H.useState(!1),[n,s]=H.useState(_m[0]);return H.useEffect(()=>{const o=Math.floor(Math.random()*_m.length);s(_m[o])},[]),T.jsxs("div",{className:"min-h-screen bg-stone-50 font-sans text-stone-800",children:[T.jsxs("nav",{className:"fixed w-full z-50 bg-white/80 backdrop-blur-md border-b border-stone-100",children:[T.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:T.jsxs("div",{className:"flex justify-between items-center h-16",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("div",{className:"w-8 h-8 bg-gradient-to-tr from-orange-500 to-orange-600 rounded-lg flex items-center justify-center shadow-lg shadow-orange-200",children:T.jsx(Ht,{className:"w-5 h-5 text-white"})}),T.jsx("span",{className:"text-xl font-bold tracking-tight text-stone-900",children:"CookMate"})]}),T.jsx("div",{className:"hidden md:flex items-center gap-6",children:T.jsx("a",{href:"/signin",className:"px-5 py-2 text-sm font-semibold text-white bg-orange-600 rounded-full hover:bg-orange-700 hover:shadow-lg hover:shadow-orange-200 transition-all transform hover:-translate-y-0.5",children:"Sign In"})}),T.jsx("div",{className:"md:hidden",children:T.jsx("button",{onClick:()=>e(!r),className:"p-2 text-stone-600 hover:bg-stone-100 rounded-lg",children:r?T.jsx(rh,{className:"w-6 h-6"}):T.jsx(Dl,{className:"w-6 h-6"})})})]})}),r&&T.jsxs("div",{className:"md:hidden bg-white border-b border-stone-100 px-4 py-4 space-y-3",children:[T.jsx("button",{className:"block w-full text-left px-4 py-2 text-sm font-medium text-stone-600 hover:bg-stone-50 rounded-lg",children:"How it works"}),T.jsx("button",{className:"block w-full text-left px-4 py-2 text-sm font-medium text-stone-600 hover:bg-stone-50 rounded-lg",children:"Features"}),T.jsx("a",{href:"/signin",className:"block w-full px-4 py-2 text-sm font-semibold text-center text-white bg-orange-600 rounded-lg",children:"Sign In"})]})]}),T.jsx("main",{className:"pt-32 pb-16 md:pt-40 md:pb-24 overflow-hidden",children:T.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:T.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-12 lg:gap-20",children:[T.jsxs("div",{className:"flex-1 text-center lg:text-left z-10",children:[T.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-orange-100 border border-orange-200 text-orange-700 text-xs font-bold uppercase tracking-wider mb-6",children:[T.jsx(ED,{className:"w-3 h-3"}),T.jsx("span",{children:"AI-Powered Kitchen Assistant"})]}),T.jsxs("h1",{className:"text-4xl md:text-6xl font-extrabold tracking-tight text-stone-900 mb-6 leading-[1.1]",children:["The smartest way to cook with ",T.jsx("br",{className:"hidden lg:block"}),T.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-orange-600 to-amber-500",children:"what you have."})]}),T.jsx("p",{className:"text-lg md:text-xl text-stone-500 mb-8 max-w-2xl mx-auto lg:mx-0 leading-relaxed",children:"Don't know what to cook? Just tell CookMate what ingredients are in your fridge, and our AI will generate delicious recipes instantly."}),T.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center lg:justify-start gap-4",children:[T.jsxs("a",{href:"/home",className:"w-full sm:w-auto px-8 py-4 bg-orange-600 text-white rounded-xl font-bold text-lg hover:bg-orange-700 shadow-xl shadow-orange-200 hover:shadow-2xl hover:shadow-orange-300 transition-all transform hover:-translate-y-1 flex items-center justify-center gap-2",children:["Get Started!",T.jsx(Xp,{className:"w-5 h-5"})]}),T.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-stone-500",children:[T.jsx("div",{className:"flex -space-x-2",children:[1,2,3].map(o=>T.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-white bg-stone-200"},o))}),T.jsx("span",{children:"Joined by 10,000+ cooks"})]})]})]}),T.jsxs("div",{className:"flex-1 w-full max-w-lg lg:max-w-none relative",children:[T.jsx("div",{className:"absolute top-0 right-0 w-72 h-72 bg-orange-200 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"}),T.jsx("div",{className:"absolute bottom-0 left-0 w-72 h-72 bg-amber-200 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"}),T.jsxs("div",{className:"relative bg-white border border-stone-200 rounded-3xl shadow-2xl overflow-hidden transform rotate-2 hover:rotate-0 transition-transform duration-500",children:[T.jsxs("div",{className:"bg-stone-50 border-b border-stone-100 p-4 flex items-center gap-3",children:[T.jsx("div",{className:"w-3 h-3 rounded-full bg-red-400"}),T.jsx("div",{className:"w-3 h-3 rounded-full bg-amber-400"}),T.jsx("div",{className:"w-3 h-3 rounded-full bg-green-400"}),T.jsx("div",{className:"ml-auto text-xs font-bold text-stone-400",children:"COOKMATE AI"})]}),T.jsxs("div",{className:"p-6 space-y-4 bg-white min-h-[380px]",children:[" ",T.jsxs("div",{className:"flex gap-3 animate-fadeIn",children:[T.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-100 flex items-center justify-center flex-shrink-0",children:T.jsx(Ht,{className:"w-4 h-4 text-orange-600"})}),T.jsx("div",{className:"bg-stone-100 rounded-2xl rounded-tl-none p-3 text-sm text-stone-600 max-w-[80%]",children:"Hello! What ingredients do you have today?"})]}),T.jsxs("div",{className:"flex flex-row-reverse gap-3 animate-slideUp",children:[T.jsx("div",{className:"w-8 h-8 rounded-full bg-stone-800 flex items-center justify-center flex-shrink-0 text-white text-xs",children:"You"}),T.jsx("div",{className:"bg-orange-600 text-white rounded-2xl rounded-tr-none p-3 text-sm max-w-[80%]",children:n.user})]}),T.jsxs("div",{className:"flex gap-3 animate-slideUp delay-100",children:[T.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-100 flex items-center justify-center flex-shrink-0",children:T.jsx(Ht,{className:"w-4 h-4 text-orange-600"})}),T.jsxs("div",{className:"bg-stone-100 rounded-2xl rounded-tl-none p-4 text-sm text-stone-600 max-w-[90%] shadow-sm border border-stone-100",children:[T.jsx("p",{className:"font-bold text-stone-800 mb-2",children:n.aiTitle}),T.jsx("div",{className:"space-y-2",children:n.steps.map((o,u)=>T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(rD,{className:"w-4 h-4 text-green-500 flex-shrink-0"}),T.jsx("span",{children:o})]},u))}),T.jsx("button",{className:"mt-3 text-xs font-bold text-orange-600 hover:text-orange-700",children:"View Full Recipe "})]})]})]})]})]})]})})}),T.jsx("section",{className:"py-20 bg-white border-t border-stone-100",children:T.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[T.jsxs("div",{className:"text-center max-w-2xl mx-auto mb-16",children:[T.jsx("h2",{className:"text-3xl font-bold text-stone-900 mb-4",children:"Why use CookMate?"}),T.jsx("p",{className:"text-stone-500",children:"Stop worrying about what to cook. Let our advanced AI handle the meal planning so you can enjoy the food."})]}),T.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[T.jsx(Em,{icon:T.jsx(uD,{className:"w-6 h-6 text-green-600"}),title:"Reduce Food Waste",desc:"Use up every ingredient in your fridge. CookMate finds recipes for exactly what you have on hand.",color:"bg-green-50"}),T.jsx(Em,{icon:T.jsx(aD,{className:"w-6 h-6 text-orange-600"}),title:"Save Time",desc:"No more endless scrolling through recipe blogs. Get precise instructions instantly without the backstory.",color:"bg-orange-50"}),T.jsx(Em,{icon:T.jsx(tD,{className:"w-6 h-6 text-blue-600"}),title:"Learn New Skills",desc:"Discover new cuisines and cooking techniques tailored to your skill level and preferences.",color:"bg-blue-50"})]})]})}),T.jsx(RD,{}),T.jsx("footer",{className:"bg-stone-900 text-stone-400 py-16",children:T.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[T.jsxs("div",{className:"grid md:grid-cols-4 gap-12 mb-12 border-b border-stone-800 pb-12",children:[T.jsxs("div",{className:"col-span-1 md:col-span-2",children:[T.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[T.jsx(Ht,{className:"w-6 h-6 text-orange-500"}),T.jsx("span",{className:"text-xl font-bold text-white",children:"CookMate"})]}),T.jsx("p",{className:"max-w-xs text-sm",children:"Your personal AI kitchen assistant. Making home cooking accessible, fun, and delicious for everyone."})]}),T.jsxs("div",{children:[T.jsx("h4",{className:"text-white font-bold mb-4",children:"Product"}),T.jsxs("ul",{className:"space-y-2 text-sm",children:[T.jsx("li",{children:T.jsx("a",{href:"#",className:"hover:text-orange-500 transition-colors",children:"Features"})}),T.jsx("li",{children:T.jsx("a",{href:"#",className:"hover:text-orange-500 transition-colors",children:"Pricing"})}),T.jsx("li",{children:T.jsx("a",{href:"#",className:"hover:text-orange-500 transition-colors",children:"API"})})]})]}),T.jsxs("div",{children:[T.jsx("h4",{className:"text-white font-bold mb-4",children:"Company"}),T.jsxs("ul",{className:"space-y-2 text-sm",children:[T.jsx("li",{children:T.jsx("a",{href:"#",className:"hover:text-orange-500 transition-colors",children:"About"})}),T.jsx("li",{children:T.jsx("a",{href:"#",className:"hover:text-orange-500 transition-colors",children:"Blog"})}),T.jsx("li",{children:T.jsx("a",{href:"#",className:"hover:text-orange-500 transition-colors",children:"Contact"})})]})]})]}),T.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center text-sm",children:[T.jsx("p",{children:" 2024 CookMate AI. All rights reserved."}),T.jsxs("div",{className:"flex gap-4 mt-4 md:mt-0",children:[T.jsx("a",{href:"#",className:"hover:text-white",children:"Privacy Policy"}),T.jsx("a",{href:"#",className:"hover:text-white",children:"Terms of Service"})]})]})]})})]})}function Em({icon:r,title:e,desc:n,color:s}){return T.jsxs("div",{className:"p-8 rounded-2xl border border-stone-100 hover:border-orange-200 hover:shadow-xl hover:shadow-orange-100/50 transition-all group bg-white",children:[T.jsx("div",{className:`w-12 h-12 rounded-xl ${s} flex items-center justify-center mb-6 group-hover:scale-110 transition-transform`,children:r}),T.jsx("h3",{className:"text-xl font-bold text-stone-900 mb-3",children:e}),T.jsx("p",{className:"text-stone-500 leading-relaxed",children:n})]})}const CD=()=>`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,Bw=async(r,e="New Cooking Session")=>{try{const s={id:CD(),userId:r,title:e,lastMessage:"Start by telling me what ingredients you have...",createdAt:lo(),updatedAt:lo(),isActive:!0};return await gw(ao(jn,"sessions"),s),{success:!0,session:s}}catch(n){return console.error("Error creating session:",n),{success:!1,error:n.message}}},ID=async(r,e=20)=>{try{try{const n=Th(ao(jn,"sessions"),Ul("userId","==",r),Ul("isActive","==",!0),cw("updatedAt","desc"),wh(e));return{success:!0,sessions:(await bh(n)).docs.map(u=>({id:u.id,...u.data()}))}}catch(n){console.warn("Compound index not found, falling back to simpler query:",n);const s=Th(ao(jn,"sessions"),Ul("userId","==",r),wh(e));let u=(await bh(s)).docs.map(f=>({id:f.id,...f.data()}));return u=u.filter(f=>f.isActive!==!1).sort((f,m)=>{const p=f.updatedAt?.toDate?.()||new Date(f.updatedAt||0);return(m.updatedAt?.toDate?.()||new Date(m.updatedAt||0))-p}).slice(0,e),{success:!0,sessions:u}}}catch(n){return console.error("Error fetching sessions:",n),{success:!1,error:n.message}}},$h=async(r,e)=>{try{const n=Hs(jn,"sessions",r);return await pw(n,{...e,updatedAt:lo()}),{success:!0}}catch(n){return console.error("Error updating session:",n),{success:!1,error:n.message}}},ND=async r=>{try{const e=Hs(jn,"sessions",r);return await pw(e,{isActive:!1,updatedAt:lo()}),{success:!0}}catch(e){return console.error("Error deleting session:",e),{success:!1,error:e.message}}},Pl=async(r,e)=>{try{const n={...e,sessionId:r,createdAt:lo()};return await gw(ao(jn,"messages"),n),await $h(r,{lastMessage:e.text.substring(0,100)+(e.text.length>100?"...":""),updatedAt:lo()}),{success:!0}}catch(n){return console.error("Error saving message:",n),{success:!1,error:n.message}}},DD=async(r,e=100)=>{try{try{const n=Th(ao(jn,"messages"),Ul("sessionId","==",r),cw("createdAt","asc"),wh(e));return{success:!0,messages:(await bh(n)).docs.map(u=>({id:u.id,...u.data()}))}}catch(n){console.warn("Messages index not found, falling back to simpler query:",n);const s=Th(ao(jn,"messages"),Ul("sessionId","==",r),wh(e));let u=(await bh(s)).docs.map(f=>({id:f.id,...f.data()}));return u=u.sort((f,m)=>{const p=f.createdAt?.toDate?.()||new Date(f.createdAt||0),y=m.createdAt?.toDate?.()||new Date(m.createdAt||0);return p-y}).slice(0,e),{success:!0,messages:u}}}catch(n){return console.error("Error fetching messages:",n),{success:!1,error:n.message}}},qw=r=>r.split(" ").slice(0,4).map(n=>n.charAt(0).toUpperCase()+n.slice(1).toLowerCase()).join(" "),OD=()=>(console.log(" API Debug - Environment variables:",{VITE_API_BASE_URL:"http://localhost:5001",VITE_FORCE_PROXY:"false",DEV:!1,MODE:"production"}),console.log(" Using explicit VITE_API_BASE_URL:","http://localhost:5001"),"http://localhost:5001"),Hw=OD();console.log(" CookMate API URL:",Hw,"Environment:","Production");async function MD(r,e={}){try{const n=Bs.currentUser;let s=null;n?s=await n.getIdToken():s=localStorage.getItem("authToken")||localStorage.getItem("firebaseAuthToken");const o={"Content-Type":"application/json",...s&&{Authorization:`Bearer ${s}`},...e.headers},u=await fetch(`${Hw}${r}`,{...e,headers:o}),f=await u.json();if(!u.ok)throw new Error(f.error||`HTTP ${u.status}`);return f}catch(n){throw console.error(`API call failed for ${r}:`,n),n}}const Fw=async(r,e=null,n=null)=>{const s={message:r,...e&&{sessionId:e},...Array.isArray(n)&&n.length>0?{history:n}:{}};return MD("/api/ai/chat",{method:"POST",body:JSON.stringify(s)})},VD=()=>{const{user:r}=Yh(),[e,n]=H.useState([]),[s,o]=H.useState(!1),[u,f]=H.useState(null),m=async()=>{if(!r){n([]);return}try{o(!0),f(null);const b=await ID(r.uid);b.success?n(b.sessions):f(b.error)}catch(b){f(b.message)}finally{o(!1)}},p=async b=>{if(!r)return f("User not authenticated"),null;try{f(null);const x=await Bw(r.uid,b);return x.success?(n(V=>[x.session,...V]),x.session):(f(x.error),null)}catch(x){return f(x.message),null}},y=async(b,x)=>{try{f(null);const V=await $h(b,x);return V.success?(n(j=>j.map(K=>K.id===b?{...K,...x}:K)),!0):(f(V.error),!1)}catch(V){return f(V.message),!1}},E=async b=>{try{f(null);const x=await ND(b);return x.success?(n(V=>V.filter(j=>j.id!==b)),!0):(f(x.error),!1)}catch(x){return f(x.message),!1}};return H.useEffect(()=>{r?m():(n([]),f(null))},[r]),{sessions:e,loading:s,error:u,loadSessions:m,createNewSession:p,updateExistingSession:y,deleteExistingSession:E,refreshSessions:m}},kD=r=>{const{user:e}=Yh(),[n,s]=H.useState([]),[o,u]=H.useState(!1),[f,m]=H.useState(!1),[p,y]=H.useState(null),E=async(V=r)=>{if(!V||!e){s([]);return}try{u(!0),y(null);const j=await DD(V);j.success?s(j.messages):y(j.error)}catch(j){y(j.message)}finally{u(!1)}},b=async V=>{if(!(!r||!e||!V.trim()))try{m(!0),y(null);const j={id:`temp_${Date.now()}`,text:V,isUser:!0,timestamp:new Date};s(W=>[...W,j]),await Pl(r,j);const K=[...n,j].slice(-10).map(W=>({role:W.isUser?"user":"assistant",content:W.text})),q=await Fw(V,r,K);if(q&&q.response){const W={id:`ai_${Date.now()}`,text:q.response.message,isUser:!1,timestamp:new Date};if(s(ne=>[...ne,W]),await Pl(r,W),n.length===0){const ne=qw(V);await $h(r,{title:ne})}return W}else throw new Error("No response from AI")}catch(j){y(j.message);const K={id:`error_${Date.now()}`,text:"I'm sorry, I encountered an error. Please try again.",isUser:!1,timestamp:new Date};s(q=>[...q,K]),await Pl(r,K)}finally{m(!1)}},x=()=>{s([]),y(null)};return H.useEffect(()=>{r?E(r):x()},[r,e]),{messages:n,loading:o,sending:f,error:p,sendMessage:b,loadMessages:E,clearMessages:x,refreshMessages:()=>E(r)}},LD=()=>{const{user:r}=Yh(),[e,n]=H.useState(!1),[s,o]=H.useState(null);return{createNewChat:async(f="")=>{if(!r)return o("User not authenticated"),null;try{n(!0),o(null);const m=await Bw(r.uid,"New Cooking Session");if(!m.success)return o(m.error),null;const p=m.session;if(f.trim()){const y={id:`initial_${Date.now()}`,text:f,isUser:!0,timestamp:new Date};await Pl(p.id,y);const E=await Fw(f,p.id);if(E&&E.response){const b={id:`ai_initial_${Date.now()}`,text:E.response.message,isUser:!1,timestamp:new Date};await Pl(p.id,b);const x=qw(f);await $h(p.id,{title:x,lastMessage:f.substring(0,100)+(f.length>100?"...":"")})}}return p}catch(m){return o(m.message),null}finally{n(!1)}},loading:e,error:s}};function UD(){const{user:r,logout:e}=Yh(),{sessions:n,loading:s,deleteExistingSession:o}=VD(),{createNewChat:u,loading:f}=LD(),[m,p]=H.useState(!1),[y,E]=H.useState(!1),[b,x]=H.useState(!1),[V,j]=H.useState(null),{messages:K,loading:q,sending:W,error:ne,sendMessage:se,clearMessages:ye}=kD(V),Ie=H.useRef(null),[Ee,N]=H.useState("");H.useEffect(()=>{const de=()=>{const et=window.innerWidth<1024;x(et),et&&E(!1)};return de(),window.addEventListener("resize",de),()=>window.removeEventListener("resize",de)},[]),H.useEffect(()=>{Ie.current?.scrollIntoView({behavior:"smooth"})},[K,W]),H.useEffect(()=>{!V&&n.length>0&&!s&&j(n[0].id)},[n,V,s]);const S=async de=>{if(de.preventDefault(),!Ee.trim()||!V)return;const et=Ee;N("");try{await se(et)}catch(Y){console.error("Failed to send message:",Y)}},R=async()=>{if(!f)try{const de=await u();de&&(j(de.id),b&&p(!1))}catch(de){console.error("Failed to create new chat:",de)}},O=de=>{j(de.id),b&&p(!1)},k=async(de,et)=>{if(et.stopPropagation(),window.confirm("Are you sure you want to delete this chat?"))try{if(await o(de),de===V){const Y=n.filter(ae=>ae.id!==de);Y.length>0?j(Y[0].id):(j(null),ye())}}catch(Y){console.error("Failed to delete session:",Y)}},U=async()=>{try{await e(),j(null),ye()}catch(de){console.error("Failed to logout:",de)}},I=de=>de?(de.toDate?de.toDate():new Date(de)).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"";return r?s&&n.length===0&&!V?T.jsx("div",{className:"flex h-screen bg-stone-50 font-sans text-slate-800 items-center justify-center",children:T.jsxs("div",{className:"text-center",children:[T.jsx(Ht,{className:"w-16 h-16 text-orange-600 mx-auto mb-4 animate-pulse"}),T.jsx("p",{className:"text-stone-600",children:"Loading your cooking sessions..."})]})}):!V&&!f?T.jsxs("div",{className:"flex h-screen bg-stone-50 font-sans text-slate-800 overflow-hidden",children:[b&&T.jsxs("div",{className:`fixed inset-0 z-50 lg:hidden ${m?"pointer-events-auto":"pointer-events-none"}`,children:[T.jsx("div",{className:`absolute inset-0 bg-stone-900/60 backdrop-blur-sm transition-opacity duration-300 ${m?"opacity-100":"opacity-0"}`,onClick:()=>p(!1)}),T.jsxs("div",{className:`absolute left-0 top-0 bottom-0 w-72 bg-white shadow-2xl flex flex-col transition-transform duration-300 ${m?"translate-x-0":"-translate-x-full"}`,children:[T.jsxs("div",{className:"p-5 flex items-center justify-between border-b border-stone-100",children:[T.jsxs("div",{className:"flex items-center gap-2 text-orange-600",children:[T.jsx(Ht,{className:"w-6 h-6"}),T.jsx("span",{className:"font-bold text-xl",children:"CookMate"})]}),T.jsx("button",{onClick:()=>p(!1),className:"p-2 text-stone-400",children:T.jsx(rh,{className:"w-5 h-5"})})]}),T.jsx("div",{className:"p-4",children:T.jsxs("button",{onClick:R,disabled:f,className:"w-full flex items-center gap-3 px-4 py-3 bg-orange-600 text-white rounded-xl shadow-md font-medium disabled:opacity-50",children:[T.jsx(Ha,{className:"w-5 h-5"}),T.jsx("span",{children:f?"Creating...":"New Chat"})]})}),T.jsx("div",{className:"flex-1"}),T.jsx(Kc,{collapsed:!1,user:r,onLogout:U})]})]}),!b&&T.jsxs("div",{className:`${y?"w-20":"w-72"} bg-white border-r border-stone-200 flex flex-col transition-all duration-300 relative z-20`,children:[T.jsxs("div",{className:"h-16 flex items-center justify-between px-5 border-b border-stone-100",children:[!y&&T.jsxs("div",{className:"flex items-center gap-2 text-orange-600",children:[T.jsx(Ht,{className:"w-6 h-6"}),T.jsx("span",{className:"font-bold text-xl",children:"CookMate"})]}),y&&T.jsx("div",{className:"w-full flex justify-center text-orange-600",children:T.jsx(Ht,{className:"w-6 h-6"})}),T.jsx("button",{onClick:()=>E(!y),className:"p-1.5 text-stone-400 hover:bg-stone-100 rounded-lg",children:T.jsx(Dl,{className:"w-5 h-5"})})]}),T.jsx("div",{className:"p-4",children:T.jsxs("button",{onClick:R,disabled:f,className:`flex items-center justify-center gap-2 w-full py-3 rounded-xl transition-all shadow-sm disabled:opacity-50 ${y?"bg-orange-50 text-orange-600":"bg-orange-600 text-white"}`,children:[T.jsx(Ha,{className:"w-5 h-5"}),!y&&T.jsx("span",{className:"font-medium",children:f?"Creating...":"New Chat"})]})}),T.jsx("div",{className:"flex-1"}),T.jsx(Kc,{collapsed:y,user:r,onLogout:U})]}),T.jsxs("div",{className:"flex-1 flex flex-col min-w-0 bg-stone-50/50 relative",children:[T.jsxs("div",{className:"lg:hidden h-16 bg-white/80 backdrop-blur-md border-b border-stone-200 flex items-center justify-between px-4 sticky top-0 z-10",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("button",{onClick:()=>p(!0),className:"p-2 -ml-2 text-stone-600",children:T.jsx(Dl,{className:"w-6 h-6"})}),T.jsxs("div",{className:"flex items-center gap-2 text-orange-600",children:[T.jsx(Ht,{className:"w-5 h-5"}),T.jsx("span",{className:"font-bold text-lg",children:"CookMate"})]})]}),T.jsx("button",{onClick:R,disabled:f,className:"p-2 text-orange-600 bg-orange-50 rounded-full disabled:opacity-50",children:T.jsx(Ha,{className:"w-5 h-5"})})]}),T.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:T.jsxs("div",{className:"text-center max-w-md",children:[T.jsx(Ym,{className:"w-16 h-16 text-orange-600 mx-auto mb-4"}),T.jsx("h2",{className:"text-2xl font-bold text-stone-800 mb-2",children:"Start a New Cooking Conversation"}),T.jsx("p",{className:"text-stone-600 mb-6",children:"Create your first chat session and let CookMate help you with your culinary adventures!"}),T.jsx("button",{onClick:R,disabled:f,className:"px-6 py-3 bg-orange-600 text-white rounded-xl font-medium hover:bg-orange-700 transition-colors disabled:opacity-50",children:f?"Creating Chat...":"Start New Chat"})]})})]})]}):T.jsxs("div",{className:"flex h-screen bg-stone-50 font-sans text-slate-800 overflow-hidden",children:[b&&T.jsxs("div",{className:`fixed inset-0 z-50 lg:hidden ${m?"pointer-events-auto":"pointer-events-none"}`,children:[T.jsx("div",{className:`absolute inset-0 bg-stone-900/60 backdrop-blur-sm transition-opacity duration-300 ${m?"opacity-100":"opacity-0"}`,onClick:()=>p(!1)}),T.jsxs("div",{className:`absolute left-0 top-0 bottom-0 w-72 bg-white shadow-2xl flex flex-col transition-transform duration-300 ${m?"translate-x-0":"-translate-x-full"}`,children:[T.jsxs("div",{className:"p-5 flex items-center justify-between border-b border-stone-100",children:[T.jsxs("div",{className:"flex items-center gap-2 text-orange-600",children:[T.jsx(Ht,{className:"w-6 h-6"}),T.jsx("span",{className:"font-bold text-xl",children:"CookMate"})]}),T.jsx("button",{onClick:()=>p(!1),className:"p-2 text-stone-400",children:T.jsx(rh,{className:"w-5 h-5"})})]}),T.jsx("div",{className:"p-4",children:T.jsxs("button",{onClick:R,disabled:f,className:"w-full flex items-center gap-3 px-4 py-3 bg-orange-600 text-white rounded-xl shadow-md font-medium disabled:opacity-50",children:[T.jsx(Ha,{className:"w-5 h-5"}),T.jsx("span",{children:f?"Creating...":"New Chat"})]})}),T.jsx("div",{className:"flex-1 overflow-y-auto",children:T.jsx(Y0,{sessions:n,currentSessionId:V,onSelectSession:O,onDeleteSession:k,collapsed:!1})}),T.jsx(Kc,{collapsed:!1,user:r,onLogout:U})]})]}),!b&&T.jsxs("div",{className:`${y?"w-20":"w-72"} bg-white border-r border-stone-200 flex flex-col transition-all duration-300 relative z-20`,children:[T.jsxs("div",{className:"h-16 flex items-center justify-between px-5 border-b border-stone-100",children:[!y&&T.jsxs("div",{className:"flex items-center gap-2 text-orange-600",children:[T.jsx(Ht,{className:"w-6 h-6"}),T.jsx("span",{className:"font-bold text-xl",children:"CookMate"})]}),y&&T.jsx("div",{className:"w-full flex justify-center text-orange-600",children:T.jsx(Ht,{className:"w-6 h-6"})}),T.jsx("button",{onClick:()=>E(!y),className:"p-1.5 text-stone-400 hover:bg-stone-100 rounded-lg",children:T.jsx(Dl,{className:"w-5 h-5"})})]}),T.jsx("div",{className:"p-4",children:T.jsxs("button",{onClick:R,disabled:f,className:`flex items-center justify-center gap-2 w-full py-3 rounded-xl transition-all shadow-sm disabled:opacity-50 ${y?"bg-orange-50 text-orange-600":"bg-orange-600 text-white"}`,children:[T.jsx(Ha,{className:"w-5 h-5"}),!y&&T.jsx("span",{className:"font-medium",children:f?"Creating...":"New Chat"})]})}),T.jsx("div",{className:"flex-1 overflow-y-auto",children:T.jsx(Y0,{sessions:n,currentSessionId:V,onSelectSession:O,onDeleteSession:k,collapsed:y})}),T.jsx(Kc,{collapsed:y,user:r,onLogout:U})]}),T.jsxs("div",{className:"flex-1 flex flex-col min-w-0 bg-stone-50/50 relative",children:[T.jsxs("div",{className:"lg:hidden h-16 bg-white/80 backdrop-blur-md border-b border-stone-200 flex items-center justify-between px-4 sticky top-0 z-10",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("button",{onClick:()=>p(!0),className:"p-2 -ml-2 text-stone-600",children:T.jsx(Dl,{className:"w-6 h-6"})}),T.jsxs("div",{className:"flex items-center gap-2 text-orange-600",children:[T.jsx(Ht,{className:"w-5 h-5"}),T.jsx("span",{className:"font-bold text-lg",children:"CookMate"})]})]}),T.jsx("button",{onClick:R,disabled:f,className:"p-2 text-orange-600 bg-orange-50 rounded-full disabled:opacity-50",children:T.jsx(Ha,{className:"w-5 h-5"})})]}),T.jsx("div",{className:"flex-1 overflow-y-auto p-4 lg:p-8 scroll-smooth",children:T.jsxs("div",{className:"max-w-3xl mx-auto space-y-8 pb-4",children:[q?T.jsx("div",{className:"flex items-center justify-center py-8",children:T.jsx(Ht,{className:"w-8 h-8 text-orange-600 animate-pulse"})}):K.length===0?T.jsxs("div",{className:"text-center py-8",children:[T.jsx(Ym,{className:"w-12 h-12 text-orange-600 mx-auto mb-4"}),T.jsx("p",{className:"text-stone-600",children:"Start your cooking conversation!"})]}):K.map(de=>T.jsxs("div",{className:`flex gap-4 ${de.isUser?"flex-row-reverse":""} animate-slideUp`,children:[T.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center shadow-sm ${de.isUser?"bg-stone-800 text-white":"bg-white border border-stone-200 text-orange-600"}`,children:de.isUser?r.displayName?.[0]?.toUpperCase()||r.email[0].toUpperCase():T.jsx(Q0,{className:"w-5 h-5 fill-orange-500"})}),T.jsxs("div",{className:`flex flex-col max-w-[85%] lg:max-w-[75%] ${de.isUser?"items-end":"items-start"}`,children:[T.jsx("div",{className:`px-5 py-4 text-[15px] leading-relaxed shadow-sm whitespace-pre-wrap ${de.isUser?"bg-orange-600 text-white rounded-2xl rounded-tr-sm":"bg-white border border-stone-200 text-stone-700 rounded-2xl rounded-tl-sm"}`,children:de.text}),T.jsx("span",{className:"text-[11px] text-stone-400 mt-1.5 px-1 font-medium",children:I(de.timestamp)})]})]},de.id)),W&&T.jsxs("div",{className:"flex gap-4 animate-slideUp",children:[T.jsx("div",{className:"w-10 h-10 rounded-full bg-white border border-stone-200 flex items-center justify-center",children:T.jsx(Q0,{className:"w-5 h-5 text-orange-500"})}),T.jsx("div",{className:"px-5 py-4 bg-white border border-stone-200 rounded-2xl rounded-tl-sm text-stone-500 text-sm italic",children:"Thinking..."})]}),ne&&T.jsxs("div",{className:"flex gap-4 animate-slideUp",children:[T.jsx("div",{className:"w-10 h-10 rounded-full bg-red-100 border border-red-200 flex items-center justify-center",children:T.jsx(rh,{className:"w-5 h-5 text-red-500"})}),T.jsxs("div",{className:"px-5 py-4 bg-red-50 border border-red-200 rounded-2xl rounded-tl-sm text-red-700 text-sm",children:["Error: ",ne]})]}),T.jsx("div",{ref:Ie})]})}),T.jsx("div",{className:"p-4 lg:p-6 bg-gradient-to-t from-stone-50 via-stone-50 to-transparent",children:T.jsx("div",{className:"max-w-3xl mx-auto relative",children:T.jsxs("form",{onSubmit:S,className:"relative flex items-center bg-white rounded-full shadow-lg border border-stone-200 focus-within:ring-2 focus-within:ring-orange-500/20 focus-within:border-orange-500 transition-all",children:[T.jsx("input",{type:"text",value:Ee,onChange:de=>N(de.target.value),placeholder:"Type a message...",className:"flex-1 py-4 pl-6 pr-14 bg-transparent border-none focus:ring-0 focus:outline-none placeholder:text-stone-400 text-stone-700",disabled:!V||W}),T.jsx("div",{className:"absolute right-2 p-1",children:T.jsx("button",{type:"submit",disabled:!Ee.trim()||W||!V,className:`p-2.5 rounded-full transition-all flex items-center justify-center ${Ee.trim()&&V&&!W?"bg-orange-600 text-white hover:bg-orange-700":"bg-stone-100 text-stone-300"}`,children:T.jsx(vD,{className:"w-4 h-4 ml-0.5"})})})]})})})]})]}):T.jsx("div",{className:"flex h-screen bg-stone-50 font-sans text-slate-800 items-center justify-center",children:T.jsxs("div",{className:"text-center p-8 bg-white rounded-xl shadow-lg border border-stone-200 max-w-md",children:[T.jsx(Ht,{className:"w-16 h-16 text-orange-600 mx-auto mb-4"}),T.jsx("h2",{className:"text-2xl font-bold text-stone-800 mb-2",children:"Welcome to CookMate"}),T.jsx("p",{className:"text-stone-600 mb-6",children:"Please sign in to start chatting and save your cooking conversations."}),T.jsxs("div",{className:"space-y-3",children:[T.jsx("a",{href:"/signin",className:"block w-full py-3 px-4 bg-orange-600 text-white rounded-xl font-medium hover:bg-orange-700 transition-colors",children:"Sign In"}),T.jsx("a",{href:"/signup",className:"block w-full py-3 px-4 border border-stone-300 text-stone-700 rounded-xl font-medium hover:bg-stone-50 transition-colors",children:"Create Account"})]})]})})}const Y0=({sessions:r,currentSessionId:e,onSelectSession:n,onDeleteSession:s,collapsed:o})=>r.length===0?T.jsx("div",{className:"p-4 text-center text-stone-500 text-sm",children:o?"No chats":"No chat sessions yet"}):T.jsx("div",{className:"p-2",children:r.map(u=>T.jsxs("div",{onClick:()=>n(u),className:`group flex items-center gap-3 p-3 rounded-xl cursor-pointer transition-all mb-1 ${u.id===e?"bg-orange-50 border border-orange-200":"hover:bg-stone-50"}`,children:[T.jsx("div",{className:"flex-shrink-0",children:T.jsx(Ym,{className:`w-5 h-5 ${u.id===e?"text-orange-600":"text-stone-400"}`})}),!o&&T.jsxs("div",{className:"flex-1 min-w-0",children:[T.jsx("p",{className:`text-sm font-medium truncate ${u.id===e?"text-orange-700":"text-stone-700"}`,children:u.title}),T.jsx("p",{className:"text-xs text-stone-500 truncate",children:PD(u.lastMessage)})]}),!o&&T.jsx("button",{onClick:f=>s(u.id,f),className:"opacity-0 group-hover:opacity-100 p-1 text-stone-400 hover:text-red-500 transition-all",children:T.jsx(wD,{className:"w-4 h-4"})})]},u.id))}),Kc=({collapsed:r,user:e,onLogout:n})=>T.jsx("div",{className:"p-4 border-t border-stone-100 mt-auto bg-stone-50/50",children:T.jsxs("div",{className:`flex items-center ${r?"justify-center":"gap-3"} w-full p-2 rounded-xl hover:bg-white hover:shadow-sm transition-all`,children:[T.jsx("div",{className:"w-9 h-9 rounded-full flex items-center justify-center font-medium text-xs shadow-sm flex-shrink-0 bg-gradient-to-tr from-orange-400 to-red-500 text-white",children:e.displayName?.[0]?.toUpperCase()||e.email[0].toUpperCase()}),!r&&T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"text-left flex-1 overflow-hidden",children:[T.jsx("p",{className:"text-sm font-semibold text-stone-700 truncate",children:e.displayName||"User"}),T.jsx("p",{className:"text-xs text-stone-500 truncate",children:e.email})]}),T.jsx("button",{onClick:n,className:"p-2 text-stone-400 hover:text-stone-600 rounded-lg hover:bg-stone-100 transition-all",title:"Sign Out",children:T.jsx(fD,{className:"w-4 h-4"})})]})]})});function PD(r){return r?r.length>40?r.substring(0,40)+"...":r:"New chat session"}function jD(){const[r,e]=H.useState(!1),[n,s]=H.useState(""),[o,u]=H.useState(""),f=Gp(),m=async p=>{p.preventDefault(),e(!0);try{await OE(Bs,n,o),alert("Welcome back!"),f("/home")}catch(y){console.error("Login Error:",y),alert("Login failed: "+y.message)}finally{e(!1)}};return T.jsxs("div",{className:"min-h-screen bg-stone-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8 font-sans",children:[T.jsx("div",{className:"absolute top-6 left-6",children:T.jsxs("a",{href:"/",className:"flex items-center gap-2 text-stone-500 hover:text-orange-600 transition-colors text-sm font-medium",children:[T.jsx(Pw,{className:"w-4 h-4"})," Back to Home"]})}),T.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[T.jsxs("div",{className:"flex justify-center items-center gap-2 mb-6",children:[T.jsx("div",{className:"w-10 h-10 bg-gradient-to-tr from-orange-500 to-orange-600 rounded-xl flex items-center justify-center shadow-lg shadow-orange-200",children:T.jsx(Ht,{className:"w-6 h-6 text-white"})}),T.jsx("span",{className:"text-2xl font-bold text-stone-800 tracking-tight",children:"CookMate"})]}),T.jsx("h2",{className:"mt-2 text-center text-3xl font-extrabold text-stone-900",children:"Welcome back"})]}),T.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:T.jsxs("div",{className:"bg-white py-8 px-4 shadow-xl border border-stone-100 sm:rounded-2xl sm:px-10 relative overflow-hidden",children:[T.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-orange-400 to-orange-600"}),T.jsxs("form",{className:"space-y-5",onSubmit:m,children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-semibold text-stone-600 uppercase tracking-wide mb-1.5",children:"Email address"}),T.jsxs("div",{className:"relative group",children:[T.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:T.jsx(zw,{className:"h-5 w-5 text-stone-400"})}),T.jsx("input",{type:"email",required:!0,value:n,onChange:p=>s(p.target.value),className:"block w-full pl-10 pr-3 py-2.5 border border-stone-200 rounded-xl focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 outline-none",placeholder:"you@example.com"})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-semibold text-stone-600 uppercase tracking-wide mb-1.5",children:"Password"}),T.jsxs("div",{className:"relative group",children:[T.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:T.jsx(jw,{className:"h-5 w-5 text-stone-400"})}),T.jsx("input",{type:"password",required:!0,value:o,onChange:p=>u(p.target.value),className:"block w-full pl-10 pr-3 py-2.5 border border-stone-200 rounded-xl focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 outline-none",placeholder:""})]})]}),T.jsx("button",{type:"submit",disabled:r,className:"w-full flex justify-center items-center gap-2 py-3 px-4 border border-transparent rounded-xl shadow-md bg-orange-600 hover:bg-orange-700 text-white font-semibold focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 transition-all disabled:opacity-70",children:r?T.jsx("span",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):T.jsxs(T.Fragment,{children:["Sign in ",T.jsx(Xp,{className:"w-4 h-4"})]})})]}),T.jsx("div",{className:"mt-6 text-center",children:T.jsxs("p",{className:"text-sm text-stone-600",children:["Don't have an account? ",T.jsx("a",{href:"/signup",className:"font-semibold text-orange-600 hover:text-orange-500",children:"Sign up"})]})})]})})]})}function zD(){const[r,e]=H.useState(!1),[n,s]=H.useState(""),[o,u]=H.useState(""),[f,m]=H.useState(""),p=Gp(),y=async E=>{E.preventDefault(),e(!0);try{const x=(await DE(Bs,o,f)).user;await ME(x,{displayName:n}),await Gm(Hs(jn,"users",x.uid),{uid:x.uid,name:n,email:o,createdAt:new Date().toISOString(),favorites:[]}),alert("Account created successfully!"),p("/home")}catch(b){console.error("Signup Error:",b),alert(b.message)}finally{e(!1)}};return T.jsxs("div",{className:"min-h-screen bg-stone-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8 font-sans",children:[T.jsx("div",{className:"absolute top-6 left-6",children:T.jsxs("a",{href:"/",className:"flex items-center gap-2 text-stone-500 hover:text-orange-600 transition-colors text-sm font-medium",children:[T.jsx(Pw,{className:"w-4 h-4"}),"Back to Home"]})}),T.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[T.jsxs("div",{className:"flex justify-center items-center gap-2 mb-6 animate-fadeIn",children:[T.jsx("div",{className:"w-10 h-10 bg-gradient-to-tr from-orange-500 to-orange-600 rounded-xl flex items-center justify-center shadow-lg shadow-orange-200",children:T.jsx(Ht,{className:"w-6 h-6 text-white"})}),T.jsx("span",{className:"text-2xl font-bold text-stone-800 tracking-tight",children:"CookMate"})]}),T.jsx("h2",{className:"mt-2 text-center text-3xl font-extrabold text-stone-900",children:"Create your account"}),T.jsx("p",{className:"mt-2 text-center text-sm text-stone-600",children:"Start your AI cooking journey today."})]}),T.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:T.jsxs("div",{className:"bg-white py-8 px-4 shadow-[0_8px_30px_rgb(0,0,0,0.04)] border border-stone-100 sm:rounded-2xl sm:px-10 relative overflow-hidden",children:[T.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-orange-400 to-orange-600"}),T.jsxs("form",{className:"space-y-5",onSubmit:y,children:[T.jsxs("div",{className:"animate-slideUp",children:[T.jsx("label",{className:"block text-xs font-semibold text-stone-600 uppercase tracking-wide mb-1.5",children:"Full Name"}),T.jsxs("div",{className:"relative group",children:[T.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:T.jsx(AD,{className:"h-5 w-5 text-stone-400 group-focus-within:text-orange-500 transition-colors"})}),T.jsx("input",{type:"text",required:!0,value:n,onChange:E=>s(E.target.value),className:"block w-full pl-10 pr-3 py-2.5 border border-stone-200 rounded-xl leading-5 bg-stone-50 text-stone-900 placeholder-stone-400 focus:outline-none focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all sm:text-sm",placeholder:"John Doe"})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-semibold text-stone-600 uppercase tracking-wide mb-1.5",children:"Email address"}),T.jsxs("div",{className:"relative group",children:[T.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:T.jsx(zw,{className:"h-5 w-5 text-stone-400 group-focus-within:text-orange-500 transition-colors"})}),T.jsx("input",{type:"email",required:!0,value:o,onChange:E=>u(E.target.value),className:"block w-full pl-10 pr-3 py-2.5 border border-stone-200 rounded-xl leading-5 bg-stone-50 text-stone-900 placeholder-stone-400 focus:outline-none focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all sm:text-sm",placeholder:"you@example.com"})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-semibold text-stone-600 uppercase tracking-wide mb-1.5",children:"Password"}),T.jsxs("div",{className:"relative group",children:[T.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:T.jsx(jw,{className:"h-5 w-5 text-stone-400 group-focus-within:text-orange-500 transition-colors"})}),T.jsx("input",{type:"password",required:!0,value:f,onChange:E=>m(E.target.value),className:"block w-full pl-10 pr-3 py-2.5 border border-stone-200 rounded-xl leading-5 bg-stone-50 text-stone-900 placeholder-stone-400 focus:outline-none focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all sm:text-sm",placeholder:""})]})]}),T.jsx("button",{type:"submit",disabled:r,className:"w-full flex justify-center items-center gap-2 py-3 px-4 border border-transparent rounded-xl shadow-md shadow-orange-200 text-sm font-semibold text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 transition-all transform hover:-translate-y-0.5 disabled:opacity-70 disabled:cursor-not-allowed",children:r?T.jsx("span",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):T.jsxs(T.Fragment,{children:["Create account ",T.jsx(Xp,{className:"w-4 h-4"})]})})]}),T.jsx("div",{className:"mt-6 text-center",children:T.jsxs("p",{className:"text-sm text-stone-600",children:["Already have an account?"," ",T.jsx("a",{href:"/signin",className:"font-semibold text-orange-600 hover:text-orange-500 transition-colors",children:"Log in"})]})})]})})]})}function BD(){return T.jsx(Lw,{children:T.jsx(UN,{children:T.jsx("div",{className:"App",children:T.jsxs(mN,{children:[T.jsx(Nl,{path:"/",element:T.jsx(xD,{})}),T.jsx(Nl,{path:"/home",element:T.jsx(UD,{})}),T.jsx(Nl,{path:"/signin",element:T.jsx(jD,{})}),T.jsx(Nl,{path:"/signup",element:T.jsx(zD,{})})]})})})})}bI.createRoot(document.getElementById("root")).render(T.jsx(H.StrictMode,{children:T.jsx(Lw,{children:T.jsx(BD,{})})}));
